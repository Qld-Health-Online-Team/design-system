function populateDatastore(){var e=[],t=[],i=[],n=[],a=5,o=15,s=3,c=10,r=[[-27.470125,153.021072],[-27.593294,153.266418],[-27.639168,153.109451],[-27.566668,151.949997],[-27.616667,152.766663],[-19.258965,146.816956],[-16.925491,145.75412],[-23.375,150.511673],[-21.144337,149.186813],[-23.843138,151.268356]],d={},l=["Brisbane","Redland City","Logan City","Toowoomba","Ipswich","Townsville","Cairns","Rockhampton","Mackay","Gladstone"],h=[],u={},f={},p={},v={};if("undefined"!=typeof serviceFinderData){var _=serviceFinderData.jwt.getPayload().fullName;function g(t){console.log("Adding service category "+t),serviceFinderData.collection("service-categories").add({name:"Category "+t,status:"active",updatedBy:_,updatedDate:Date.now()}).then((function(i){e.push(i.id),t<a?g(t+1):m(1)}))}function m(e){console.log("Adding HHS "+e);var t=1===e?"darling-downs":"hhs-"+e;serviceFinderData.collection("hhs").add({name:1===e?"Darling Downs":"HHS "+e,abbrev:"HHS"+e,rsd_org_id:"123",top_services:[],status:"active",updatedBy:_,updatedDate:Date.now()},t).then((function(t){i.push(t.id),d[t.id]=t.name,e<s?m(e+1):y(1)}))}function y(e){console.log("Adding facility "+e);var t=i[Math.floor(Math.random()*s)];serviceFinderData.collection("hhs").doc(t).get().then((function(i){var a=i.name,o="facility-"+e;serviceFinderData.collection("facilities").add({name:l[e-1],web_path:o,code:"123",abbrev:"F"+e,hhs_id:t,hhs_name:a,description:"This is the description of the facility",content:"<p>This is the content for the facility</p>",url:"",top_services:[],other_services:"",status:"active",building:"",physical_address_street:"Pechey Street",physical_address_suburb:"Toowoomba City",physical_address_postcode:"4350",location_details:"Extra details about the location",latitude:r[e-1][0],longitude:r[e-1][1],postal_address_street:"Pechey Street",postal_address_suburb:"Toowoomba City",postal_address_postcode:"4350",phone_number:"+61 7 4616 6000",fax_number:"+61 7 4616 6170",email_address:"DDHHS@health.qld.gov.au",updatedBy:_,updatedDate:Date.now()}).then((function(t){n.push(t.id),h.push(t.web_path),e<c?y(e+1):D(1)}))}))}function D(i){console.log("Adding service "+i);var n="service-"+i,s=Math.floor(Math.random()*a)+1,c=e.sort((function(){Math.random()})).slice(0,s),r=String.fromCharCode(65+Math.floor(26*Math.random()));serviceFinderData.collection("services").add({name:r+"Service "+i,web_path:n,categories:c,description:"The description of this service",status:"active",top_in_hhs:[],top_in_facilities:[],tier_2_name:"",tier_2_code:"",updatedBy:_,updatedDate:Date.now()}).then((function(e){t.push(e.id),u[e.id]=e.name,f[e.id]=e.web_path,i<o?D(i+1):b(0)}))}function b(e){console.log("Adding services to HHS "+(e+1));var n=i[e],a=Math.floor(Math.random()*o)+1,c=t.sort((function(){Math.random()})).slice(0,a),r=[];c.forEach((function(t,i){serviceFinderData.collection("hhs-services").add({service_id:t,hhs_id:n,name:u[t]+" - "+d[n],content:"\n                        <h3>Our services</h3>\n                        <ul>\n                            <li>Teeth, gums and mouth check ups</li>\n                            <li>Fillings</li>\n                            <li>Taking out damaged or decayed teeth</li>\n                            <li>Fitting of plates and braces (orthodontics)</li>\n                            <li>Artificial teeth or dentures</li>\n                            <li>Emergency treatment</li>\n                            <li>Advice on the best ways to keep your mouth, teeth and gums healthy.</li>\n                        </ul>\n                        <h3>Who can access this service?</h3>\n                        <h4>Adults</h4>\n                        <ul>\n                            <li>Adults can get free dental care if they're a Queensland resident and have one of the following cards:</li>\n                            <li>Pensioner Concession Card issued by the Department of Veteran's Affairs</li>\n                            <li>Pensioner Concession Card issued by Centrelink</li>\n                            <li>Health Care Card</li>\n                            <li>Commonwealth Seniors Health Card</li>\n                            <li>Queensland Seniors Card.</li>\n                        </ul>\n\n                        <h4>Children</h4>\n\n                        <p>Children can get free dental care if they're:</p>\n                        <ul>\n                            <li>17 or younger</li>\n                            <li>eligible for the Child Dental Benefits Schedule.</li>\n                        </ul>\n                        <p>The Child Dental Benefits Schedule doesn't include orthodontics or cosmetic dental work. Read more about the Child Dental Benefits Schedule on the Services Australia website.</p>\n                    ",updatedBy:_,updatedDate:Date.now()}).then((function(){1===Math.floor(2*Math.random())&&(r.push(t),p.hasOwnProperty(t)||(p[t]=[]),p[t].push(n)),i===c.length-1&&serviceFinderData.collection("hhs").doc(n).get().then((function(t){t.top_services=r,serviceFinderData.collection("hhs").doc(n).update(t).then((function(){e<s-1?b(e+1):w(0)}))}))}))}))}function w(e){console.log("Adding services to facility "+(e+1));var i=n[e],a=Math.floor(Math.random()*o)+1,s=t.sort((function(){Math.random()})).slice(0,a),d=[];s.forEach((function(n,a){var o=f[n]+"-"+h[e];serviceFinderData.collection("service-locations").add({service_id:n,facility_id:i,name:u[n]+" - "+l[e],web_path:o,facility_level:1===Math.floor(2*Math.random())?"major":"limited",rsd_service_id:"123",description:"This is the description of the service location",content:"This is the content for the service location",status:"active",building:"",physical_address_street:"Pechey Street",physical_address_suburb:"Toowoomba City",physical_address_postcode:"4350",location_details:"Extra details about the location",latitude:r[e][0],longitude:r[e][1],phone_number:"+61 7 4616 6000",fax_number:"+61 7 4616 6170",email_address:"DDHHS@health.qld.gov.au",contact_label:"Contact us",opening_hours:"<p>0800 - 1630</p>",updatedBy:_,updatedDate:Date.now()}).then((function(){1===Math.floor(2*Math.random())&&(d.push(n),v.hasOwnProperty(n)||(v[n]=[]),v[n].push(i)),a===s.length-1&&serviceFinderData.collection("facilities").doc(i).get().then((function(n){n.top_services=d,serviceFinderData.collection("facilities").doc(i).update(n),e<c-1?w(e+1):t.forEach((function(e,t){serviceFinderData.collection("services").doc(e).get().then((function(t){p.hasOwnProperty(t.id)&&(t.top_in_hhs=p[t.id]),v.hasOwnProperty(t.id)&&(t.top_in_facilities=v[t.id]),serviceFinderData.collection("services").doc(e).update(t)}))}))}))}))}))}serviceFinderData.collection("service-categories").get().then((function(e){0===e.length&&g(1)}))}}function clearDatastore(){["service-categories","hhs","facilities","services","hhs-services","service-locations"].forEach((function(e){!function(e){serviceFinderData.collection(e).get().then((function(t){t.forEach((function(t){serviceFinderData.collection(e).doc(t.id).delete().then((function(){console.log(t.id+" deleted")}))}))}))}(e)}))}