{"version":3,"file":"js/main.js","mappings":"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","sources":["webpack://@qhealth-design-system/core/./src/components/_global/js/toggle_and_tool_tip/global.js","webpack://@qhealth-design-system/core/./src/components/promo_panel/js/global.js","webpack://@qhealth-design-system/core/./src/index.js","webpack://@qhealth-design-system/core/./src/components/basic_search/js/global.js","webpack://@qhealth-design-system/core/./src/components/date_picker/js/global.js","webpack://@qhealth-design-system/core/./src/components/mega_main_navigation/js/global.js","webpack://@qhealth-design-system/core/./src/components/_global/js/_polyfills/global.js","webpack://@qhealth-design-system/core/./src/components/video_player/js/global.js","webpack://@qhealth-design-system/core/./src/components/in_page_navigation/js/global.js","webpack://@qhealth-design-system/core/./src/components/left_hand_navigation/js/global.js","webpack://@qhealth-design-system/core/./src/components/header/js/global.js","webpack://@qhealth-design-system/core/./src/components/accordion/js/global.js","webpack://@qhealth-design-system/core/./src/components/breadcrumbs/js/global.js","webpack://@qhealth-design-system/core/./src/components/card_multi_action/js/global.js","webpack://@qhealth-design-system/core/./src/components/_global/js/global.js","webpack://@qhealth-design-system/core/./src/components/a-z_listing/js/global.js","webpack://@qhealth-design-system/core/./src/components/file_upload/js/global.js","webpack://@qhealth-design-system/core/./src/components/main_navigation/js/global.js","webpack://@qhealth-design-system/core/./src/components/internal_navigation/js/global.js","webpack://@qhealth-design-system/core/./src/components/_global/js/tabs/global.js","webpack://@qhealth-design-system/core/./src/components/toggle_tip/js/global.js","webpack://@qhealth-design-system/core/./src/components/_global/js/modal/global.js","webpack://@qhealth-design-system/core/./src/components/global_alert/js/global.js","webpack://@qhealth-design-system/core/./src/components/_global/js/animate/global.js","webpack://@qhealth-design-system/core/./src/components/code/js/global.js","webpack://@qhealth-design-system/core/./node_modules/prismjs/prism.js","webpack://@qhealth-design-system/core/./src/components/tab/js/global.js","webpack://@qhealth-design-system/core/./src/components/tool_tip/js/global.js"],"sourcesContent":["/**\r\n * Toggle and tool tip components\r\n */\r\n(function (QLD) {\r\n    /**\r\n     * @module toggleToolTips\r\n     */\r\n    var toggleToolTips = {\r\n        // Classes relative to the main component\r\n        contentQueryClass: \":nth-child(1)\",\r\n        // Positioning variables\r\n        marginFromSide: 16,\r\n\r\n        // Function to open the toggle/tool tip\r\n        openToggleToolTip: function (componentName, toggleToolTip, trigger, marginFromTrigger) {\r\n            const content = toggleToolTip.querySelector(this.contentQueryClass);\r\n            const carat = content.nextElementSibling;\r\n\r\n            content.classList.remove(componentName + \"-hidden\");\r\n            content.classList.add(componentName + \"-visible\");\r\n            if (trigger.getAttribute(\"aria-expanded\")) {\r\n                trigger.setAttribute(\"aria-expanded\", \"true\");\r\n            }\r\n            toggleToolTip.setAttribute(\"aria-live\", \"polite\");\r\n            carat.classList.remove(componentName + \"-hidden\");\r\n            carat.classList.add(componentName + \"-visible\");\r\n            trigger.classList.add(componentName + \"-trigger-active\");\r\n            this.positionContentBox(trigger, toggleToolTip, marginFromTrigger);\r\n        },\r\n\r\n        // Function to close the toggle/tool tip\r\n        closeToggleToolTip: function (componentName, toggleToolTip, trigger) {\r\n            const content = toggleToolTip.querySelector(this.contentQueryClass);\r\n            const carat = content.nextElementSibling;\r\n\r\n            content.classList.remove(componentName + \"-visible\");\r\n            content.classList.add(componentName + \"-hidden\");\r\n            if (trigger.getAttribute(\"aria-expanded\")) {\r\n                trigger.setAttribute(\"aria-expanded\", \"false\");\r\n            }\r\n            toggleToolTip.removeAttribute(\"aria-live\");\r\n            carat.classList.remove(componentName + \"-visible\");\r\n            carat.classList.add(componentName + \"-hidden\");\r\n            trigger.classList.remove(componentName + \"-trigger-active\");\r\n        },\r\n\r\n        // Function to close all toggle/tool tips found on the page\r\n        closeAllToggleToolTips: function (componentName, triggers) {\r\n            for (let i = 0; i < triggers.length; i++) {\r\n                const Id = triggers[i].getAttribute(\"data-target\");\r\n\r\n                if (!Id) return;\r\n\r\n                const toggleToolTip = document.getElementById(Id);\r\n                this.closeToggleToolTip(componentName, toggleToolTip, triggers[i]);\r\n            }\r\n        },\r\n\r\n        // Function to get the direction from the metadata provided via class\r\n        getAlignmentDirection: function (content) {\r\n            const alignedClass = \"tip-aligned-\";\r\n            let direction = null;\r\n\r\n            const foundClass = Array.from(content.classList).find((className) => className.includes(alignedClass));\r\n\r\n            if (foundClass) {\r\n                const index = foundClass.indexOf(alignedClass);\r\n                direction = foundClass.slice(index + alignedClass.length);\r\n            }\r\n\r\n            return direction;\r\n        },\r\n\r\n        // Check if the content box is overlapping the ALL sides of the screen\r\n        doesElementOverlapAnySide: function (content) {\r\n            const contentDimensions = content.getBoundingClientRect();\r\n            return !(\r\n                contentDimensions.top >= this.marginFromSide &&\r\n                contentDimensions.left >= this.marginFromSide &&\r\n                contentDimensions.bottom + this.marginFromSide <= document.documentElement.clientHeight &&\r\n                contentDimensions.right + this.marginFromSide <= document.documentElement.clientWidth\r\n            );\r\n        },\r\n\r\n        // Check if the content box is overlapping with the left and right sides of the screen\r\n        doesElementOverlapScreenX: function (element) {\r\n            const contentDimensions = element.getBoundingClientRect();\r\n            return !(contentDimensions.left >= this.marginFromSide && contentDimensions.right + this.marginFromSide <= document.documentElement.clientWidth);\r\n        },\r\n\r\n        // Check if the content box is overlapping with the left and right sides of the screen\r\n        doesElementOverlapScreenY: function (element) {\r\n            const contentDimensions = element.getBoundingClientRect();\r\n            return !(contentDimensions.top >= this.marginFromSide && contentDimensions.bottom + this.marginFromSide <= document.documentElement.clientHeight);\r\n        },\r\n\r\n        // Check if the content box is closer to the left of the screen\r\n        elementCloserToLeft: function (element) {\r\n            const contentDimensions = element.getBoundingClientRect();\r\n            const screenCenter = document.documentElement.clientWidth / 2;\r\n            return contentDimensions.left + contentDimensions.width / 2 < screenCenter;\r\n        },\r\n\r\n        // Check if the content box is closer to the top of the screen\r\n        elementCloserToTop: function (element) {\r\n            const contentDimensions = element.getBoundingClientRect();\r\n            const screenCenter = document.documentElement.clientHeight / 2;\r\n            return contentDimensions.top + contentDimensions.height / 2 < screenCenter;\r\n        },\r\n\r\n        // Function to position the content box dynamically based off the trigger\r\n        positionContentBox: function (trigger, toggleToolTip, marginFromTrigger) {\r\n            const toggleToolTipDimensions = toggleToolTip.getBoundingClientRect();\r\n            const content = toggleToolTip.querySelector(this.contentQueryClass);\r\n            const carat = content.nextElementSibling;\r\n            const triggerDimensions = trigger.getBoundingClientRect();\r\n            const triggerFromTop = triggerDimensions.top + window.scrollY;\r\n            const contentFromTop = toggleToolTipDimensions.top + window.scrollY;\r\n            const contentFromTriggerY = triggerFromTop - contentFromTop;\r\n            const triggerFromLeft = triggerDimensions.left + window.scrollX;\r\n            const contentFromLeft = toggleToolTipDimensions.left + window.scrollX;\r\n            const contentFromTriggerX = triggerFromLeft - contentFromLeft;\r\n            const contentMarginFromTrigger = marginFromTrigger + carat.offsetWidth / 2;\r\n            const direction = this.getAlignmentDirection(content);\r\n\r\n            this.positionCarat(trigger, toggleToolTipDimensions, carat, direction, marginFromTrigger);\r\n\r\n            if (direction === \"top\") {\r\n                content.style.left = `${contentFromTriggerX - content.offsetWidth / 2 + triggerDimensions.width / 2}px`;\r\n                content.style.top = `${contentFromTriggerY - content.offsetHeight - contentMarginFromTrigger}px`;\r\n\r\n                if (this.doesElementOverlapAnySide(content)) {\r\n                    this.checkAlternativesForTopPosition(trigger, toggleToolTipDimensions, content, carat, marginFromTrigger, contentMarginFromTrigger);\r\n                }\r\n            } else if (direction === \"bottom\") {\r\n                content.style.left = `${contentFromTriggerX - content.offsetWidth / 2 + triggerDimensions.width / 2}px`;\r\n                content.style.top = `${contentFromTriggerY + triggerDimensions.height + contentMarginFromTrigger}px`;\r\n\r\n                if (this.doesElementOverlapAnySide(content)) {\r\n                    this.checkAlternativesForBottomPosition(trigger, toggleToolTipDimensions, content, carat, marginFromTrigger, contentMarginFromTrigger);\r\n                }\r\n            } else if (direction === \"left\") {\r\n                content.style.left = `${contentFromTriggerX - content.offsetWidth - contentMarginFromTrigger}px`;\r\n                content.style.top = `${contentFromTriggerY - content.offsetHeight / 2 + triggerDimensions.height / 2}px`;\r\n\r\n                if (this.doesElementOverlapAnySide(content)) {\r\n                    this.checkAlternativesForLeftPosition(trigger, toggleToolTipDimensions, content, carat, marginFromTrigger, contentMarginFromTrigger);\r\n                }\r\n            } else if (direction === \"right\") {\r\n                content.style.left = `${contentFromTriggerX + triggerDimensions.width + contentMarginFromTrigger}px`;\r\n                content.style.top = `${contentFromTriggerY - content.offsetHeight / 2 + triggerDimensions.height / 2}px`;\r\n\r\n                if (this.doesElementOverlapAnySide(content)) {\r\n                    this.checkAlternativesForRightPosition(trigger, toggleToolTipDimensions, content, carat, marginFromTrigger, contentMarginFromTrigger);\r\n                }\r\n            }\r\n        },\r\n\r\n        // If the toggle/tool tip is positioned top, we want to try sliding or inverting the content box\r\n        checkAlternativesForTopPosition: function (trigger, toggleToolTipDimensions, content, carat, marginFromTrigger, contentMarginFromTrigger) {\r\n            const triggerDimensions = trigger.getBoundingClientRect();\r\n            const contentDimensions = content.getBoundingClientRect();\r\n            const triggerFromTop = triggerDimensions.top + window.scrollY;\r\n            const contentFromTop = toggleToolTipDimensions.top + window.scrollY;\r\n            const contentFromTriggerY = triggerFromTop - contentFromTop;\r\n            const triggerFromLeft = triggerDimensions.left + window.scrollX;\r\n            const contentFromLeft = toggleToolTipDimensions.left + window.scrollX;\r\n            const contentFromTriggerX = triggerFromLeft - contentFromLeft;\r\n\r\n            if (this.doesElementOverlapScreenY(content, this.marginFromSide)) {\r\n                content.style.top = `${contentFromTriggerY + triggerDimensions.height + contentMarginFromTrigger}px`;\r\n                this.positionCarat(trigger, toggleToolTipDimensions, carat, \"bottom\", marginFromTrigger);\r\n            }\r\n\r\n            if (this.doesElementOverlapScreenX(content, this.marginFromSide)) {\r\n                // Compare the element's position to the center\r\n                if (this.elementCloserToLeft(content)) {\r\n                    content.style.left = `${this.marginFromSide - toggleToolTipDimensions.left}px`;\r\n                } else {\r\n                    content.style.left = `${contentFromTriggerX - triggerDimensions.left + document.documentElement.clientWidth - contentDimensions.width - this.marginFromSide}px`;\r\n                }\r\n            }\r\n        },\r\n\r\n        // If the toggle/tool tip is positioned bottom, we want to try sliding or inverting the content box\r\n        checkAlternativesForBottomPosition: function (trigger, toggleToolTipDimensions, content, carat, marginFromTrigger, contentMarginFromTrigger) {\r\n            const triggerDimensions = trigger.getBoundingClientRect();\r\n            const contentDimensions = content.getBoundingClientRect();\r\n            const triggerFromTop = triggerDimensions.top + window.scrollY;\r\n            const contentFromTop = toggleToolTipDimensions.top + window.scrollY;\r\n            const contentFromTriggerY = triggerFromTop - contentFromTop;\r\n            const triggerFromLeft = triggerDimensions.left + window.scrollX;\r\n            const contentFromLeft = toggleToolTipDimensions.left + window.scrollX;\r\n            const contentFromTriggerX = triggerFromLeft - contentFromLeft;\r\n\r\n            if (this.doesElementOverlapScreenY(content, this.marginFromSide)) {\r\n                content.style.top = `${contentFromTriggerY - content.offsetHeight - contentMarginFromTrigger}px`;\r\n                this.positionCarat(trigger, toggleToolTipDimensions, carat, \"top\", marginFromTrigger);\r\n            }\r\n\r\n            if (this.doesElementOverlapScreenX(content)) {\r\n                // Compare the element's position to the center\r\n                if (this.elementCloserToLeft(content)) {\r\n                    content.style.left = `${this.marginFromSide - toggleToolTipDimensions.left}px`;\r\n                } else {\r\n                    content.style.left = `${contentFromTriggerX - triggerDimensions.left + document.documentElement.clientWidth - contentDimensions.width - this.marginFromSide}px`;\r\n                }\r\n            }\r\n        },\r\n\r\n        // If the toggle/tool tip is positioned left, we want to try sliding or inverting the content box\r\n        checkAlternativesForLeftPosition: function (trigger, toggleToolTipDimensions, content, carat, marginFromTrigger, contentMarginFromTrigger) {\r\n            const triggerDimensions = trigger.getBoundingClientRect();\r\n            const contentDimensions = content.getBoundingClientRect();\r\n            const triggerFromTop = triggerDimensions.top + window.scrollY;\r\n            const contentFromTop = toggleToolTipDimensions.top + window.scrollY;\r\n            const contentFromTriggerY = triggerFromTop - contentFromTop;\r\n            const triggerFromLeft = triggerDimensions.left + window.scrollX;\r\n            const contentFromLeft = toggleToolTipDimensions.left + window.scrollX;\r\n            const contentFromTriggerX = triggerFromLeft - contentFromLeft;\r\n\r\n            if (this.doesElementOverlapScreenX(content)) {\r\n                content.style.left = `${contentFromTriggerX + triggerDimensions.width + contentMarginFromTrigger}px`;\r\n                this.positionCarat(trigger, toggleToolTipDimensions, carat, \"right\", marginFromTrigger);\r\n            }\r\n\r\n            if (this.doesElementOverlapScreenY(content, this.marginFromSide)) {\r\n                // Compare the element's position to the center\r\n                if (this.elementCloserToTop(content)) {\r\n                    content.style.top = `${this.marginFromSide - toggleToolTipDimensions.top}px`;\r\n                } else {\r\n                    content.style.top = `${contentFromTriggerY - triggerDimensions.top + document.documentElement.clientHeight - contentDimensions.height - this.marginFromSide}px`;\r\n                }\r\n            }\r\n\r\n            // For the specific case on mobile where the tool tip cannot fit on BOTH sides\r\n            if (this.doesElementOverlapScreenX(content)) {\r\n                content.style.left = `${contentFromTriggerX - content.offsetWidth / 2 + triggerDimensions.width / 2}px`;\r\n                content.style.top = `${contentFromTriggerY - content.offsetHeight - contentMarginFromTrigger}px`;\r\n                this.positionCarat(trigger, toggleToolTipDimensions, carat, \"top\", marginFromTrigger);\r\n            }\r\n        },\r\n\r\n        // If the toggle/tool tip is positioned right, we want to try sliding or inverting the content box\r\n        checkAlternativesForRightPosition: function (trigger, toggleToolTipDimensions, content, carat, marginFromTrigger, contentMarginFromTrigger) {\r\n            const triggerDimensions = trigger.getBoundingClientRect();\r\n            const contentDimensions = content.getBoundingClientRect();\r\n            const triggerFromTop = triggerDimensions.top + window.scrollY;\r\n            const contentFromTop = toggleToolTipDimensions.top + window.scrollY;\r\n            const contentFromTriggerY = triggerFromTop - contentFromTop;\r\n            const triggerFromLeft = triggerDimensions.left + window.scrollX;\r\n            const contentFromLeft = toggleToolTipDimensions.left + window.scrollX;\r\n            const contentFromTriggerX = triggerFromLeft - contentFromLeft;\r\n\r\n            if (this.doesElementOverlapScreenX(content)) {\r\n                content.style.left = `${contentFromTriggerX - content.offsetWidth - contentMarginFromTrigger}px`;\r\n                this.positionCarat(trigger, toggleToolTipDimensions, carat, \"left\", marginFromTrigger);\r\n            }\r\n\r\n            if (this.doesElementOverlapScreenY(content, this.marginFromSide)) {\r\n                // Compare the element's position to the center\r\n                if (this.elementCloserToTop(content)) {\r\n                    content.style.top = `${this.marginFromSide - toggleToolTipDimensions.top}px`;\r\n                } else {\r\n                    content.style.top = `${contentFromTriggerY - triggerDimensions.top + document.documentElement.clientHeight - contentDimensions.height - this.marginFromSide}px`;\r\n                }\r\n            }\r\n\r\n            // For the specific case on mobile where the tool tip cannot fit on BOTH sides\r\n            if (this.doesElementOverlapScreenX(content)) {\r\n                content.style.left = `${contentFromTriggerX - content.offsetWidth / 2 + triggerDimensions.width / 2}px`;\r\n                content.style.top = `${contentFromTriggerY - content.offsetHeight - contentMarginFromTrigger}px`;\r\n                this.positionCarat(trigger, toggleToolTipDimensions, carat, \"top\", marginFromTrigger);\r\n            }\r\n        },\r\n\r\n        // Function to position the carat based off the direction provided\r\n        positionCarat: function (trigger, toggleToolTipDimensions, carat, direction, marginFromTrigger) {\r\n            const triggerDimensions = trigger.getBoundingClientRect();\r\n            const caratWidth = carat.offsetWidth / 2;\r\n            const caratHeight = carat.offsetHeight / 2;\r\n            const triggerFromTop = triggerDimensions.top + window.scrollY;\r\n            const caratFromTop = toggleToolTipDimensions.top + window.scrollY;\r\n            const caratFromTriggerY = triggerFromTop - caratFromTop;\r\n            const triggerFromLeft = triggerDimensions.left + window.scrollX;\r\n            const caratFromLeft = toggleToolTipDimensions.left + window.scrollX;\r\n            const caratFromTriggerX = triggerFromLeft - caratFromLeft;\r\n            let caratTopPosition = 0;\r\n            let caratLeftPosition = 0;\r\n\r\n            if (direction === \"top\") {\r\n                caratLeftPosition = caratFromTriggerX + triggerDimensions.width / 2 - caratWidth;\r\n                caratTopPosition = caratFromTriggerY - caratHeight - marginFromTrigger;\r\n                carat.style.transform = \"rotate(180deg)\";\r\n            } else if (direction === \"bottom\") {\r\n                caratLeftPosition = caratFromTriggerX + triggerDimensions.width / 2 - caratWidth;\r\n                caratTopPosition = caratFromTriggerY - caratHeight + triggerDimensions.height + marginFromTrigger;\r\n                carat.style.transform = \"rotate(0deg)\";\r\n            } else if (direction === \"left\") {\r\n                caratLeftPosition = caratFromTriggerX - caratWidth - marginFromTrigger;\r\n                caratTopPosition = caratFromTriggerY + triggerDimensions.height / 2 - caratHeight;\r\n                carat.style.transform = \"rotate(90deg)\";\r\n            } else if (direction === \"right\") {\r\n                caratLeftPosition = caratFromTriggerX + triggerDimensions.width - caratWidth + marginFromTrigger;\r\n                caratTopPosition = caratFromTriggerY + triggerDimensions.height / 2 - caratHeight;\r\n                carat.style.transform = \"rotate(270deg)\";\r\n            }\r\n\r\n            // Set positioning style of the content box\r\n            carat.style.left = `${caratLeftPosition}px`;\r\n            carat.style.top = `${caratTopPosition}px`;\r\n        },\r\n    };\r\n\r\n    // Add to global QLD module\r\n    var QLD = QLD ? QLD : {};\r\n    QLD.toggleToolTips = toggleToolTips;\r\n    window.QLD = QLD;\r\n})(window.QLD);\r\n","(function () {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @module initPromoPanel\r\n     */\r\n    var initPromoPanel = {};\r\n\r\n    /**\r\n     * Initialise Promo Panel\r\n     *\r\n     * @memberof module:initPromoPanel\r\n     */\r\n    initPromoPanel.init = function () {\r\n        let promoPanels = document.querySelectorAll(\".qld__promo_panel\");\r\n\r\n        if (promoPanels.length > 0) {\r\n            document.querySelectorAll(\"section\").forEach(function (section) {\r\n                if (section.classList.contains(\"qld__promo_panel\") && !section.classList.contains(\"qld__promo_panel--no-image\")) {\r\n                    let next = section.nextElementSibling;\r\n\r\n                    if (next && next.tagName.toLowerCase() === \"data\") {\r\n                        next = next.nextElementSibling;\r\n                    }\r\n\r\n                    if (next && next.classList.contains(\"qld__body--alt\")) {\r\n                        section.classList.add(\"qld__body--alt-half\");\r\n                    }\r\n\r\n                    if (next && next.classList.contains(\"qld__body--dark\")) {\r\n                        section.classList.add(\"qld__body--dark-half\");\r\n                    }\r\n\r\n                    if (next && next.classList.contains(\"qld__body--alt-dark\")) {\r\n                        section.classList.add(\"qld__body--alt-dark-half\");\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    // Assign initPromoPanel to global QLD object of functions\r\n    QLD.initPromoPanel = initPromoPanel;\r\n\r\n    document.addEventListener(\"DOMContentLoaded\", initPromoPanel.init);\r\n})();\r\n","// CSS\r\nimport \"./styles/global.scss\";\r\n\r\n// JS\r\nrequire(\"prismjs\");\r\n","(function () {\r\n\r\n    /**\r\n     * @module basicSearch\r\n     */\r\n\r\n    var basicSearch = {}\r\n\r\n    /**\r\n     * Init the basicSearch component by adding relevent event listeners\r\n     * \r\n     * @memberof module:basicSearch\r\n    */\r\n\r\n    basicSearch.init = function() {\r\n\r\n        var searchForm = document.querySelector('.qld__banner__search .qld__search-form');\r\n        if (searchForm) {\r\n            searchForm.querySelector('.qld__btn--search').setAttribute('type', 'submit');\r\n            searchForm.querySelectorAll('.qld__btn--search, .qld__text-input').forEach((el) => {\r\n                el.removeAttribute('disabled');\r\n            });\r\n            checkHoneypot(searchForm);\r\n        }\r\n\r\n        if(document.querySelector('.qld__search__sort #search-sort')){\r\n            var selectElement = document.getElementById('search-sort');\r\n            var currentUrl = new URL(window.location.href);\r\n            var searchParams = new URLSearchParams(currentUrl.search);\r\n            \r\n            if (searchParams.has('sort')) {\r\n                selectElement.value = searchParams.get('sort');\r\n            }\r\n\r\n            selectElement.addEventListener('change', function() {\r\n                var selectedValue = this.value;\r\n                searchParams.set('sort', selectedValue);\r\n                currentUrl.search = searchParams.toString();\r\n                window.location.href = currentUrl.toString();\r\n            });\r\n        };           \r\n\r\n    };\r\n\r\n    /**\r\n     * Check if honeypot field is empty\r\n     * \r\n     * @memberof module:header\r\n     * @instance\r\n     * @private\r\n     */\r\n    function checkHoneypot(searchForm) {\r\n        var honeypot = searchForm.querySelector('.qld__text-input--validation');\r\n        honeypot.value = '';\r\n\r\n        searchForm.addEventListener('submit', function(event) {\r\n            // Prevent form submission if the honeypot field is filled\r\n            if (honeypot.value !== '') {\r\n                event.preventDefault(); // Stop the form submission\r\n            } else {\r\n                honeypot.removeAttribute('name');\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    // Make basic search public\r\n    QLD.basicSearch = basicSearch;\r\n\r\n    window.addEventListener('DOMContentLoaded', function () {\r\n        QLD.basicSearch.init();\r\n    });\r\n}()); \r\n","(function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @module fileUploads\r\n     */\r\n    let datePickers = {};\r\n\r\n    /**\r\n     * Initialise any date picker components on the page\r\n     * \r\n     * @memberof module:datePickers\r\n     */\r\n    datePickers.init = () => {\r\n        let $dateInputs = document.querySelectorAll('div.flatpickr > input[type=text].qld__text-input');\r\n\r\n        // Loop through each date field and initialize flatpickr \r\n        $dateInputs.forEach($input => {\r\n            // Empty object to store the flatpickr settings\r\n            let flatpickrSettings = {};\r\n            // Data attributes\r\n            const dataAttributes = $input.dataset;\r\n            \r\n            // Loop through each data attribute of the element\r\n            for (let key in dataAttributes) {\r\n                // Add the data attribute key and value to the object\r\n                flatpickrSettings[key] = dataAttributes[key];\r\n            }\r\n\r\n            // Initialise flatpickr for the input\r\n            initDatePicker($input, flatpickrSettings);\r\n        });\r\n    }\r\n\r\n\r\n    const initDatePicker = ($input, settings) => {\r\n        const wrapper = $input.parentElement;\r\n        const toggleBtn = wrapper.querySelector('.calendar-toggle');\r\n        // Default settings, all options here: https://flatpickr.js.org/options/\r\n        const defaultSettings = {\r\n            // Prevents the date picker from opening when the text input is clicked\r\n            clickOpens: false,\r\n            // Allow a user to manually enter a date into the text input\r\n            allowInput: true, \r\n            locale: {\r\n                firstDayOfWeek: 1\r\n            },\r\n            // Wraps the elements inside the element with the .flatpickr class\r\n            wrap: true\r\n        }\r\n        // Merge the settings from the text input data attributes with the defaultSettings object\r\n        const allSettings = { ...settings, ...defaultSettings };\r\n\r\n        // Initialise flatpickr \r\n        const fp = flatpickr(wrapper, allSettings);\r\n        \r\n        // Calendar toggle button\r\n        $(toggleBtn).on(\"click\", (e)=>{\r\n            fp.toggle();\r\n        })\r\n    }\r\n\r\n    // Store fileUploads object globally\r\n    QLD.datePickers = datePickers;\r\n\r\n    document.addEventListener('DOMContentLoaded', function () {\r\n        QLD.datePickers.init();\r\n    });\r\n\r\n}());\r\n\r\n// Existing 'multiple' functionality\r\n// onChange(selectedDates, dateStr, instance) {\r\n//     selectedDates.sort(function(a,b){\r\n//         return a - b;\r\n//     });\r\n//     let sortedString = ''\r\n//     selectedDates.forEach((date, index) => {\r\n//         sortedString += `<span>${date.getFullYear()}-${(\"0\" + (date.getMonth() + 1)).slice(-2)}-${(\"0\" + date.getDate()).slice(-2)}<button class=\"remove-date\" data-date=\"${date.getFullYear()}-${(\"0\" + (date.getMonth() + 1)).slice(-2)}-${(\"0\" + date.getDate()).slice(-2)}\" type=\"button\" title=\"Remove date\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\"><path d=\"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z\"/></svg></button></span>` \r\n//     });\r\n\r\n//     $(instance.input.nextElementSibling).html(sortedString)\r\n\r\n//     $(\".date-list .remove-date\").on(\"click\",function(){\r\n//         var flatpickr = $(this).closest('.flatpickr').find('input[type=text]').flatpickr(flatpickrMultiple);\r\n//         var selectedDates = flatpickr.selectedDates\r\n//         var date = new Date($(this).data('date')).setHours(0, 0, 0)\r\n//         for(var i = 0; i < selectedDates.length; i++) {\r\n//             if (selectedDates[i] - date == 0) { \r\n//                 selectedDates.splice(i, 1); \r\n//             }\r\n//         }\r\n//         flatpickr.setDate(selectedDates, true, \"Y-m-d\")\r\n//     });\r\n// },\r\n// onReady(selectedDates, dateStr, instance) {\r\n//     selectedDates.sort(function(a,b){\r\n//         return a - b;\r\n//     });\r\n//     var sortedString = ''\r\n//     selectedDates.forEach((date, index) => {\r\n//         sortedString += `<span>${date.getFullYear()}-${(\"0\" + (date.getMonth() + 1)).slice(-2)}-${(\"0\" + date.getDate()).slice(-2)}<button class=\"remove-date\" data-date=\"${date.getFullYear()}-${(\"0\" + (date.getMonth() + 1)).slice(-2)}-${(\"0\" + date.getDate()).slice(-2)}\" type=\"button\" title=\"Remove date\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\"><path d=\"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z\"/></svg></button></span>`\r\n//     });\r\n//     $(instance.input.nextElementSibling).html(sortedString)\r\n//     $(\".date-list .remove-date\").on(\"click\",function(){\r\n//         var flatpickr = $(this).closest('.flatpickr').find('input[type=text]').flatpickr(flatpickrMultiple);\r\n//         var selectedDates = flatpickr.selectedDates\r\n//         var date = new Date($(this).data('date')).setHours(0, 0, 0)\r\n//         for(var i = 0; i < selectedDates.length; i++) {\r\n//             if (selectedDates[i] - date == 0) { \r\n//                 selectedDates.splice(i, 1); \r\n//             }\r\n//         }\r\n//         flatpickr.setDate(selectedDates, true, \"Y-m-d\");\r\n//     });\r\n// }","(function () {\r\n   \r\n    /**\r\n     * The mega menu module\r\n     * \r\n     * @module megaMenu\r\n     */\r\n    var megaMenu = {\r\n\r\n        /**\r\n         * Initialise the mega menu listeners for keyboard navigation\r\n         * \r\n         * @memberof module:megaMenu\r\n         */\r\n        'init': function () {\r\n\r\n            // Top level items\r\n            var topNavItems = document.querySelectorAll('.qld__main-nav__item-title > a');\r\n            topNavItems.forEach(function (item) {\r\n                item.addEventListener('keydown', handleTopNavKeydown);\r\n                item.addEventListener('focusin', toggleMenu);\r\n                item.addEventListener('focusout', handleTopNavFocusout);\r\n            });\r\n\r\n            // Mega menu items\r\n            var menuItems = document.querySelectorAll('.qld__main-nav__menu-sub a');\r\n            menuItems.forEach(function (item) {\r\n                item.addEventListener('keydown', handleMenuKeypress);\r\n            });\r\n        \r\n        },\r\n\r\n    };\r\n\r\n    /**\r\n     * Handle keydown on top level nav item to close the menu\r\n     * if ESCAPE or UP key are pressed\r\n     * \r\n     * @memberof module:megaMenu\r\n     * @instance\r\n     * @private\r\n     * \r\n     * @param {Document.event} e \r\n     */\r\n    function handleTopNavKeydown(e) {\r\n        var key = e.keyCode;\r\n\r\n        // ESC or UP ARROW\r\n        if (key === 27 || key == 38) {\r\n            toggleMenu(e);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Handle focusout of top level nav items.\r\n     * Close the menu, unless we have tabbed within\r\n     * \r\n     * @memberof module:megaMenu\r\n     * @instance\r\n     * @private\r\n     * \r\n     * @param {Document.event} e \r\n     */\r\n    function handleTopNavFocusout(e) {\r\n        var link = e.target;\r\n        var navItem = link.closest('.qld__main-nav__item');\r\n        var expanded = navItem.classList.contains('expanded') ? true : false;\r\n        var menu = navItem.querySelector('.qld__main-nav__menu-sub');\r\n        \r\n        // Short delay to ensure we are on the new active element\r\n        // Close the menu, unless we have tabbed within\r\n        setTimeout(function() {\r\n            var menuHasFocus = menu.contains(document.activeElement) ? true : false;\r\n            if (!menuHasFocus && expanded) {\r\n                toggleMenu(e);\r\n            }\r\n        }, 20);\r\n    }\r\n\r\n    /**\r\n     * Toggle the mega menu open/closed\r\n     * \r\n     * @memberof module:megaMenu\r\n     * @instance\r\n     * @private\r\n     * \r\n     * @param {Document.event} e \r\n     */\r\n    function toggleMenu(e) {\r\n        var link = e.target;\r\n        var navItem = link.closest('.qld__main-nav__item');\r\n        var expanded = navItem.classList.contains('expanded') ? true : false;\r\n\r\n        if (!expanded) {\r\n            navItem.classList.add('expanded');\r\n            setTimeout(function() {\r\n                document.addEventListener('click', handleBackgroundClick);\r\n            }, 30);\r\n        } else {\r\n            navItem.classList.remove('expanded');\r\n            document.removeEventListener('click', handleBackgroundClick);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Close the mega menu if the user clicks outside of it while opened\r\n     * \r\n     * @memberof module:megaMenu\r\n     * @instance\r\n     * @private\r\n     * \r\n     * @param {Document.event} e \r\n     */\r\n    function handleBackgroundClick(e) {\r\n        var target = e.target;\r\n        var nav = document.querySelector('.qld__main-nav__menu-inner');\r\n\r\n        // If clicked outside nav\r\n        if (!nav.contains(target)) {\r\n\r\n            // Close any expanded menu(s)\r\n            document.querySelectorAll('.qld__main-nav__item.expanded').forEach(function(item) {\r\n                item.classList.remove('expanded');\r\n            });\r\n\r\n            // Remove listener\r\n            document.removeEventListener('click', handleBackgroundClick);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Handle keypress for item within mega menu.\r\n     * Close the menu on press of ESCAPE or UP\r\n     * After TAB press, check if focus is still within menu,\r\n     * and close if it's not\r\n     * \r\n     * @memberof module:megaMenu\r\n     * @instance\r\n     * @private\r\n     * \r\n     * @param {Document.event} e \r\n     */\r\n    function handleMenuKeypress(e) {\r\n        var link = e.target;\r\n        var key = e.keyCode;\r\n        var navItem = link.closest('.qld__main-nav__item');\r\n        var menu = link.closest('.qld__main-nav__menu-sub');\r\n\r\n        // ESC or UP ARROW\r\n        if (key === 27 || key == 38) {\r\n            navItem.querySelector('.qld__main-nav__item-title > a').focus();\r\n        }\r\n\r\n        // If TAB key is pressed only (not SHIFT + TAB)\r\n        if (key === 9 && !e.shiftKey) {\r\n            setTimeout(function() {\r\n                var menuHasFocus = menu.contains(document.activeElement) ? true : false;\r\n                if (!menuHasFocus) {\r\n                    toggleMenu(e);\r\n                }\r\n            }, 20);\r\n        }\r\n        \r\n    }\r\n\r\n    window.addEventListener('DOMContentLoaded', function () {\r\n        megaMenu.init();\r\n    });\r\n\r\n}());\r\n","// IE 11 polyfill for .matches\r\nif (!Element.prototype.matches) {\r\n    Element.prototype.matches = Element.prototype.msMatchesSelector ||\r\n        Element.prototype.webkitMatchesSelector;\r\n}\r\n\r\n// IE 11 polyfill for .closest\r\nif (!Element.prototype.closest) {\r\n    Element.prototype.closest = function (s) {\r\n        var el = this;\r\n\r\n        do {\r\n            if (Element.prototype.matches.call(el, s)) return el;\r\n            el = el.parentElement || el.parentNode;\r\n        } while (el !== null && el.nodeType === 1);\r\n        return null;\r\n    };\r\n}","(function () {\r\n    'use strict';\r\n\r\n    // Select all accordion title buttons\r\n    const accordionTitles = document.querySelectorAll('.qld__body qld__video__player--wrapper .qld__accordion__title');\r\n\r\n    if (!accordionTitles.length) return;\r\n\r\n    accordionTitles.forEach(function (accordionTitle) {\r\n        accordionTitle.addEventListener('click', function () {\r\n            // Toggle the text content based on the accordion state\r\n            const buttonText = this.querySelector('i').nextSibling;\r\n\r\n            buttonText.textContent = accordionTitle.classList.contains('qld__accordion--open')\r\n            ? \"Show transcript\"\r\n            : \"Hide transcript\";\r\n        });\r\n    });\r\n})();\r\n","(function() {\r\n\r\n    /**\r\n     * @module inPageNav\r\n     */\r\n    var inPageNav = {};\r\n\r\n    /**\r\n     * Create in page nav from headings\r\n     * \r\n     * @memberof module:inPageNav\r\n     */\r\n    inPageNav.init = function() {\r\n        var navs = document.querySelectorAll('.qld__inpage-nav-links');\r\n        var mainEl = document.querySelector('main.main');\r\n        var isLandingPage = mainEl && mainEl.classList.contains('landing');\r\n\r\n        // For all In-Page Nav components\r\n        navs.forEach(function(nav) {\r\n            \r\n            var headingSelector = nav.getAttribute('data-headingType') ? nav.getAttribute('data-headingType') : 'h2';\r\n            var pageContent = isLandingPage ? mainEl : document.getElementById('content');\r\n            // Exclude Code CT, and accordion h3, h4, h5, h6\r\n            var headings = pageContent.querySelectorAll(\r\n                headingSelector +\r\n                ':not(.qld__inpage-nav-links__heading):not(.banner__heading):not(.qld__code *):not(.qld__accordion h3):not(.qld__accordion h4):not(.qld__accordion h5):not(.qld__accordion h6)'\r\n              );\r\n              \r\n\r\n            var list = nav.querySelector('.qld__link-list');\r\n            list.innerHTML = '';\r\n\r\n            if (headings.length === 0) {\r\n                nav.style.display = 'none';\r\n            }\r\n        \r\n            // For all headings (with matching data-headingType) in page content\r\n            headings.forEach(function(heading) {\r\n                var title = heading.innerText;\r\n                var id = 'section__' + title.toLowerCase().replace(/\\s+/g, '-');\r\n                heading.setAttribute('id', id);\r\n                heading.setAttribute('tabindex', -1);\r\n                var link = '<li><a href=\"#' + id + '\">' + title + '</a></li>';\r\n                \r\n                // Append link item if it doesn't already exist in list\r\n                if (list.querySelector('a[href=\"#' + id + '\"') === null) {\r\n                    list.insertAdjacentHTML('beforeend', link);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    QLD.inPageNav = inPageNav;\r\n\r\n    // Init In Page Nav on document load\r\n    document.addEventListener('DOMContentLoaded', QLD.inPageNav.init);\r\n})();","/**\r\n * The left hand nav module\r\n * \r\n * @module leftHandNav\r\n */\r\n (function () {\r\n    'use strict';\r\n\r\n\r\n    window.addEventListener('DOMContentLoaded', function () {\r\n\r\n         // Add toggle event listeners to accordion buttons\r\n        var itemToggles = document.querySelectorAll('.qld__left-nav__item-toggle');\r\n        itemToggles.forEach(function(button) {\r\n            button.addEventListener('click', function () {\r\n\r\n                if(button.className.split(' ').indexOf('qld__accordion--closed')>=0){\r\n                    button.classList.replace('qld__accordion--closed','qld__accordion--open');\r\n                    button.parentNode.querySelector('.qld__left-nav__item-link').classList.add('qld__left-nav__item-link--open');\r\n                    \r\n                    button.parentNode.querySelector('.qld__accordion__body').classList.replace('qld__accordion--closed','qld__accordion--open');\r\n\r\n                } else{\r\n                    button.classList.replace('qld__accordion--open','qld__accordion--closed');\r\n                    button.parentNode.querySelector('.qld__left-nav__item-link').classList.remove('qld__left-nav__item-link--open');\r\n                    button.parentNode.querySelector('.qld__accordion__body').classList.replace('qld__accordion--open','qld__accordion--closed');\r\n\r\n                }\r\n\r\n            });\r\n        });\r\n    });\r\n\r\n}());","/**\r\n * @module header\r\n */\r\n(function () {\r\n\r\n    // Search toggle button\r\n    var searchToggle = document.querySelector('.qld__main-nav__toggle-search');\r\n    var searchForm = document.querySelector('.qld__header__search .qld__search-form');\r\n\r\n    // Global events object\r\n    var headerSearchEvents = {};\r\n\r\n    // Add action so the search works only if JS is enabled\r\n    if (searchForm) {\r\n        searchForm.querySelector('.qld__btn--search').setAttribute('type', 'submit');\r\n        searchForm.querySelectorAll('.qld__btn--search, .qld__text-input').forEach((el) => {\r\n            el.removeAttribute('disabled');\r\n        });\r\n        checkHoneypot();\r\n    }\r\n\r\n    // Add event listener to search toggle button\r\n    if (searchToggle) {\r\n        searchToggle.addEventListener('click', toggleHeaderSearch);\r\n    }\r\n\r\n    /**\r\n     * Check if honeypot field is empty\r\n     * \r\n     * @memberof module:header\r\n     * @instance\r\n     * @private\r\n     */\r\n    function checkHoneypot() {\r\n        var honeypot = searchForm.querySelector('.qld__text-input--validation');\r\n        honeypot.value = '';\r\n\r\n        searchForm.addEventListener('submit', function(event) {\r\n            // Prevent form submission if the honeypot field is filled\r\n            if (honeypot.value !== '') {\r\n                event.preventDefault(); // Stop the form submission\r\n            } else {\r\n                honeypot.removeAttribute('name');\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Toggle the header search on mobile/tablet\r\n     * \r\n     * @memberof module:header\r\n     * @instance\r\n     * @private\r\n     */\r\n    function toggleHeaderSearch() {\r\n\r\n        var targetId = searchToggle.getAttribute('aria-controls');\r\n        var target = document.getElementById(targetId);\r\n        var focustrapTop = target.querySelector('.qld__main-nav__focus-trap-top');\r\n        var focustrapBottom = target.querySelector('.qld__main-nav__focus-trap-bottom');\r\n        var isExpanded = searchToggle.getAttribute('aria-expanded');\r\n\r\n        // Open menu\r\n        if (isExpanded === \"false\") {\r\n\r\n            searchToggle.setAttribute('aria-expanded', true);\r\n            searchToggle.classList.remove('qld__main-nav__toggle-search--open');\r\n            searchToggle.classList.add('qld__main-nav__toggle-search--close');\r\n            searchToggle.querySelector('.qld__main-nav__toggle-text').innerHTML = 'Close';\r\n            target.style.display = \"block\";\r\n            \r\n            // Wait for display: block, and then add class to open smoothly\r\n            setTimeout(function() {\r\n                target.classList.add('qld__main-nav__search--open');\r\n                target.querySelector('.qld__text-input').focus();\r\n\r\n                // Close header search on click outside\r\n                headerSearchEvents.background = addEvent(document, 'click', function() {\r\n                    var event = event || window.event;\r\n    \r\n                    if (!target.contains(event.target)) {\r\n                        console.log('toggling');\r\n                        toggleHeaderSearch();\r\n                    }\r\n                });\r\n            }, 0);\r\n\r\n            // Focus trap enabled\r\n            focustrapTop.setAttribute('tabindex', 0);\r\n            focustrapBottom.setAttribute('tabindex', 0);\r\n\r\n            // Add focus listeners\r\n            headerSearchEvents.focusTop = addEvent(focustrapTop, 'focus', function() {\r\n                target.querySelector('button').focus();\r\n            });\r\n            headerSearchEvents.focusBottom = addEvent(focustrapBottom, 'focus', function() {\r\n                target.querySelector('input').focus();\r\n            });\r\n\r\n            // Close header search if burger menu opened\r\n            var menuToggle = document.querySelector('button[aria-controls=\"main-nav\"]');\r\n            headerSearchEvents.menu = addEvent(menuToggle, 'click', function() {\r\n                toggleHeaderSearch();\r\n            });\r\n            \r\n            // Add key listener\r\n            headerSearchEvents.escKey = addEvent(document, 'keyup', function() {\r\n                var event = event || window.event;\r\n\r\n                // Check the menu is open and visible and the escape key is pressed\r\n                if (event.keyCode === 27 ) {\r\n                    toggleHeaderSearch();\r\n                }\r\n            });\r\n            \r\n\r\n        // Close menu\r\n        } else {\r\n\r\n            searchToggle.setAttribute('aria-expanded', false);\r\n            searchToggle.classList.remove('qld__main-nav__toggle-search--close');\r\n            searchToggle.classList.add('qld__main-nav__toggle-search--open');\r\n            searchToggle.querySelector('.qld__main-nav__toggle-text').innerHTML = 'Search';\r\n            searchToggle.focus();\r\n            target.classList.remove('qld__main-nav__search--open');\r\n            target.style.display = \"none\";\r\n\r\n            // Remove the focus trap\r\n            focustrapTop.removeAttribute('tabindex');\r\n            focustrapBottom.removeAttribute('tabindex');\r\n\r\n            // Remove the event listeners\r\n            removeEvent(headerSearchEvents.focusTop);\r\n            removeEvent(headerSearchEvents.focusBottom);\r\n            removeEvent(headerSearchEvents.background);\r\n            removeEvent(headerSearchEvents.menu);\r\n            removeEvent(headerSearchEvents.escKey);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Object representing an event listener\r\n     * \r\n     * @typedef {Object} event\r\n     * @property {Node} element             Element the event is attached to\r\n     * @property {function} handler         Event handler function\r\n     * @property {document#event} event     DOM event to listen for\r\n     */\r\n\r\n    /**\r\n     * Add event listener\r\n     * \r\n     * @memberof module:header\r\n     * @instance\r\n     * @private\r\n     * \r\n     * @param {Node} element            DOM element to add event to\r\n     * @param {document#event} event    The event to listen for\r\n     * @param {function} rawHandler     The raw handler function\r\n     * @return {event}\r\n     */\r\n    function addEvent(element, event, rawHandler) {\r\n        // Using local functions instead of anonymous for event handler\r\n        function listenHandler(event) {\r\n            var handler = rawHandler.apply(this, arguments);\r\n            if (handler === false) {\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n            }\r\n            return (handler);\r\n        }\r\n\r\n        // Make sure attachHandler is also going to work\r\n        function attachHandler() {\r\n            var handler = rawHandler.call(element, window.event);\r\n            if (handler === false) {\r\n                window.event.returnValue = false;\r\n                window.event.cancelBubble = true;\r\n            }\r\n            return (handler);\r\n        }\r\n\r\n        // Return the token and add the correct listener\r\n        if (element.addEventListener) {\r\n            element.addEventListener(event, listenHandler, false);\r\n            return {\r\n                element: element,\r\n                handler: listenHandler,\r\n                event: event\r\n            };\r\n        } else {\r\n            element.attachEvent('on' + event, attachHandler);\r\n            return {\r\n                element: element,\r\n                handler: attachHandler,\r\n                event: event\r\n            };\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Remove event listener\r\n     * \r\n     * @memberof module:header\r\n     * @instance\r\n     * @private\r\n     * \r\n     * @param {event} token     The event to remove\r\n     */\r\n    function removeEvent(token) {\r\n        if (token.element.removeEventListener) {\r\n            token.element.removeEventListener(token.event, token.handler);\r\n        } else {\r\n            token.element.detachEvent('on' + token.event, token.handler);\r\n        }\r\n    }\r\n    \r\n})();","/**\r\n * @module accordion\r\n */\r\n\r\n(function () {\r\n\r\n    var accordion = {}\r\n\r\n    /**\r\n     * Set the correct Aria roles for given element on the accordion title and body\r\n     * \r\n     * @memberof module:accordion\r\n     * @instance\r\n     * @private\r\n     * \r\n     * @param  {object} element - The DOM element we want to set attributes for\r\n     * @param  {object} target  - The DOM element we want to set attributes for\r\n     * @param  {string} state   - The DOM element we want to set attributes for\r\n     */\r\n    function setAriaRoles(element, target, state) {\r\n\r\n        if (state === 'closing') {\r\n            element.setAttribute('aria-expanded', false);\r\n        } else {\r\n            element.setAttribute('aria-expanded', true);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * IE8 compatible function for replacing classes on a DOM node\r\n     *\r\n     * @memberof module:accordion\r\n     * @instance\r\n     * @private\r\n     * \r\n     * @param  {object} element      - The DOM element we want to toggle classes on\r\n     * @param  {object} target       - The DOM element we want to toggle classes on\r\n     * @param  {object} state        - The current state of the animation on the element\r\n     * @param  {string} openingClass - The firstClass you want to toggle on the DOM node\r\n     * @param  {string} closingClass - The secondClass you want to toggle on the DOM node\r\n     */\r\n    function toggleClasses(element, state, openingClass, closingClass) {\r\n\r\n        if (state === 'opening' || state === 'open') {\r\n            var oldClass = openingClass || 'qld__accordion--closed';\r\n            var newClass = closingClass || 'qld__accordion--open';\r\n        } else {\r\n            var oldClass = closingClass || 'qld__accordion--open';\r\n            var newClass = openingClass || 'qld__accordion--closed';\r\n        }\r\n\r\n        removeClass(element, oldClass);\r\n        addClass(element, newClass);\r\n    }\r\n\r\n\r\n    /**\r\n     * IE8 compatible function for removing a class\r\n     * \r\n     * @memberof module:accordion\r\n     * @instance\r\n     * @private\r\n     *\r\n     * @param  {object} element   - The DOM element we want to manipulate\r\n     * @param  {object} className - The name of the class to be removed\r\n     */\r\n    function removeClass(element, className) {\r\n        if (element.classList) {\r\n            element.classList.remove(className);\r\n        } else {\r\n            element.className = element.className.replace(new RegExp(\"(^|\\\\b)\" + className.split(\" \").join(\"|\") + \"(\\\\b|$)\", \"gi\"), \" \");\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * IE8 compatible function for adding a class\r\n     * \r\n     * @memberof module:accordion\r\n     * @instance\r\n     * @private\r\n     *\r\n     * @param  {object} element   - The DOM element we want to manipulate\r\n     * @param  {object} className - The name of the class to be added\r\n     */\r\n    function addClass(element, className) {\r\n        if (element.classList) {\r\n            element.classList.add(className);\r\n        } else {\r\n            element.className = element.className + \" \" + className;\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Toggle an accordion element\r\n     * \r\n     * @memberof module:accordion\r\n     *\r\n     * @param  {string}  elements  - The DOM node/s to toggle\r\n     * @param  {integer} speed     - The speed in ms for the animation\r\n     * @param  {object}  callbacks - An object of four optional callbacks: { onOpen, afterOpen, onClose, afterClose }\r\n     *\r\n     */\r\n    accordion.Toggle = function (elements, speed, callbacks) {\r\n\r\n        // stop event propagation\r\n        try {\r\n            window.event.cancelBubble = true;\r\n            event.stopPropagation();\r\n        } catch (error) {}\r\n\r\n        // making sure we can iterate over just one DOM element\r\n        if (elements.length === undefined) {\r\n            elements = [elements];\r\n        }\r\n\r\n        // check this once\r\n        if (typeof callbacks != 'object') {\r\n            callbacks = {};\r\n        }\r\n\r\n        for (var i = 0; i < elements.length; i++) {\r\n\r\n            var element = elements[i];\r\n            var targetId = element.getAttribute('aria-controls');\r\n            var target = document.getElementById(targetId);\r\n\r\n            if (target == null) {\r\n                throw new Error(\r\n                    'accordion.Toggle cannot find the target to be toggled from inside aria-controls.\\n' +\r\n                    'Make sure the first argument you give accordion.Toggle is the DOM element (a button or a link) that has an aria-controls attribute that points ' +\r\n                    'to a div that you want to toggle.'\r\n                );\r\n            }\r\n\r\n            target.style.display = 'block';\r\n\r\n            (function (element) {\r\n                QLD.animate.Toggle({\r\n                    element: target,\r\n                    property: \"height\",\r\n                    speed: speed || 250,\r\n                    prefunction: function (target, state) {\r\n                        if (state === \"opening\") {\r\n                            target.style.display = \"block\";\r\n\r\n                            // run when opening\r\n                            if (typeof callbacks.onOpen === \"function\") {\r\n                                callbacks.onOpen();\r\n                            }\r\n                        } else {\r\n                            // run when closing\r\n                            if (typeof callbacks.onClose === \"function\") {\r\n                                callbacks.onClose();\r\n                            }\r\n                        }\r\n\r\n                        setAriaRoles(element, target, state);\r\n                        toggleClasses(element, state);\r\n                    },\r\n                    postfunction: function (target, state) {\r\n                        if (state === \"closed\") {\r\n                            // run after closing\r\n                            target.style.display = \"\";\r\n                            target.style.height = \"\";\r\n\r\n                            // GTM event\r\n                            if (typeof window.dataLayer !== \"undefined\") {\r\n                                window.dataLayer.push({\r\n                                    event: \"accordion closed\",\r\n                                    category: \"accordion\",\r\n                                    action: \"close\",\r\n                                    label: targetId,\r\n                                });\r\n                            }\r\n\r\n                            if (typeof callbacks.afterClose === \"function\") {\r\n                                callbacks.afterClose();\r\n                            }\r\n                        } else {\r\n                            // run after opening\r\n                            target.style.display = \"\";\r\n                            target.style.height = \"\";\r\n\r\n                            // GTM event\r\n                            if (typeof window.dataLayer !== \"undefined\") {\r\n                                window.dataLayer.push({\r\n                                    event: \"accordion open\",\r\n                                    category: \"accordion\",\r\n                                    action: \"open\",\r\n                                    label: targetId,\r\n                                });\r\n                            }\r\n\r\n                            if (typeof callbacks.afterOpen === \"function\") {\r\n                                callbacks.afterOpen();\r\n                            }\r\n\r\n                            if(target.classList.contains('qld__overflow_menu')) {\r\n                                \r\n                                var overFlowLinks = [];\r\n                                overFlowLinks = target.querySelectorAll('a.qld__overflow_menu_list-item-link');\r\n\r\n                                if(overFlowLinks[0]) {\r\n                                    setTimeout(function() {\r\n                                        overFlowLinks[0].focus();\r\n                                    }, 10);\r\n                                }\r\n                                \r\n                            }\r\n                        }\r\n\r\n                        toggleClasses(target, state);\r\n                    },\r\n                    callback: function (target, state) {\r\n\r\n                        const controller = new AbortController();\r\n\r\n                        function toggleNavOnDocumentClick(event) {\r\n                            if (!event.target.closest(\".qld__main-nav__menu-sub.qld__accordion__body.qld__accordion--open\")) {\r\n\r\n                                controller.abort();\r\n                                if(elements[0].classList.contains('qld__accordion--open')) {\r\n                                    accordion.Toggle(elements, speed, callbacks);   \r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        if (state === \"open\" || state === \"opening\") {\r\n                            //if it is a mega nav add an event listener to close it when document is clicked\r\n                            if (this.element.classList.contains(\"qld__main-nav__menu-sub\") || this.element.classList.contains(\"qld__overflow_menu\")) {\r\n                                document.addEventListener(\r\n                                    \"click\",\r\n                                    toggleNavOnDocumentClick,\r\n                                    { signal: controller.signal }\r\n                                )\r\n                            }\r\n                        } else {\r\n                            if (this.element.classList.contains(\"qld__main-nav__menu-sub\") || this.element.classList.contains(\"qld__overflow_menu\")) {\r\n                                document.removeEventListener(\r\n                                    \"click\",\r\n                                    toggleNavOnDocumentClick,\r\n                                    { signal: controller.signal }\r\n                                )\r\n                                controller.abort();\r\n                            }\r\n                        }\r\n                    },\r\n                });\r\n            })(element);\r\n\r\n        }\r\n\r\n        return false;\r\n\r\n    }\r\n\r\n    /**\r\n     * Toggle all accordion elements\r\n     * \r\n     * @memberof module:accordion\r\n     *\r\n     * @param  {string}  elements  - The DOM node/s to toggle\r\n     * @param  {integer} speed     - The speed in ms for the animation\r\n     * @param  {object}  callbacks - An object of four optional callbacks: { onOpen, afterOpen, onClose, afterClose }\r\n     *\r\n     */\r\n    accordion.ToggleAll = function (elements, speed, callbacks) {\r\n        // stop event propagation\r\n        try {\r\n            window.event.cancelBubble = true;\r\n            event.stopPropagation();\r\n        } catch (error) {}\r\n\r\n        var toogleAllButton = elements;\r\n        // find the accordion wrapper\r\n        var wrapper = toogleAllButton.closest(\".qld__accordion-group\");\r\n        // get all the accordion buttons\r\n        var accordionButtons =  wrapper.querySelectorAll('.qld__accordion__title');\r\n\r\n\r\n        // check this once\r\n        if (typeof callbacks != 'object') {\r\n            callbacks = {};\r\n        }\r\n\r\n        // Check if opened or closed \r\n        if(toogleAllButton.classList.contains('qld__accordion__toggle-btn--closed')){\r\n            toogleAllButton.classList.remove('qld__accordion__toggle-btn--closed');\r\n            toogleAllButton.setAttribute(\"aria-expanded\", \"true\");\r\n            toogleAllButton.classList.add('qld__accordion__toggle-btn--open');\r\n            toogleAllButton.textContent = \"Close all\";\r\n            accordion.Open(accordionButtons);\r\n        }else if(toogleAllButton.classList.contains('qld__accordion__toggle-btn--open')){\r\n            toogleAllButton.classList.remove('qld__accordion__toggle-btn--open');\r\n            toogleAllButton.setAttribute(\"aria-expanded\", \"false\");\r\n            toogleAllButton.classList.add('qld__accordion__toggle-btn--closed');\r\n            toogleAllButton.textContent = \"Open all\";\r\n            accordion.Close(accordionButtons);\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n    /**\r\n     * Open a group of accordion elements\r\n     * \r\n     * @memberof module:accordion\r\n     *\r\n     * @param  {string}  elements - The DOM node/s to toggle\r\n     * @param  {integer} speed    - The speed in ms for the animation\r\n     *\r\n     */\r\n    accordion.Open = function (elements, speed) {\r\n\r\n        // stop event propagation\r\n        try {\r\n            window.event.cancelBubble = true;\r\n            event.stopPropagation();\r\n        } catch (error) {}\r\n\r\n        if (elements.length === undefined) {\r\n            elements = [elements];\r\n        }\r\n\r\n        for (var i = 0; i < elements.length; i++) {\r\n\r\n            var element = elements[i];\r\n            var targetId = element.getAttribute('aria-controls');\r\n            var target = document.getElementById(targetId);\r\n\r\n            // lets find out if this accordion is still closed\r\n            var height = 0;\r\n            if (typeof getComputedStyle !== 'undefined') {\r\n                height = window.getComputedStyle(target).height;\r\n            } else {\r\n                height = target.currentStyle.height;\r\n            }\r\n\r\n            if (parseInt(height) === 0) {\r\n                target.style.height = '0px';\r\n            }\r\n\r\n            target.style.display = '';\r\n            toggleClasses(target, 'opening');\r\n            toggleClasses(element, 'opening');\r\n            setAriaRoles(element, target, 'opening');\r\n\r\n            if (typeof(window.dataLayer) !== 'undefined') {\r\n                window.dataLayer.push({\r\n                    event: 'accordion open',\r\n                    category: 'accordion',\r\n                    action: 'close',\r\n                    label: targetId\r\n                });            \r\n            }\r\n            \r\n            (function (target, speed, element) {\r\n                QLD.animate.Run({\r\n                    element: target,\r\n                    property: 'height',\r\n                    endSize: 'auto',\r\n                    speed: speed || 250,\r\n                    callback: function () {\r\n                        toggleClasses(element, 'opening');\r\n                    },\r\n                });\r\n            })(target, speed, element);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * Close a group of accordion elements\r\n     * \r\n     * @memberof module:accordion\r\n     *\r\n     * @param  {string}  elements - The DOM node/s to toggle\r\n     * @param  {integer} speed    - The speed in ms for the animation\r\n     *\r\n     */\r\n    accordion.Close = function (elements, speed) {\r\n\r\n        // stop event propagation\r\n        try {\r\n            window.event.cancelBubble = true;\r\n            event.stopPropagation();\r\n        } catch (error) {}\r\n\r\n        if (elements.length === undefined) {\r\n            elements = [elements];\r\n        }\r\n\r\n        for (var i = 0; i < elements.length; i++) {\r\n\r\n            var element = elements[i];\r\n            var targetId = element.getAttribute('aria-controls');\r\n            var target = document.getElementById(targetId);\r\n\r\n            toggleClasses(element, 'closing');\r\n            setAriaRoles(element, target, 'closing');\r\n            \r\n            if (typeof(window.dataLayer) !== 'undefined') {\r\n                window.dataLayer.push({\r\n                    event: 'accordion close',\r\n                    category: 'accordion',\r\n                    action: 'close',\r\n                    label: targetId\r\n                });             \r\n            }\r\n            \r\n            (function (target, speed) {\r\n                QLD.animate.Run({\r\n                    element: target,\r\n                    property: 'height',\r\n                    endSize: 0,\r\n                    speed: speed || 250,\r\n                    callback: function () {\r\n                        target.style.display = '';\r\n                        toggleClasses(target, 'close');\r\n                    },\r\n                });\r\n            })(target, speed);\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Init the accordion component by adding relevent event listeners\r\n     * \r\n     * @memberof module:accordion\r\n     */\r\n    accordion.init = function(element) {\r\n\r\n        if(element == 'overflow') {\r\n            var overflowMenuButtons = document.querySelectorAll('.qld__overflow_menu__btn');\r\n            overflowMenuButtons.forEach(function (button) {\r\n                button.addEventListener('click', function () {\r\n                    accordion.Toggle(button)\r\n                });\r\n            });\r\n        } else {\r\n            var accordionButtons = document.querySelectorAll('.qld__accordion__title');\r\n            accordionButtons.forEach(function (button) {\r\n                button.addEventListener('click', function () {\r\n                    accordion.Toggle(button)\r\n                });\r\n            });\r\n    \r\n            var accordionAllButtton = document.querySelectorAll('.qld__accordion__toggle-btn');\r\n            accordionAllButtton.forEach(function (button) {\r\n                button.addEventListener('click', function () {\r\n                    accordion.ToggleAll(button)\r\n                });\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    // Make accordion public\r\n    QLD.accordion = accordion;\r\n\r\n    // Add toggle event listeners to accordion buttons\r\n    window.addEventListener('DOMContentLoaded', function () {\r\n        QLD.accordion.init();\r\n    });\r\n\r\n}());","(function () {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @module breadcrumb\r\n     */\r\n\r\n    var breadcrumb = {};\r\n    var originalBreadCrumbUl = null;\r\n\r\n    function getTheElements(resized = false) {\r\n        const bannerBreadCrumbsAll = document.querySelectorAll(\"nav.qld__banner__breadcrumbs--desktop\");\r\n\r\n        const bodyBreadCrumbsAll = document.querySelectorAll(\"section.qld__body--breadcrumb nav.qld__breadcrumbs\");\r\n\r\n        const bannerBreadCrumbArray = [...bannerBreadCrumbsAll, ...bodyBreadCrumbsAll];\r\n        const bannerBreadCrumb = bannerBreadCrumbArray.find((breadcrumb) => {\r\n            return breadcrumb.offsetWidth > 0;\r\n        });\r\n\r\n        if (bannerBreadCrumb) {\r\n            if (!originalBreadCrumbUl) {\r\n                originalBreadCrumbUl = bannerBreadCrumb.querySelector(\"ol.qld__link-list\").cloneNode(true);\r\n            }\r\n\r\n            if (resized) {\r\n                bannerBreadCrumb.querySelector(\"ol.qld__link-list\").innerHTML = originalBreadCrumbUl.innerHTML;\r\n            }\r\n\r\n            const breadCrumbsUl = bannerBreadCrumb.querySelector(\"ol.qld__link-list\");\r\n            if (bannerBreadCrumb.parentElement && bannerBreadCrumb.parentElement.classList.contains(\"qld__banner__content\")) {\r\n                const contentBanner = bannerBreadCrumb.closest(\".qld__banner__content\");\r\n                const contentBannerStyle = window.getComputedStyle(contentBanner);\r\n\r\n                const contentPaddings = parseFloat(contentBannerStyle.getPropertyValue(\"padding-right\").replace(/[^\\d.]/g, \"\")) + parseFloat(contentBannerStyle.getPropertyValue(\"padding-left\").replace(/[^\\d.]/g, \"\"));\r\n\r\n                bannerBreadCrumb.style.maxWidth = contentBanner.offsetWidth - contentPaddings + \"px\";\r\n\r\n                breadCrumbsUl.style.maxWidth = contentBanner.offsetWidth - contentPaddings + \"px\";\r\n            } else {\r\n                const containerFluid = bannerBreadCrumb.closest(\".container-fluid\");\r\n                const containerFluidStyle = window.getComputedStyle(containerFluid);\r\n                if (containerFluid) {\r\n                    const paddings = parseFloat(containerFluidStyle.getPropertyValue(\"padding-right\").replace(/[^\\d.]/g, \"\")) + parseFloat(containerFluidStyle.getPropertyValue(\"padding-left\").replace(/[^\\d.]/g, \"\"));\r\n\r\n                    bannerBreadCrumb.style.maxWidth = containerFluid.offsetWidth - paddings + \"px\";\r\n                    breadCrumbsUl.style.maxWidth = containerFluid.offsetWidth - paddings + \"px\";\r\n                }\r\n            }\r\n            return {\r\n                bannerBreadCrumb,\r\n                breadCrumbsUl,\r\n            };\r\n        }\r\n    }\r\n\r\n    function createOverFlow(svgPath) {\r\n        const overFlowWrapper = document.createElement(\"div\");\r\n        overFlowWrapper.className = \"qld__overflow_menu_wrapper\";\r\n\r\n        const button = document.createElement(\"button\");\r\n        button.className = \"qld__btn qld__btn--toggle qld__overflow_menu__btn qld__accordion--closed\";\r\n        button.setAttribute(\"href\", \"#\");\r\n        button.setAttribute(\"aria-controls\", \"overflow-menu--\");\r\n        button.setAttribute(\"aria-expanded\", \"false\");\r\n\r\n        if (svgPath) {\r\n            button.innerHTML = `<svg class=\"qld__icon qld__icon--lg\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\"><use href=\"${svgPath}#more-horizontal\"></use></svg>`;\r\n        }\r\n\r\n        overFlowWrapper.appendChild(button);\r\n\r\n        const div = document.createElement(\"div\");\r\n        div.className = \"qld__overflow_menu qld__accordion--closed\";\r\n        div.setAttribute(\"id\", \"overflow-menu--\");\r\n\r\n        const ul = document.createElement(\"ul\");\r\n        ul.className = \"qld__overflow_menu_list\";\r\n        ul.setAttribute(\"aria-label\", \"qld__overflow_menu qld__link-columns\");\r\n\r\n        div.appendChild(ul);\r\n\r\n        overFlowWrapper.appendChild(div);\r\n\r\n        return overFlowWrapper;\r\n    }\r\n\r\n    function insertOverFlowButton(overFlowWrapper, element) {\r\n        const newElement = document.createElement(\"div\");\r\n        newElement.className = \"qld__overflow_menu_list-item\";\r\n\r\n        const link = element.querySelector(\"a\");\r\n        link.classList.add(\"qld__overflow_menu_list-item-link\");\r\n        link.setAttribute(\"tabindex\", \"0\");\r\n\r\n        newElement.appendChild(link);\r\n\r\n        const ul = overFlowWrapper.querySelector(\"ul\");\r\n\r\n        ul.appendChild(newElement);\r\n\r\n        return overFlowWrapper;\r\n    }\r\n\r\n    function truncateLastLi(breadCrumbsUlLis) {\r\n        breadCrumbsUlLis[breadCrumbsUlLis.length - 1].style.overflow = \"hidden\";\r\n    }\r\n\r\n    function appendOverflow(breadCrumbsUlLis, overflowMenu, breadcrumbUL) {\r\n        breadCrumbsUlLis[1].innerHTML = \"\";\r\n        breadCrumbsUlLis[1].className = \"qld__overflow_menu--breadcrumbs\";\r\n        breadCrumbsUlLis[1].appendChild(overflowMenu);\r\n        breadCrumbsUlLis[1].style.display = \"flex\";\r\n    }\r\n\r\n    breadcrumb.init = function () {\r\n        if (getTheElements()) {\r\n            const { breadCrumbsUl } = getTheElements();\r\n\r\n            const breadCrumbsUlLis = breadCrumbsUl.querySelectorAll(\"li\");\r\n            if (breadCrumbsUlLis.length > 2 && breadCrumbsUlLis[0].offsetHeight > 0) {\r\n                const parent = breadCrumbsUl.parentElement;\r\n                const svgPath = parent.getAttribute(\"data-path\");\r\n                const overflowMenu = createOverFlow(svgPath);\r\n\r\n                let breadcrumbLisLength = breadCrumbsUlLis.length;\r\n                let i = 1;\r\n\r\n                let totalLisOffsetWidth = 0;\r\n\r\n                for (let i = 0; i < breadCrumbsUlLis.length; i++) {\r\n                    totalLisOffsetWidth += breadCrumbsUlLis[i].offsetWidth;\r\n                }\r\n\r\n                if (breadcrumbLisLength > 5) {\r\n                    insertOverFlowButton(overflowMenu, breadCrumbsUlLis[1]);\r\n                    breadCrumbsUlLis[1].style.display = \"none\";\r\n                    appendOverflow(breadCrumbsUlLis, overflowMenu, breadCrumbsUl);\r\n                    i = 2;\r\n\r\n                    while (i < breadCrumbsUlLis.length - 2) {\r\n                        insertOverFlowButton(overflowMenu, breadCrumbsUlLis[i]);\r\n                        breadCrumbsUlLis[i].style.display = \"none\";\r\n                        i++;\r\n                    }\r\n                } else if (breadCrumbsUl.offsetHeight > breadCrumbsUlLis[0].offsetHeight * 1.9) {\r\n                    if (breadcrumbLisLength > 3) {\r\n                        insertOverFlowButton(overflowMenu, breadCrumbsUlLis[1]);\r\n                        breadCrumbsUlLis[1].style.display = \"none\";\r\n                        appendOverflow(breadCrumbsUlLis, overflowMenu, breadCrumbsUl);\r\n                    }\r\n\r\n                    i = 2;\r\n\r\n                    while (breadCrumbsUl.offsetHeight > breadCrumbsUlLis[0].offsetHeight * 1.9 && i < breadcrumbLisLength - 2) {\r\n                        insertOverFlowButton(overflowMenu, breadCrumbsUlLis[i]);\r\n                        breadCrumbsUlLis[i].style.display = \"none\";\r\n\r\n                        i++;\r\n                    }\r\n                } else if (parseFloat(breadCrumbsUl.style.maxWidth.replace(/[^\\d.]/g, \"\")) < totalLisOffsetWidth) {\r\n                    if (breadcrumbLisLength > 3) {\r\n                        insertOverFlowButton(overflowMenu, breadCrumbsUlLis[1]);\r\n                        breadCrumbsUlLis[1].style.display = \"none\";\r\n                        appendOverflow(breadCrumbsUlLis, overflowMenu, breadCrumbsUl);\r\n                        totalLisOffsetWidth -= breadCrumbsUlLis[1].offsetWidth;\r\n                    }\r\n\r\n                    i = 2;\r\n\r\n                    while (parseFloat(breadCrumbsUl.style.maxWidth.replace(/[^\\d.]/g, \"\")) < totalLisOffsetWidth && i < breadcrumbLisLength - 2) {\r\n                        insertOverFlowButton(overflowMenu, breadCrumbsUlLis[i]);\r\n                        totalLisOffsetWidth -= breadCrumbsUlLis[1].offsetWidth;\r\n                        breadCrumbsUlLis[i].style.display = \"none\";\r\n                        i++;\r\n                    }\r\n                }\r\n\r\n                truncateLastLi(breadCrumbsUlLis, breadCrumbsUl);\r\n            }\r\n        }\r\n    };\r\n\r\n    QLD.breadcrumb = breadcrumb;\r\n\r\n    window.addEventListener(\"DOMContentLoaded\", function () {\r\n        QLD.breadcrumb.init();\r\n        QLD.accordion.init(\"overflow\");\r\n    });\r\n\r\n    window.addEventListener(\"resize\", function () {\r\n        getTheElements(true);\r\n        QLD.breadcrumb.init();\r\n        QLD.accordion.init(\"overflow\");\r\n    });\r\n})();\r\n","(function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @module multiActionCards\r\n     */\r\n    let multiActionCards = {};\r\n\r\n    /**\r\n     * Create mouse leave/enter \r\n     * \r\n     * @memberof module:multiActionCards\r\n     */\r\n\r\n    multiActionCards.init = function() {\r\n        let cards = document.querySelectorAll(\".qld__card__multi-action\");\r\n\r\n        cards.forEach(function(card){\r\n            let imageLink = card.querySelector('.qld__card__image-link');\r\n            let link = card.querySelector(\".qld__card__title .qld__card--clickable__link\");\r\n            \r\n            if (imageLink) {\r\n              imageLink.addEventListener('mouseover', () => {\r\n                link.classList.add('qld__card--clickable__link--active');\r\n              });\r\n              imageLink.addEventListener('mouseout', () => {\r\n                link.classList.remove('qld__card--clickable__link--active');\r\n              });\r\n              link.addEventListener('mouseover', () => {\r\n                imageLink.classList.add('qld__card__image-link--active');\r\n              });\r\n              link.addEventListener('mouseout', () => {\r\n                imageLink.classList.remove('qld__card__image-link--active');\r\n              });\r\n            }\r\n            \r\n        })\r\n    }\r\n\r\n    QLD.multiActionCards = multiActionCards;\r\n\r\n    // Init In Page Nav on document load\r\n    document.addEventListener('DOMContentLoaded', QLD.multiActionCards.init);\r\n    \r\n}());","(function(QLD) {\r\n    \"use strict\";\r\n    \r\n    /**\r\n     * The main namespace for all QLDDS functions and variables\r\n     * @module _global\r\n     */\r\n    var QLD = QLD ? QLD : {};\r\n    QLD.utils = {\r\n        /**\r\n         * Add 'js' body class if JS is enabled on the page\r\n         * \r\n         * @memberof module:_global\r\n         */\r\n        'browserJS': function() {\r\n            document.querySelector(\"html\").classList.remove(\"no-js\");\r\n            document.querySelector(\"html\").classList.add(\"js\");\r\n        },\r\n        \r\n        /**\r\n        * Returns a function, that, as long as it continues to be invoked, will not \r\n        * be triggered. The function will be called after it stops being called for \r\n        * N milliseconds. If `immediate` is passed, trigger the function on the \r\n        * leading edge, instead of the trailing.\r\n        * https://davidwalsh.name/javascript-debounce-function\r\n        * \r\n        * @memberof module:_global\r\n        * \r\n        * @param {function} func \r\n        * @param {number} wait \r\n        * @param {boolean} immediate \r\n        * \r\n        * @returns {function}\r\n        */\r\n        'debounce': function (func, wait, immediate) {\r\n            var timeout;\r\n            return function () {\r\n                var context = this,\r\n                    args = arguments;\r\n                var later = function () {\r\n                    timeout = null;\r\n                    if (!immediate) func.apply(context, args);\r\n                };\r\n                var callNow = immediate && !timeout;\r\n                clearTimeout(timeout);\r\n                timeout = setTimeout(later, wait);\r\n                if (callNow) func.apply(context, args);\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Convert nodeList to Array (for IE11)\r\n         * \r\n         * @memberof module:_global\r\n         * \r\n         * @param {*} node_list \r\n         * \r\n         * @returns {Node[]}\r\n         */\r\n        'listToArray': function(node_list) {\r\n            return Array.prototype.slice.call(node_list);\r\n        },\r\n\r\n        /**\r\n         * Set browser cookie\r\n         * \r\n         * @memberof module:_global\r\n         * \r\n         * @param {string} cookie_name \r\n         * @param {string} cookie_value \r\n         */\r\n        'setCookie': function(cookie_name, cookie_value) {\r\n            var cookie_entry = cookie_name + '=' + encodeURIComponent(cookie_value) + ';';\r\n            document.cookie = cookie_entry + '; path=/;';\r\n        },\r\n        /**\r\n         * Get browser cookie\r\n         * \r\n         * @memberof module:_global\r\n         * \r\n         * @param {string} cookie_name \r\n         * \r\n         * @returns {c_value}\r\n         */\r\n        'getCookie': function(cookie_name) {\r\n            var c_value = \" \" + document.cookie;\r\n            var c_start = c_value.indexOf(\" \" + cookie_name + \"=\");\r\n            if (c_start == -1) {\r\n                c_value = null;\r\n            }\r\n            else {\r\n                c_start = c_value.indexOf(\"=\", c_start) + 1;\r\n                var c_end = c_value.indexOf(\";\", c_start);\r\n                if (c_end == -1) {\r\n                    c_end = c_value.length;\r\n                }\r\n                c_value = unescape(c_value.substring(c_start,c_end));\r\n            }\r\n            return c_value;\r\n        },\r\n        /**\r\n         * Set browser local storage\r\n         * \r\n         * @memberof module:_global\r\n         * \r\n         * @param {string} storage_key\r\n         * @param {string} storage_value \r\n         */\r\n        'setLocalStorage': function(storage_key, storage_value) {\r\n            if (typeof(storage_value) !== 'string') {\r\n                storage_value = JSON.stringify(storage_value);\r\n            }\r\n        \r\n            localStorage.setItem(storage_key, storage_value);\r\n        },\r\n        /**\r\n         * Get browser local storage from key\r\n         * \r\n         * @memberof module:_global\r\n         * \r\n         * @param {string} storage_key \r\n         * \r\n         * @returns {localStorage.getItem(storage_key)}\r\n         */\r\n        'getLocalStorage': function(storage_key) {\r\n            return localStorage.getItem(storage_key);\r\n        },\r\n        /**\r\n         * Remove browser local storage item by key\r\n         * \r\n         * @memberof module:_global\r\n         * \r\n         * @param {string} storage_key \r\n         */\r\n        'removeLocalStorage': function(storage_key) {\r\n            localStorage.removeItem(storage_key);\r\n        },\r\n        /**\r\n         * Determine the location of the user using HTML5 geolocation\r\n         * \r\n         * @memberof module:_global\r\n         * \r\n         * @param {Boolean} override\r\n         * @param {function} errorCallback\r\n         */\r\n        'geolocateUser': function(override, errorCallback) {\r\n            \r\n            var userLocationStorage = QLD.utils.getLocalStorage('qld_user_location');\r\n            if(userLocationStorage !== null && !override) {\r\n                return JSON.parse(userLocationStorage);\r\n            }\r\n\r\n            if (navigator.geolocation) {\r\n\r\n                QLD.utils.setLoadingState(true);\r\n                navigator.geolocation.getCurrentPosition(function(position) {\r\n                    var location = {\r\n                        \"latitude\": position.coords.latitude,\r\n                        \"longitude\": position.coords.longitude,\r\n                        \"isGeolocated\": true,\r\n                        \"location\": ''\r\n                    };\r\n\r\n                    QLD.utils.setUserLocation(location);\r\n                    QLD.utils.removeLocalStorage('deny-location');\r\n                    return `${position.coords.latitude},${position.coords.longitude}`;\r\n                }, function(error) {\r\n                    console.log(error);\r\n                    QLD.utils.setLoadingState(false);\r\n                    if (errorCallback) {\r\n                        errorCallback();\r\n                    }\r\n                    return false;\r\n                }, { timeout: 10000 });\r\n\r\n            } else {\r\n                console.log('Unable to locate');\r\n                if (errorCallback) {\r\n                        errorCallback();\r\n                    }\r\n                return false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Set the user location, including the HHS\r\n         * \r\n         * @memberof module:_global\r\n         * \r\n         * @param {object} location \r\n         */\r\n        'setUserLocation': function(location, refresh = true) {\r\n            // If there is a site-wide HHS configured\r\n            var hhsDiv = document.getElementById('qld__hhs');\r\n\r\n            if (hhsDiv !== null && typeof(serviceFinderData) !== 'undefined') {\r\n                var hhsId = hhsDiv.getAttribute('data-hhs');\r\n                serviceFinderData.collection('hhs').doc(hhsId).get().then((response) => {\r\n                    location.hhs_id = hhsId;\r\n                    location.hhs_name = response.name;\r\n\r\n                    QLD.utils.setUserLocationInStorage(location, refresh);\r\n                });\r\n                \r\n            } else {\r\n                QLD.utils.setUserLocationInStorage(location, refresh);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Set the 'qld_user_location' cookie based on a provided location object\r\n         * \r\n         * @memberof module:_global\r\n         * \r\n         */\r\n        'setUserLocationInStorage': function(newLocation, refresh) {\r\n            QLD.utils.setLocalStorage('qld_user_location', JSON.stringify(newLocation));\r\n\r\n            if(refresh) {\r\n                QLD.utils.setLoadingState(true);\r\n                \r\n                setTimeout(function() {\r\n                    window.location.reload(false);\r\n                }, 300);\r\n            }\r\n        },\r\n        /**\r\n         * Check the 'qld_user_location' cookie to determine\r\n         * whether the user is geolocated\r\n         * \r\n         * @memberof module:_global\r\n         * \r\n         * @return {boolean}\r\n         * \r\n         */\r\n        'isGeolocated': function() {\r\n            var userLocationStorage = QLD.utils.getLocalStorage('qld_user_location');\r\n            var userLocationData = {};\r\n\r\n            if(userLocationStorage !== null) {\r\n                userLocationData = JSON.parse(userLocationStorage);\r\n            }\r\n\r\n            if(Object.keys(userLocationData).length > 0) {\r\n\r\n                return userLocationData.isGeolocated;\r\n            }\r\n\r\n            return false;\r\n        },\r\n        /**\r\n         * Set the loading state of the page. If 'true',\r\n         * this will show a loader animation overlay over\r\n         * the entire page. Use 'false' to remove this\r\n         * same animation\r\n         * \r\n         * @memberof module:_global\r\n         * \r\n         * @param {Boolean} isLoading \r\n         */\r\n        'setLoadingState': function(isLoading) {\r\n            var loader = document.querySelector('.loader');\r\n            \r\n            if (loader === null) {\r\n                loader = document.createElement('div');\r\n                loader.classList.add('loader');\r\n                var parentNode = document.querySelector('.main');\r\n                parentNode.insertBefore(loader, parentNode.firstChild);\r\n            }\r\n\r\n            if (isLoading) {\r\n                loader.parentNode.classList.add('loading');\r\n            } else {\r\n                document.querySelector('.loading').classList.remove('loading');\r\n            }\r\n        },\r\n        /**\r\n         * Get Paramater from URL by name\r\n         * \r\n         * @memberof module:_global\r\n         * \r\n         * @param {*} name\r\n         */\r\n        'getParamaterByName': function(name){\r\n            name = name.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\r\n            var regexS = \"[\\\\?&]\"+name+\"=([^&#]*)\";\r\n            var regex = new RegExp( regexS );\r\n            var results = regex.exec( window.location.href );\r\n            if( results == null )\r\n              return \"\";\r\n            else\r\n              return decodeURIComponent(results[1].replace(/\\+/g, \" \"));\r\n          }\r\n    };\r\n\r\n    // Make QLD variable available to the console for debugging\r\n    window.QLD = QLD;\r\n\r\n    QLD.utils.browserJS();\r\n    \r\n\r\n})(window.QLD);","(function () {\r\n    \"use strict\";\r\n\r\n    window.addEventListener(\"DOMContentLoaded\", function () {\r\n        function checkIfAzSelected() {\r\n            var hash = window.location.hash;\r\n\r\n            if (hash) {\r\n                setTimeout(function () {\r\n                    var servicesAZOptions = document.querySelectorAll(\".qld__a-z_listing__options__item__link\");\r\n                    var servicesAZHeaders = document.querySelectorAll(\".qld__a-z_listing__list__item__header\");\r\n\r\n                    servicesAZOptions.forEach(function (option) {\r\n                        option.classList.remove(\"active\");\r\n                    });\r\n\r\n                    servicesAZHeaders.forEach(function (header) {\r\n                        header.classList.remove(\"active\");\r\n                    });\r\n\r\n                    var activeOption = document.querySelector(`a[href^=\"${hash}\"].qld__a-z_listing__options__item__link`);\r\n                    if (activeOption) {\r\n                        activeOption.classList.add(\"active\");\r\n                    }\r\n\r\n                    var activeHeader = document.querySelector(`.qld__a-z_listing__list__item__header ${hash}`);\r\n                    if (activeHeader) {\r\n                        activeHeader.parentElement.classList.add(\"active\");\r\n                    }\r\n\r\n                    var targetElement = document.querySelector(hash);\r\n                    if (targetElement) {\r\n                        window.scrollTo({\r\n                            top: targetElement.offsetTop - 20,\r\n                            behavior: \"smooth\",\r\n                        });\r\n                    }\r\n                }, 100);\r\n            }\r\n        }\r\n\r\n        document.addEventListener(\"click\", function (event) {\r\n            var target = event.target;\r\n\r\n            if (target.matches('a[href^=\"#\"].qld__a-z_listing__options__item__link')) {\r\n                event.preventDefault();\r\n\r\n                var servicesAZOptions = document.querySelectorAll(\".qld__a-z_listing__options__item__link\");\r\n                var servicesAZHeaders = document.querySelectorAll(\".qld__a-z_listing__list__item__header\");\r\n\r\n                servicesAZOptions.forEach(function (option) {\r\n                    option.classList.remove(\"active\");\r\n                });\r\n\r\n                servicesAZHeaders.forEach(function (header) {\r\n                    header.classList.remove(\"active\");\r\n                });\r\n\r\n                target.classList.add(\"active\");\r\n                var targetHeader = document.querySelector(`.qld__a-z_listing__list__item__header ${target.getAttribute(\"href\")}`);\r\n                if (targetHeader) {\r\n                    targetHeader.parentElement.classList.add(\"active\");\r\n                }\r\n\r\n                var targetElement = document.querySelector(target.getAttribute(\"href\"));\r\n                if (targetElement) {\r\n                    window.scrollTo({\r\n                        top: targetElement.offsetTop - 20,\r\n                        behavior: \"smooth\",\r\n                    });\r\n                }\r\n\r\n                window.location.hash = target.getAttribute(\"href\");\r\n            }\r\n        });\r\n\r\n        window.addEventListener(\"hashchange\", function () {\r\n            checkIfAzSelected();\r\n        });\r\n\r\n        checkIfAzSelected();\r\n    });\r\n})();\r\n","(function () {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @module fileUploads\r\n     */\r\n    let fileUploads = {\r\n        inputs: {},\r\n    };\r\n\r\n    /**\r\n     * Loading template for file preview\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    const loadingTemplate = function (file) {\r\n        const fileName = file.name;\r\n        const fileTemplate = document.createElement(\"div\");\r\n\r\n        fileTemplate.classList.add(\"qld__form-file\");\r\n\r\n        fileTemplate.innerHTML = `<div class=\"qld__form-file-info-wrapper\"><div class=\"qld__form-file-loader\">\r\n                            <div class=\"qld__loading_spinner qld__loading_spinner--landscape\" role=\"status\">\r\n                                <span class=\"qld__loading_spinner-wheel\"></span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"qld__form-file-info\">\r\n                            <p class=\"qld__display-xs qld__form-file-info-name\">${fileName}</p>\r\n                            <span class=\"qld__form-file-info-status\">Uploading...</span>\r\n                        </div></div>\r\n                        <div class=\"qld__form-file-actions\"></div>`;\r\n        return fileTemplate;\r\n    };\r\n\r\n    /**\r\n     * Success template for file preview\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    const successTemplate = function (file) {\r\n        const fileName = file.name;\r\n        const fileTemplate = document.createElement(\"div\");\r\n        let fileSize = null;\r\n        const fileId = file.id != undefined ? file.id : fileName;\r\n        let fileType = file.type != undefined ? getAssetType(file.type) : \"\";\r\n\r\n        if (file && file.size) {\r\n            fileSize = Math.ceil(file.size / 1000);\r\n        }\r\n\r\n        fileTemplate.classList.add(\"qld__form-file\", \"qld__form-file--success\");\r\n\r\n        fileTemplate.innerHTML = `<div class=\"qld__form-file-info-wrapper\"><div class=\"qld__form-file-loader\">\r\n                                        <svg class=\"qld__icon qld__icon--lg\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\"><use href=\"${fileUploads.iconDataPath}#${fileType !== \"\" ? fileType.iconClass : \"\"}\"></use></svg>\r\n                                    </div>\r\n                                    <div class=\"qld__form-file-info\">\r\n                                        <p class=\"qld__display-xs qld__form-file-info-name\">${fileName}</p>\r\n                                        <span class=\"qld__form-file-info-status\">\r\n                                            <svg class=\"qld__icon qld__icon--sm\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\"><use href=\"${fileUploads.iconDataPath}#status-success\"></use></svg>\r\n                                            Upload successful${fileSize !== null ? `, ${fileSize}KB` : \"\"}\r\n                                        </span>\r\n                                    </div></div>\r\n                                    <div class=\"qld__form-file-actions\">\r\n                                        <button class=\"qld__btn qld__btn--tertiary qld__btn--icon-lead qld__form-file-delete-btn\" data-file-id=\"${fileId}\">\r\n                                            <svg class=\"qld__icon qld__icon--sm\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\"><use href=\"${fileUploads.iconDataPath}#delete\"></use></svg>\r\n                                            <span class=\"qld__form-file-delete-btn-remove\">Remove</span>\r\n                                        </button>\r\n                                    </div>`;\r\n\r\n        return fileTemplate;\r\n    };\r\n\r\n    /**\r\n     * Error template for file preview\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    const errorTemplate = function (file, error) {\r\n        const fileName = file.name;\r\n        const fileTemplate = document.createElement(\"div\");\r\n        const fileId = file.id != undefined ? file.id : fileName;\r\n        console.log(\"error:\", file.name);\r\n        fileTemplate.classList.add(\"qld__form-file\", \"qld__form-file--error\");\r\n\r\n        fileTemplate.innerHTML = `<div class=\"qld__form-file-info-wrapper\"><div class=\"qld__form-file-loader\">\r\n                                        <svg class=\"qld__icon qld__icon--lg\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\"><use href=\"${fileUploads.iconDataPath}#document-error\"></use></svg>\r\n                                    </div>\r\n                                    <div class=\"qld__form-file-info\">\r\n                                        <p class=\"qld__display-xs qld__form-file-info-name\">${fileName}</p>\r\n                                        <span class=\"qld__form-file-info-status\">\r\n                                            <svg class=\"qld__icon qld__icon--sm\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\"><use href=\"${fileUploads.iconDataPath}#status-error\"></use></svg>\r\n                                            ${error}\r\n                                        </span>\r\n                                    </div></div>\r\n                                    <div class=\"qld__form-file-actions\">\r\n                                        <button class=\"qld__btn qld__btn--tertiary qld__btn--icon-lead qld__form-file-delete-btn\" data-file-id=\"${fileId}\">\r\n                                            <svg class=\"qld__icon qld__icon--sm\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\"><use href=\"${fileUploads.iconDataPath}#delete\"></use></svg>\r\n                                            <span class=\"qld__form-file-delete-btn-remove\">Remove</span>\r\n                                        </button>\r\n                                    </div>`;\r\n\r\n        return fileTemplate;\r\n    };\r\n\r\n    /**\r\n     * Return the asset type code for the selected file\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    const getAssetType = function (type) {\r\n        let assetType = { type: \"file\", iconClass: \"document\" };\r\n        let typeLowerCase = type.toLowerCase();\r\n\r\n        switch (true) {\r\n            case typeLowerCase.indexOf(\"pdf\") != -1:\r\n                assetType = { type: \"pdf_file\", iconClass: \"document-pdf\" };\r\n                break;\r\n            case typeLowerCase.indexOf(\"word\") != -1:\r\n                assetType = { type: \"word_doc\", iconClass: \"document-word\" };\r\n                break;\r\n            case typeLowerCase.indexOf(\"image\") != -1:\r\n                assetType = { type: \"image\", iconClass: \"image\" };\r\n                break;\r\n            case typeLowerCase.indexOf(\"excel\") != -1:\r\n                assetType = { type: \"excel_doc\", iconClass: \"document-spreadsheet\" };\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        return assetType;\r\n    };\r\n\r\n    /**\r\n     * Check that the selected file is valid\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    const isFileValid = function (file, input_field_settings) {\r\n        const currentFiles = input_field_settings.files;\r\n        const totalFiles = currentFiles.length;\r\n        const maxFiles = input_field_settings.max_files;\r\n        const maxFileSize = input_field_settings.max_file_size;\r\n        const fileTypes = input_field_settings.file_types.split(\",\");\r\n        const fileSize = file.size;\r\n        const fileName = file.name;\r\n        // Regex testing for characters: <, >, :, \", /, \\, |, ?, *\r\n        // Also tests for control characters: (\\x00 to \\x1F)\r\n        // const illegalFileNameCharacters = /[<>:\"/\\\\|?*\\x00-\\x1F]/;\r\n\r\n        // Combined regex for both illegal characters and HTML/JS patterns\r\n        const illegalFileNameCharacters = /[<>:\"/\\\\|?*\\x00-\\x1F]|(<script.*?>|<\\/script>|<.*?>|javascript:|<html.*?>|<\\/html>)/i;\r\n\r\n        // If the file name contains illegal characters\r\n        if (illegalFileNameCharacters.test(fileName)) {\r\n            console.error(\"Unsupported characters in file name. Only use letters, numbers, space, and special characters: -_(\");\r\n            return \"Unsupported characters in file name.\";\r\n        }\r\n\r\n        // If a file of the same name has already been uploaded to the field\r\n        if (\r\n            currentFiles.some(function (item) {\r\n                return file.id == item.id;\r\n            })\r\n        ) {\r\n            console.error(\"Duplicate file name\");\r\n            return \"Filename: '\" + fileName + \"' already in use. Please rename file before trying again.\";\r\n        }\r\n\r\n        // If the file type is not accepted\r\n        if (\r\n            !fileTypes.some(function (type) {\r\n                return file.type.match(type);\r\n            })\r\n        ) {\r\n            console.error(\"Incorrect file type\");\r\n            return \"The selected file must be a \" + fileTypes.join(\", \");\r\n        }\r\n\r\n        // If file size exceeds the maximum\r\n        if (fileSize / (1024 * 1024) > maxFileSize) {\r\n            console.error(\"Max file size \" + maxFileSize + \" exceeded.\");\r\n            return \"The selected file must be smaller than \" + maxFileSize + \"MB\";\r\n        }\r\n\r\n        // If the max file limit has been reached\r\n        if (totalFiles >= maxFiles) {\r\n            console.error(\"Max number of files reached\");\r\n            return \"You can only select up to \" + maxFiles + \" files at the same time\";\r\n        }\r\n\r\n        // If the max file limit has been reached\r\n        if (fileSize <= 0) {\r\n            console.error(\"The selected file is empty\");\r\n            return \"The selected file is empty\";\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n    /**\r\n     * Initialise any file input components on the page\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    fileUploads.init = function () {\r\n        const iconDataPathElement = document.querySelector(\"form.qld__form--validate[data-path]\");\r\n        fileUploads.iconDataPath = iconDataPathElement ? iconDataPathElement.getAttribute(\"data-path\") : \"\";\r\n\r\n        // Store all file input fields in inputs property\r\n        let $file_inputs = QLD.utils.listToArray(document.querySelectorAll(\"input[type=file].qld__file-input\"));\r\n\r\n        // Bind listeners, and initialise settings object for each input field\r\n        for (let i = 0; i < $file_inputs.length; i++) {\r\n            const $input = $file_inputs[i];\r\n            const $dropzone_element = $input.closest(\".qld__form-file-wrapper\").querySelector(\".qld__form-file-dropzone\");\r\n            const $file_list = $input.closest(\".qld__form-file-wrapper\").querySelector(\".qld__form-file-preview\");\r\n\r\n            // Settings object for file input\r\n            fileUploads.inputs[$input.id] = {\r\n                id: $input.id,\r\n                input_element: $input,\r\n                create_location: $input.dataset[\"createLocation\"],\r\n                files: $input.dataset[\"files\"] !== \"\" ? JSON.parse($input.dataset[\"files\"]) : [],\r\n                max_file_size: $input.dataset[\"maxSize\"],\r\n                file_types: $input.dataset[\"fileTypes\"],\r\n                max_files: $input.dataset[\"maxFiles\"],\r\n                file_list_element: $file_list,\r\n                dropzone_element: $dropzone_element,\r\n                js_api_key: $input.dataset[\"jsApiKey\"],\r\n                displayFiles: displayExistingFiles,\r\n            };\r\n\r\n            // Add event listeners\r\n            addListeners(fileUploads.inputs[$input.id]);\r\n            // Custom validation for JS API if the field is required\r\n            if (fileUploads.inputs[$input.id].js_api_key !== undefined && fileUploads.inputs[$input.id].input_element.hasAttribute(\"required\")) {\r\n                addValidation(fileUploads.inputs[$input.id]);\r\n            }\r\n            // Set the instance of js api to the input settings object\r\n            if (fileUploads.inputs[$input.id].js_api_key !== undefined && fileUploads.inputs[$input.id].create_location !== undefined) {\r\n                fileUploads.inputs[$input.id].jsApi = jsApi(fileUploads.inputs[$input.id].js_api_key);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Add custom 'required' validation to any required JS API driven file input\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    const addValidation = function (input_field_settings) {\r\n        const $input = input_field_settings.input_element;\r\n\r\n        // Remove required attribute so we can replace it with the following rule\r\n        $input.removeAttribute(\"required\");\r\n\r\n        // Custom 'required' validation for input\r\n        if (!$.validator.methods.requiredFileInteraction) {\r\n            $.validator.addMethod(\r\n                \"requiredFileInteraction\",\r\n                function (value, element) {\r\n                    // Check if the user has interacted with the file input\r\n                    if ($(element).data(\"interacted\")) {\r\n                        // If data-files attribute is empty, invalidate the field\r\n                        return element.dataset[\"files\"] !== \"[]\" && element.dataset[\"files\"] !== \"\";\r\n                    } else {\r\n                        // If the user hasn't interacted, require a non-empty value\r\n                        return value.trim() !== \"\";\r\n                    }\r\n                },\r\n                \"This field is required.\"\r\n            );\r\n        }\r\n\r\n        $($input).rules(\"add\", {\r\n            requiredFileInteraction: true,\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Add the event listeners for the file input and drag/drop zone\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    const addListeners = function (input_field_settings) {\r\n        const $fileInput = input_field_settings.input_element;\r\n        const $fileInputWrapper = $fileInput.closest(\".qld__form-file-wrapper\");\r\n        const $dropArea = $fileInputWrapper.querySelector(\".qld__form-file-dropzone\");\r\n        const disabledClasses = [\"qld__form-file-dropzone--disabled\", \"qld__form-file-dropzone--updating\"];\r\n\r\n        // File delete button handler\r\n        $fileInputWrapper.addEventListener(\"click\", function (event) {\r\n            if (event.target.matches(\".qld__form-file-delete-btn\")) {\r\n                event.preventDefault();\r\n\r\n                const fileId = event.srcElement.dataset[\"fileId\"];\r\n                const $fileInfoWrapper = event.target.closest(\".qld__form-file\");\r\n\r\n                deleteFile(input_field_settings, fileId, $fileInfoWrapper);\r\n            }\r\n        });\r\n\r\n        // File input change handler\r\n        $fileInput.addEventListener(\"change\", function (event) {\r\n            event.preventDefault();\r\n\r\n            // Set file input interacted flag (for validation)\r\n            $fileInput.dataset[\"interacted\"] = true;\r\n\r\n            // Don't allow interaction if any disabledClasses are present on dropzone\r\n            if (\r\n                !disabledClasses.some(function (className) {\r\n                    return $dropArea.classList.contains(className);\r\n                })\r\n            ) {\r\n                var files = event.target.files;\r\n                handleFiles(files, input_field_settings);\r\n            }\r\n        });\r\n\r\n        // Dragover event listener for dropzone\r\n        $dropArea.addEventListener(\"dragover\", function (event) {\r\n            event.preventDefault();\r\n\r\n            // Don't allow interaction if any disabledClasses are present on dropzone\r\n            if (\r\n                !disabledClasses.some(function (className) {\r\n                    return $dropArea.classList.contains(className);\r\n                })\r\n            ) {\r\n                $dropArea.classList.add(\"qld__form-file-dropzone--dragged-over\");\r\n            }\r\n        });\r\n\r\n        // Dragleave event listener for dropzone\r\n        $dropArea.addEventListener(\"dragleave\", function (event) {\r\n            event.preventDefault();\r\n\r\n            $dropArea.classList.remove(\"qld__form-file-dropzone--dragged-over\");\r\n        });\r\n\r\n        // Drop event listener for dropzone\r\n        $dropArea.addEventListener(\"drop\", function (event) {\r\n            event.preventDefault();\r\n\r\n            // Set file input interacted flag (for validation)\r\n            $fileInput.dataset[\"interacted\"] = true;\r\n\r\n            // Don't allow interaction if any disabledClasses are present on dropzone\r\n            if (\r\n                !disabledClasses.some(function (className) {\r\n                    return $dropArea.classList.contains(className);\r\n                })\r\n            ) {\r\n                var files = event.dataTransfer.files;\r\n                handleFiles(files, input_field_settings);\r\n            }\r\n\r\n            $dropArea.classList.remove(\"qld__form-file-dropzone--dragged-over\");\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Remove file from file input (and Matrix if using the JS API )\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    const deleteFile = async function (input_field_settings, fileId, $fileInfo) {\r\n        const currentFiles = input_field_settings.files;\r\n        const isError = $fileInfo.matches(\".qld__form-file--error\");\r\n        const usingJsApi = input_field_settings.jsApi !== undefined;\r\n        const index = currentFiles.findIndex(function (obj) {\r\n            if (typeof obj === \"string\") {\r\n                return JSON.parse(obj).id === fileId;\r\n            } else {\r\n                return obj.id === fileId;\r\n            }\r\n        });\r\n\r\n        // If file exists in currentFiles array, and it isn't a file with an error, remove it\r\n        if (index !== -1 && !isError) {\r\n            currentFiles.splice(index, 1);\r\n            input_field_settings.files = currentFiles;\r\n            // Update FileList if not using JS API\r\n            if (!usingJsApi) {\r\n                updateFileInputFileList(input_field_settings);\r\n            } else {\r\n                try {\r\n                    await deleteAssetFromMatrix(fileId, $fileInfo, input_field_settings);\r\n                    setFilesDataAttribute(input_field_settings);\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            }\r\n        }\r\n        // Validate file input\r\n        $(input_field_settings.input_element).valid();\r\n        // Remove the file info box from preview list\r\n        $fileInfo.remove();\r\n    };\r\n\r\n    /**\r\n     * Send trashAsset request to Matrix\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    const deleteAssetFromMatrix = async function (fileId, $fileInfo, input_field_settings) {\r\n        try {\r\n            const name = $fileInfo.querySelector(\".qld__form-file-info-name\").innerText;\r\n            const file = { name: name };\r\n            const $loading = loadingTemplate(file);\r\n            const jsApi = input_field_settings.jsApi;\r\n\r\n            // Change text from ''Uploading' to 'Deleting' and replace current file info box\r\n            $loading.querySelector(\".qld__form-file-info-status\").innerText = \"Deleting...\";\r\n            $fileInfo.replaceWith($loading);\r\n\r\n            // Send trashAsset request\r\n            let trashedAsset = await jsApi.trashAsset({\r\n                asset_ids: fileId,\r\n            });\r\n\r\n            if (!trashedAsset.hasOwnProperty(\"error\")) {\r\n                $loading.remove();\r\n                return trashedAsset;\r\n            } else {\r\n                throw file;\r\n            }\r\n        } catch (file) {\r\n            const $error = errorTemplate(file, \"Unable to delete file\");\r\n            $fileInfo.replaceWith($error);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Toggle a class for the file dropzone\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    const toggleDropzoneClass = function ($dropZone, status) {\r\n        const classNames = status.split(\",\");\r\n\r\n        classNames.forEach(function (className) {\r\n            $dropZone.classList.toggle(`qld__form-file-dropzone--${className}`);\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Sanitise File name\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n\r\n    const sanitiseAndValidateFileName = function (fileName) {\r\n        // Remove potentially dangerous characters (e.g., <, >, \", /, \\, etc.) and unwanted characters\r\n        let sanitisedFileName = fileName\r\n            .replace(/[^a-zA-Z0-9\\s\\-_\\.]/g, \"_\") // Replace unwanted characters with '_'\r\n            .replace(/[<>:\"/\\\\|?*]/g, \"_\") // Remove dangerous characters\r\n            .trim(); // Trim leading/trailing spaces\r\n\r\n        // Prevent starting or ending with special characters or spaces\r\n        sanitisedFileName = sanitisedFileName.replace(/^[^a-zA-Z0-9]+|[^a-zA-Z0-9]+$/g, \"\");\r\n\r\n        // Return the sanitized file name\r\n        return sanitisedFileName;\r\n    };\r\n\r\n    /**\r\n     * Handle any files the user has dropped/selected\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    const handleFiles = async function (files, input_field_settings) {\r\n        const $fileList = input_field_settings.file_list_element;\r\n        const usingJsApi = input_field_settings.jsApi !== undefined;\r\n        const $dropZone = input_field_settings.dropzone_element;\r\n        let promiseArray = [];\r\n\r\n        // Set 'updating' class for dropzone element\r\n        toggleDropzoneClass($dropZone, \"updating\");\r\n\r\n        // Loop over all of the passed-in files, and handle them based on input_field_settings\r\n        for (const element of files) {\r\n            const file = element;\r\n\r\n            // Returns either an error message (string), or true (boolean)\r\n            let isValid = isFileValid(file, input_field_settings);\r\n\r\n            // Sanitise File Name for UI display purposes\r\n            let sanitisedFileName = sanitiseAndValidateFileName(file.name);\r\n\r\n            // Create a new File object with the sanitised filename while preserving the content and other properties\r\n            const sanitisedFile = new File([file], sanitisedFileName, {\r\n                type: file.type,\r\n                lastModified: file.lastModified,\r\n            });\r\n\r\n            // Ensure that we carry over the custom properties (e.g., `id`) from the original file\r\n            file.id = file.id !== undefined ? file.id : sanitisedFileName;\r\n            // file.name = sanitisedFileName;\r\n            // console.log(sanitisedFile.id);\r\n\r\n            // Pass the actual File object to the loadingTemplate function, not just the sanitised name\r\n            let $fileInfo = loadingTemplate(sanitisedFile); // <-- Here we pass the sanitisedFile object\r\n            // Append the file info box to the file preview list\r\n            $fileList.appendChild($fileInfo);\r\n\r\n            // If the file passes the validation rules\r\n            if (isValid === true) {\r\n                // If we're using the JS API to create file assets\r\n                if (usingJsApi) {\r\n                    promiseArray.push(uploadFileJsApi(sanitisedFile, $fileInfo, input_field_settings));\r\n                } else {\r\n                    // Push the sanitised File object into the files array (not the original file)\r\n                    input_field_settings.files.push(sanitisedFile);\r\n                    promiseArray.push(simulateFileUpload(sanitisedFile, $fileInfo));\r\n                }\r\n            } else {\r\n                $fileInfo.replaceWith(errorTemplate(sanitisedFile, isValid));\r\n            }\r\n        }\r\n\r\n        // Only update the FileList if the JS API isn't being used\r\n        if (!usingJsApi) {\r\n            // Default functionality for a file type input is to replace the current FileList with the newly selected file/s\r\n            // This will override that for subsequent interactions with the file input, or clicking the cancel button.\r\n            updateFileInputFileList(input_field_settings);\r\n        }\r\n\r\n        // Once all promises have resolved, remove the updating class, and validate the field\r\n        try {\r\n            await Promise.all(promiseArray);\r\n        } catch (error) {\r\n            console.error(error);\r\n        } finally {\r\n            // Remove 'updating' class from dropzone\r\n            toggleDropzoneClass($dropZone, \"updating\");\r\n            // Validate file input\r\n            $(input_field_settings.input_element).valid();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Update the FileList for the file input\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    const updateFileInputFileList = function (input_field_settings) {\r\n        // We can't directly modify an existing populated FileList, because FileLists are read-only array-like structures (not an actual array)\r\n        // We need to create a DataTransfer instance, and add all of the current files to it - then set that as the new input.files value\r\n        const files = input_field_settings.files;\r\n        const $inputField = input_field_settings.input_element;\r\n        let dataTransfer = new DataTransfer();\r\n\r\n        // Loop over each File object and add to the DataTransfer instance\r\n        files.forEach(function (file) {\r\n            dataTransfer.items.add(file);\r\n        });\r\n        // Set the input files value to the new 'array' of File objects\r\n        $inputField.files = dataTransfer.files;\r\n    };\r\n\r\n    /**\r\n     * Display the info box for selected/dropped files (when data-js-api is set to \"false\")\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    const simulateFileUpload = function (file, $fileInfo) {\r\n        return new Promise(function (resolve, reject) {\r\n            // Quick setTimeout to simulate a file upload\r\n            let success = successTemplate(file);\r\n            let text = success.querySelector(\".qld__form-file-info-status\");\r\n            let newText = success.querySelector(\".qld__form-file-info-status\").textContent.replace(\"successful\", \"complete\");\r\n\r\n            // Use successTemplate, but add different text since the file isn't actually uploaded until submission\r\n            for (var i = 0; i < text.childNodes.length; i++) {\r\n                var node = text.childNodes[i];\r\n\r\n                // If it's the text node that contains the word 'successful'\r\n                if (node.nodeType === Node.TEXT_NODE && node.textContent.includes(\"successful\")) {\r\n                    node.textContent = newText;\r\n                }\r\n            }\r\n            // Remove --success class, and add --complete class\r\n            success.classList.remove(\"qld__form-file--success\");\r\n            success.classList.add(\"qld__form-file--complete\");\r\n            // Add success template\r\n            $fileInfo.replaceWith(success);\r\n            resolve();\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Initialise JS API\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    const jsApi = function (key) {\r\n        let options = new Array();\r\n        options[\"key\"] = key;\r\n        let js_api = new Squiz_Matrix_API(options);\r\n\r\n        return js_api;\r\n    };\r\n\r\n    /**\r\n     * Upload selected file to matrix\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    const uploadFileJsApi = async function (file, $fileInfo, input_field_settings) {\r\n        const reader = new FileReader();\r\n        const jsApi = input_field_settings.jsApi;\r\n        let fileContent;\r\n\r\n        // Base64 file data\r\n        reader.readAsDataURL(file);\r\n        // File reader\r\n        reader.onload = function () {\r\n            // Strip the file type declaration from the start of the string\r\n            fileContent = reader.result.split(\",\")[1];\r\n        };\r\n\r\n        try {\r\n            // Create new (empty) file asset\r\n            let newFileAsset = await createFileAsset(file, input_field_settings);\r\n            // JS API doesn't return proper error codes, so we have to check for the 'error' property name\r\n            if (!newFileAsset.hasOwnProperty(\"error\")) {\r\n                // Update our new file asset with Base64 data (fileContent)\r\n                let updatedFileAsset = await updateFileContents(newFileAsset, fileContent, input_field_settings);\r\n\r\n                if (!updatedFileAsset.hasOwnProperty(\"error\")) {\r\n                    // Get new file asset attributes\r\n                    let newFileInfo = await jsApi.getGeneral({ asset_id: updatedFileAsset.assetid, get_attributes: 1 });\r\n\r\n                    if (!newFileInfo.hasOwnProperty(\"error\")) {\r\n                        // We need to set the size property here, because jsApi.getGeneral doesn't return the size for some asset types\r\n                        newFileInfo.size = file.size;\r\n                        const $success = successTemplate(newFileInfo);\r\n                        // Replace file info box with success template\r\n                        $fileInfo.replaceWith($success);\r\n                        // Update the array of files stored in the data-files attribute\r\n                        setFilesDataAttribute(input_field_settings, newFileInfo);\r\n\r\n                        return newFileInfo;\r\n                    } else {\r\n                        if (newFileInfo.errorDetails.length > 0) {\r\n                            let err = {};\r\n                            err.error = newFileInfo.errorDetails[0];\r\n                            throw err.error;\r\n                        }\r\n                    }\r\n                } else {\r\n                    throw updatedFileAsset.error;\r\n                }\r\n            } else {\r\n                throw newFileAsset.error;\r\n            }\r\n        } catch (error) {\r\n            const $error = errorTemplate(file, error);\r\n            $fileInfo.replaceWith($error);\r\n            return error;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Create empty file asset in matrix\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    const createFileAsset = async function (file, input_field_settings) {\r\n        // Asset id of create location\r\n        const createLocation = input_field_settings.create_location;\r\n        const assetType = getAssetType(file.type);\r\n        const fileName = file.name;\r\n        const jsApi = input_field_settings.jsApi;\r\n\r\n        try {\r\n            // Create new file asset\r\n            const newFile = await jsApi.createFileAsset({\r\n                parentID: createLocation,\r\n                type_code: assetType.type,\r\n                friendly_name: fileName,\r\n                link_type: \"SQ_LINK_TYPE_1\",\r\n            });\r\n\r\n            // If there's no error property present in the response\r\n            if (!newFile.hasOwnProperty(\"error\")) {\r\n                return newFile;\r\n            } else {\r\n                if (newFile.errorDetails.length > 0) {\r\n                    let err = {};\r\n                    err.error = newFile.errorDetails[0].includes(\"web path already exists\") ? \"Filename already in use. Please rename file before trying again.\" : newFile.errorDetails[0];\r\n                    throw err;\r\n                }\r\n            }\r\n        } catch (error) {\r\n            return error;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Update an empty file asset with Base64 content\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    const updateFileContents = async function (asset, fileContent, input_field_settings) {\r\n        // Asset ID from JS API response\r\n        const assetId = Object.keys(asset)[0];\r\n        const jsApi = input_field_settings.jsApi;\r\n\r\n        try {\r\n            // Grab the locks for the asset\r\n            let locks = await jsApi.acquireLock({\r\n                asset_id: assetId,\r\n                screen_name: \"attributes\",\r\n                dependants_only: 0,\r\n                force_acquire: 1,\r\n            });\r\n            // Update File Asset with the file contents\r\n            let updatedFile = await jsApi.updateFileAssetContent({\r\n                asset_id: assetId,\r\n                content: fileContent,\r\n            });\r\n\r\n            if (!updatedFile.hasOwnProperty(\"error\")) {\r\n                return updatedFile;\r\n            } else {\r\n                if (updatedFile.errorDetails.length > 0) {\r\n                    let err = {};\r\n                    err.error = updatedFile.errorDetails[0];\r\n                    throw err;\r\n                }\r\n            }\r\n        } catch (error) {\r\n            return error;\r\n        }\r\n    };\r\n\r\n    // Display file info for existing\r\n    const displayExistingFiles = async function () {\r\n        const files = this.files.length ? this.files : [];\r\n        const $fileInfoArea = this.file_list_element;\r\n        const displayed = this.files_displayed;\r\n        const usingJsApi = this.js_api_key !== undefined;\r\n        const jsApi = this.jsApi;\r\n\r\n        // Only attempt to retrieve files from Matrix if JS api is available, and this function hasn't already been called\r\n        if (files.length > 0 && displayed !== true) {\r\n            // Set' displayed' flag to prevent multiple calls\r\n            this.files_displayed = true;\r\n            // Loop through current file assets and retrieve their data\r\n            if (fileUploads.jsApi !== null && usingJsApi) {\r\n                for (let file of files) {\r\n                    try {\r\n                        // Get general details for each\r\n                        // ex. { \"id\" : 321, \"web_path\" : 'https://google.com' }\r\n                        let currentFile = await jsApi.getGeneral({\r\n                            asset_id: JSON.parse(file).id,\r\n                            get_attributes: 1,\r\n                        });\r\n\r\n                        if (currentFile.error === undefined) {\r\n                            displayFile(currentFile, $fileInfoArea);\r\n                        } else {\r\n                            throw new Error(\"displayExistingFiles: Could not retrieve asset attributes.\");\r\n                        }\r\n                    } catch (error) {\r\n                        console.log(error);\r\n                    }\r\n                }\r\n            } else {\r\n                if (files.length > 0) {\r\n                    for (let file of files) {\r\n                        // Pass stored file details\r\n                        displayFile(file, $fileInfoArea);\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            console.log(`All exisiting files already displaying for #${this.id}`);\r\n        }\r\n    };\r\n\r\n    // Display file info card\r\n    const displayFile = function (file, $fileInfoArea) {\r\n        const parsedFile = typeof file === \"string\" ? JSON.parse(file) : file;\r\n        const $fileInfoBox = successTemplate(parsedFile);\r\n\r\n        $fileInfoArea.appendChild($fileInfoBox);\r\n    };\r\n\r\n    /**\r\n     * Set the files data attribute for a JS API driven file input\r\n     *\r\n     * @memberof module:fileUploads\r\n     */\r\n    const setFilesDataAttribute = function (input_field_settings, newFileInfo = null) {\r\n        let files = input_field_settings.files;\r\n\r\n        if (newFileInfo) {\r\n            const fileObj = {\r\n                id: newFileInfo.id,\r\n                name: newFileInfo.name,\r\n            };\r\n\r\n            if (\r\n                files.findIndex(function (file) {\r\n                    return file.id === newFileInfo.id;\r\n                }) === -1\r\n            ) {\r\n                // Push stringified object containing file assetid and name into files array\r\n                files.push(JSON.stringify(fileObj));\r\n            }\r\n        }\r\n        // Set files data attribute\r\n        input_field_settings.input_element.dataset[\"files\"] = JSON.stringify(files);\r\n    };\r\n\r\n    // Store fileUploads object globally\r\n    QLD.fileUploads = fileUploads;\r\n\r\n    window.addEventListener(\"DOMContentLoaded\", function () {\r\n        QLD.fileUploads.init();\r\n    });\r\n})();\r\n","/**\r\n * The mobile nav module\r\n * \r\n * @module mobileNav\r\n */\r\n(function () {\r\n\r\n    var mobileNav = {};\r\n    var mobileNavEvents = {};\r\n    var mobileNavAnimating = false;\r\n\r\n    /**\r\n     * IE8 compatible function for replacing classes on a DOM node\r\n     * \r\n     * @memberof module:mobileNav\r\n     * @instance\r\n     * @private\r\n     *\r\n     * @param  {object} element      - The DOM element we want to toggle classes on\r\n     * @param  {object} state        - The current state of the animation on the element\r\n     * @param  {string} openingClass - The firstClass you want to toggle on the DOM node\r\n     * @param  {string} closingClass - The secondClass you want to toggle on the DOM node\r\n     */\r\n    function toggleClasses(element, state, openingClass, closingClass) {\r\n        if (state === 'opening' || state === 'open') {\r\n            var oldClass = openingClass || 'qld__main-nav__content--closed';\r\n            var newClass = closingClass || 'qld__main-nav__content--open';\r\n        } else {\r\n            var oldClass = closingClass || 'qld__main-nav__content--open';\r\n            var newClass = openingClass || 'qld__main-nav__content--closed';\r\n        }\r\n\r\n        removeClass(element, oldClass);\r\n        addClass(element, newClass);\r\n    }\r\n\r\n\r\n    /**\r\n     * IE8 compatible function for removing a class\r\n     * \r\n     * @memberof module:mobileNav\r\n     * @instance\r\n     * @private\r\n     *\r\n     * @param  {object} element   - The DOM element we want to manipulate\r\n     * @param  {object} className - The name of the class to be removed\r\n     */\r\n    function removeClass(element, className) {\r\n        if (element.classList) {\r\n            element.classList.remove(className);\r\n        } else {\r\n            element.className = element.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * IE8 compatible function for adding a class\r\n     * \r\n     * @memberof module:mobileNav\r\n     * @instance\r\n     * @private\r\n     *\r\n     * @param  {object} element   - The DOM element we want to manipulate\r\n     * @param  {object} className - The name of the class to be added\r\n     */\r\n    function addClass(element, className) {\r\n        if (element.classList) {\r\n            element.classList.add(className);\r\n        } else {\r\n            element.className = element.className + ' ' + className;\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * IE8 compatible function for adding an event\r\n     * https://stackoverflow.com/questions/10149963/adding-event-listener-cross-browser\r\n     * \r\n     * @memberof module:mobileNav\r\n     * @instance\r\n     * @private\r\n     *\r\n     * @param  {object} element    - The DOM element to add the listener\r\n     * @param  {object} event      - The event data\r\n     * @param  {object} rawHandler - The function to run when triggered\r\n     *\r\n     * @returns {object}           -  The token for removal of listener\r\n     */\r\n    function addEvent(element, event, rawHandler) {\r\n        // Using local functions instead of anonymous for event handler\r\n        function listenHandler(event) {\r\n            var handler = rawHandler.apply(this, arguments);\r\n            if (handler === false) {\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n            }\r\n            return (handler);\r\n        }\r\n\r\n        // Make sure attachHandler is also going to work\r\n        function attachHandler() {\r\n            var handler = rawHandler.call(element, window.event);\r\n            if (handler === false) {\r\n                window.event.returnValue = false;\r\n                window.event.cancelBubble = true;\r\n            }\r\n            return (handler);\r\n        }\r\n\r\n        // Return the token and add the correct listener\r\n        if (element.addEventListener) {\r\n            element.addEventListener(event, listenHandler, false);\r\n            return {\r\n                element: element,\r\n                handler: listenHandler,\r\n                event: event\r\n            };\r\n        } else {\r\n            element.attachEvent('on' + event, attachHandler);\r\n            return {\r\n                element: element,\r\n                handler: attachHandler,\r\n                event: event\r\n            };\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * IE8 compatible function for removing an event\r\n     * \r\n     * @memberof module:mobileNav\r\n     * @instance\r\n     * @private\r\n     *\r\n     * @param  {object} token - The token from the add listener function\r\n     */\r\n    function removeEvent(token) {\r\n        if (token.element.removeEventListener) {\r\n            token.element.removeEventListener(token.event, token.handler);\r\n        } else {\r\n            token.element.detachEvent('on' + token.event, token.handler);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * IE8 compatible function for getting elements style\r\n     * \r\n     * @memberof module:mobileNav\r\n     * @instance\r\n     * @private\r\n     *\r\n     * @param  {object} element  - element to check style\r\n     * @param  {object} property - property to return value\r\n     */\r\n    function getStyle(element, property) {\r\n        return (\r\n            typeof getComputedStyle !== 'undefined' ?\r\n            getComputedStyle(element, null) :\r\n            element.currentStyle\r\n        )[property]; // avoid getPropertyValue altogether\r\n    }\r\n\r\n\r\n    /**\r\n     * Toggle a mobileNav element\r\n     * \r\n     * @memberof module:mobileNav\r\n     *\r\n     * @param  {string}  element   - The toggle for the main nav\r\n     * @param  {integer} speed     - The speed in ms for the animation\r\n     * @param  {object}  callbacks - An object of four optional callbacks: { onOpen, afterOpen, onClose, afterClose }\r\n     *\r\n     */\r\n    mobileNav.Toggle = function (element, speed, callbacks) {\r\n        // Stop the main nav from being toggled if it is already being toggled\r\n        if (mobileNavAnimating) {\r\n            return;\r\n        }\r\n\r\n        mobileNavAnimating = true;\r\n\r\n        // stop event propagation\r\n        try {\r\n            window.event.cancelBubble = true;\r\n            event.stopPropagation();\r\n        } catch (error) {}\r\n\r\n\r\n        // check this once\r\n        if (typeof callbacks != 'object') {\r\n            callbacks = {};\r\n        }\r\n\r\n\r\n        // Elements we modify\r\n        var targetId = element.getAttribute('aria-controls');\r\n        var target = document.getElementById(targetId);\r\n        var menu = target.querySelector('.qld__main-nav__menu');\r\n        var overlay = target.querySelector('.qld__main-nav__overlay');\r\n        var closeButton = target.querySelector('.qld__main-nav__toggle--close');\r\n        var openButton = document.querySelector('.qld__main-nav__toggle--open');\r\n        var focustrapTop = menu.querySelector('.qld__main-nav__focus-trap-top');\r\n        var focustrapBottom = menu.querySelector('.qld__main-nav__focus-trap-bottom');\r\n        var menuHeading = document.querySelector(\".qld__main-nav__menu-heading\");\r\n        var focusContent = menu.querySelectorAll('a, .qld__main-nav__toggle');\r\n        var closed = target.className.indexOf('qld__main-nav__content--open') === -1;\r\n        var header = document.querySelector('.qld__header');\r\n        var body = document.querySelector('.main');\r\n        var footer = document.querySelector('.qld__footer');\r\n\r\n        var menuWidth = menu.offsetWidth;\r\n        var state = closed ? 'opening' : '';\r\n\r\n        overlay.style.display = 'block';\r\n\r\n\r\n        (function (target, speed) {\r\n            QLD.animate.Toggle({\r\n                element: menu,\r\n                property: 'right',\r\n                openSize: 0,\r\n                closeSize: -1 * menuWidth,\r\n                speed: speed || 250,\r\n                prefunction: function () {\r\n                    // Set these values immediately for transitions\r\n                    if (state === 'opening') {\r\n                        menu.style.display = 'block';\r\n                        overlay.style.right = 0;\r\n                        overlay.style.opacity = 0.5;\r\n\r\n                        // run when opening\r\n                        if (typeof callbacks.onOpen === 'function') {\r\n                            callbacks.onOpen();\r\n                        }\r\n                    } else {\r\n                        overlay.style.opacity = '0';\r\n\r\n                        // run when closing\r\n                        if (typeof callbacks.onClose === 'function') {\r\n                            callbacks.onClose();\r\n                        }\r\n                    }\r\n                },\r\n                postfunction: function () {\r\n                    if (state === 'opening' ) {\r\n\r\n                        // Move the focus to the close button\r\n                        menuHeading.focus();\r\n                        openButton.setAttribute('aria-expanded', true);\r\n                        closeButton.setAttribute('aria-expanded', true);\r\n\r\n                        // Focus trap enabled\r\n                        focustrapTop.setAttribute('tabindex', 0);\r\n                        focustrapBottom.setAttribute('tabindex', 0);\r\n\r\n                        // header.setAttribute('aria-hidden', true);\r\n                        body.setAttribute('aria-hidden', true);\r\n                        footer.setAttribute('aria-hidden', true);\r\n\r\n                        // Add event listeners\r\n                        mobileNavEvents.focusTop = addEvent(focustrapTop, 'focus', function () {\r\n                            focusContent[focusContent.length - 1].focus();\r\n                        });\r\n\r\n                        mobileNavEvents.focusBottom = addEvent(focustrapBottom, 'focus', function () {\r\n                            focusContent[0].focus();\r\n                        });\r\n\r\n                        // Add key listener\r\n                        mobileNavEvents.escKey = addEvent(document, 'keyup', function () {\r\n                            var event = event || window.event;\r\n                            var overlayOpen = getStyle(overlay, 'display');\r\n\r\n                            // Check the menu is open and visible and the escape key is pressed\r\n                            if (event.keyCode === 27 && overlayOpen === 'block') {\r\n                                mobileNav.Toggle(element, speed, callbacks);\r\n                            }\r\n                        });\r\n\r\n\r\n                        if (typeof callbacks.afterOpen === 'function') {\r\n                            callbacks.afterOpen();\r\n                        }\r\n                    } else {\r\n                        // Move the focus back to the menu button\r\n                        closeButton.focus();\r\n                        openButton.setAttribute('aria-expanded', false);\r\n                        closeButton.setAttribute('aria-expanded', false);\r\n\r\n                        // Remove the focus trap\r\n                        focustrapTop.removeAttribute('tabindex');\r\n                        focustrapBottom.removeAttribute('tabindex');\r\n\r\n                        header.removeAttribute('aria-hidden');\r\n                        body.removeAttribute('aria-hidden');\r\n                        footer.removeAttribute('aria-hidden');\r\n\r\n\r\n                        // Remove the event listeners\r\n                        removeEvent(mobileNavEvents.focusTop);\r\n                        removeEvent(mobileNavEvents.focusBottom);\r\n\r\n\r\n                        // Remove the event listener for the keypress\r\n                        removeEvent(mobileNavEvents.escKey);\r\n\r\n                        if (typeof callbacks.afterClose === 'function') {\r\n                            callbacks.afterClose();\r\n                        }\r\n                    }\r\n\r\n\r\n                    // Toggle classes\r\n                    toggleClasses(target, state);\r\n                    toggleClasses(\r\n                        document.body,\r\n                        state,\r\n                        'qld__main-nav__scroll--unlocked',\r\n                        'qld__main-nav__scroll--locked'\r\n                    );\r\n\r\n\r\n                    // Reset inline styles\r\n                    menu.style.display = '';\r\n                    menu.style.right = '';\r\n                    overlay.style.display = '';\r\n                    overlay.style.right = '';\r\n                    overlay.style.opacity = '';\r\n\r\n                    mobileNavAnimating = false;\r\n                },\r\n            });\r\n        })(target, speed);\r\n    }\r\n\r\n   \r\n    window.addEventListener('DOMContentLoaded', function () {\r\n        // Remove all inline styling from the main navs\r\n        var mainNavs = this.document.querySelectorAll(\"#main-nav > div.qld__main-nav__menu\");\r\n        mainNavs.forEach(function (nav) {\r\n            nav.removeAttribute(\"style\");\r\n        });\r\n        \r\n        // Add toggle event to open mobile nav\r\n        var navToggles = document.querySelectorAll('*[aria-controls=\"main-nav\"]');\r\n        navToggles.forEach(function (button) {\r\n            button.addEventListener('click', function () {\r\n                mobileNav.Toggle(button);\r\n            });\r\n        });\r\n\r\n         // Add toggle event listeners to accordion buttons\r\n        var itemToggles = document.querySelectorAll('.qld__main-nav__item-toggle');\r\n        itemToggles.forEach(function(button) {\r\n            button.addEventListener('click', function () {\r\n\r\n                if(button.className.split(' ').indexOf('qld__accordion--closed')>=0){\r\n\r\n                    button.parentNode.querySelector('.qld__main-nav__item-link').classList.add('qld__main-nav__item-link--open');\r\n                    itemToggles.forEach(function (item) {\r\n                        if(item.className.split(' ').indexOf('qld__accordion--open')>=0){\r\n                            item.parentNode.querySelector('.qld__main-nav__item-link').classList.remove('qld__main-nav__item-link--open');\r\n                            QLD.accordion.Close(item);\r\n                        }\r\n                    });\r\n                }else{\r\n                    button.parentNode.querySelector('.qld__main-nav__item-link').classList.remove('qld__main-nav__item-link--open');\r\n                }\r\n\r\n\r\n                QLD.accordion.Toggle(button);\r\n            });\r\n        });\r\n    });\r\n\r\n}());\r\n","/**\r\n * The internal navigation module\r\n *\r\n * @module internalNavigation\r\n */\r\n(function () {\r\n    \"use strict\";\r\n\r\n    let internalNavigation = {};\r\n    window.addEventListener(\"DOMContentLoaded\", function () {\r\n        const svgSelector = document.querySelector(\".qld__side-nav.qld__accordion\");\r\n\r\n        if (svgSelector) {\r\n            const svgPath = svgSelector.getAttribute(\"data-path\");\r\n            const svgIcon = `<svg class=\"qld__icon\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\"><use href=\"${svgPath}#tick\"></use></svg>`;\r\n\r\n            const thirdLevelLinks = document.querySelectorAll(\"ul ul ul a, ul ul ul span\");\r\n\r\n            // Loop through each matching element and apply the style\r\n            thirdLevelLinks.forEach((link) => {\r\n                if (!link.querySelector(\"svg\")) {\r\n                    link.insertAdjacentHTML(\"afterbegin\", svgIcon);\r\n                }\r\n                link.parentElement.style.borderTopColor = \"transparent\";\r\n            });\r\n        }\r\n    });\r\n\r\n    QLD.internalNavigation = internalNavigation;\r\n})();\r\n\r\nwindow.addEventListener(\"DOMContentLoaded\", function () {\r\n    if (QLD && QLD?.internalNavigation && QLD?.internalNavigation?.init) {\r\n        QLD.internalNavigation.init();\r\n    }\r\n});\r\n","/**\r\n * Tab module TODO\r\n */\r\n(function (QLD) {\r\n\r\n    // For easy reference\r\n    var keys = {\r\n        end: 35,\r\n        home: 36,\r\n        left: 37,\r\n        up: 38,\r\n        right: 39,\r\n        down: 40,\r\n        delete: 46\r\n    };\r\n\r\n    // Add or substract depending on key pressed\r\n    var direction = {\r\n        37: -1,\r\n        38: -1,\r\n        39: 1,\r\n        40: 1\r\n    };\r\n\r\n    /**\r\n     * @module tabs\r\n     */\r\n    var tabs = {\r\n\r\n        // Vars\r\n        'buttons': null,\r\n\r\n        /**\r\n         * Initialise any tab components on the page\r\n         * \r\n         * @memberof module:tabs\r\n         */\r\n        'init': function() {\r\n            tabs.buttons = QLD.utils.listToArray(document.querySelectorAll('[role=\"tab\"]'));\r\n\r\n            // Bind listeners\r\n            for (var i = 0; i < tabs.buttons.length; i++) {\r\n                addListeners(i);\r\n            };\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Add event listeners for given tab\r\n     * \r\n     * @memberof module:tabs\r\n     * @instance\r\n     * @private\r\n     * \r\n     * @param {number} index \r\n     */\r\n    function addListeners(index) {\r\n        var tab = tabs.buttons[index];\r\n        tab.addEventListener('click', clickEventListener);\r\n        tab.addEventListener('keydown', keydownEventListener);\r\n        tab.addEventListener('keyup', keyupEventListener);\r\n\r\n        // Build an array with all tabs (<button>s) in it\r\n        tab.index = index;\r\n    };\r\n\r\n    /**\r\n     * When a tab is clicked, activateTab is fired to activate it\r\n     * \r\n     * @memberof module:tabs\r\n     * @instance\r\n     * @private\r\n     * \r\n     * @param {Document.event} event \r\n     */\r\n    function clickEventListener(event) {\r\n        var tab = event.target;\r\n        activateTab(tab, false);\r\n    };\r\n\r\n    /**\r\n     * Handle keydown on tabs\r\n     * \r\n     * @memberof module:tabs\r\n     * @instance\r\n     * @private\r\n     * \r\n     * @param {Document.event} event \r\n     */\r\n    function keydownEventListener(event) {\r\n        var key = event.keyCode;\r\n        var tab = event.target;\r\n        var tablist = tab.parentNode;\r\n        var siblingTabs = QLD.utils.listToArray(tablist.querySelectorAll('[role=\"tab\"]'));\r\n        var firstTab = siblingTabs[0];\r\n        var lastTab = siblingTabs[siblingTabs.length - 1];\r\n\r\n        switch (key) {\r\n            case keys.end:\r\n                event.preventDefault();\r\n                // Activate last tab\r\n                activateTab(lastTab);\r\n                break;\r\n            case keys.home:\r\n                event.preventDefault();\r\n                // Activate first tab\r\n                activateTab(firstTab);\r\n                break;\r\n\r\n                // Up and down are in keydown\r\n                // because we need to prevent page scroll >:)\r\n            case keys.up:\r\n            case keys.down:\r\n                determineOrientation(event);\r\n                break;\r\n        };\r\n    };\r\n\r\n    /**\r\n     * Handle keyup on tabs\r\n     * \r\n     * @memberof module:tabs\r\n     * @instance\r\n     * @private\r\n     * \r\n     * @param {Document.event} event \r\n     */\r\n    function keyupEventListener(event) {\r\n        var key = event.keyCode;\r\n\r\n        switch (key) {\r\n            case keys.left:\r\n            case keys.right:\r\n                determineOrientation(event);\r\n                break;\r\n        };\r\n    };\r\n\r\n    /**\r\n     * When a tablist's aria-orientation is set to vertical,\r\n     * only up and down arrow should function.\r\n     * In all other cases only left and right arrow function.\r\n     * \r\n     * @memberof module:tabs\r\n     * @instance\r\n     * @private\r\n     * \r\n     * @param {Document.event} event \r\n     */\r\n    function determineOrientation(event) {\r\n        var key = event.keyCode;\r\n        var tab = event.target;\r\n        var tablist = tab.parentNode;\r\n        var vertical = tablist.getAttribute('aria-orientation') == 'vertical';\r\n        var proceed = false;\r\n\r\n        if (vertical) {\r\n            if (key === keys.up || key === keys.down) {\r\n                event.preventDefault();\r\n                proceed = true;\r\n            };\r\n        } else {\r\n            if (key === keys.left || key === keys.right) {\r\n                proceed = true;\r\n            };\r\n        };\r\n\r\n        if (proceed) {\r\n            switchTabOnArrowPress(event);\r\n        };\r\n    };\r\n\r\n    /**\r\n     * Either focus the next, previous, first, or last tab\r\n     * depending on key pressed\r\n     * \r\n     * @memberof module:tabs\r\n     * @instance\r\n     * @private\r\n     * \r\n     * @param {Document.event} event \r\n     */\r\n    function switchTabOnArrowPress(event) {\r\n        var pressed = event.keyCode;\r\n        var tab = event.target;\r\n        var tablist = tab.parentNode;\r\n        var siblingTabs = QLD.utils.listToArray(tablist.querySelectorAll('[role=\"tab\"]'));\r\n        var firstTabIndex = siblingTabs[0].index;\r\n\r\n        for (var x = 0; x < siblingTabs.length; x++) {\r\n            siblingTabs[x].addEventListener('focus', focusEventHandler);\r\n        };\r\n\r\n        if (direction[pressed]) {\r\n            if (tab.index !== undefined) {\r\n                var newIndex = tab.index - firstTabIndex + direction[pressed];\r\n                if (siblingTabs[newIndex]) {\r\n                    siblingTabs[newIndex].focus();\r\n                } else if (pressed === keys.left || pressed === keys.up) {\r\n                    siblingTabs[0].focus()\r\n                } else if (pressed === keys.right || pressed == keys.down) {\r\n                    siblingTabs[siblingTabs.length - 1].focus();\r\n                };\r\n            };\r\n        };\r\n    };\r\n\r\n    /**\r\n     * Activates any given tab panel\r\n     * \r\n     * @memberof module:tabs\r\n     * @instance\r\n     * @private\r\n     * \r\n     * @param {Node} tab \r\n     * @param {boolean} setFocus \r\n     */\r\n    function activateTab(tab, setFocus) {\r\n        setFocus = setFocus || true;\r\n        // Deactivate all other tabs\r\n        deactivatetabs(tab);\r\n\r\n        // Remove tabindex attribute\r\n        tab.removeAttribute('tabindex');\r\n\r\n        // Set the tab as selected\r\n        tab.setAttribute('aria-selected', 'true');\r\n\r\n        // Get the value of aria-controls (which is an ID)\r\n        var controls = tab.getAttribute('aria-controls');\r\n\r\n        // Remove hidden attribute from tab panel to make it visible\r\n        document.getElementById(controls).removeAttribute('hidden');\r\n\r\n        // Set focus when required\r\n        if (setFocus) {\r\n            tab.focus();\r\n        };\r\n    };\r\n\r\n    /**\r\n     * Deactivate all tabs and tab panels\r\n     * \r\n     * @memberof module:tabs\r\n     * @instance\r\n     * @private\r\n     */\r\n    function deactivatetabs(tab) {\r\n\r\n        var tablist = tab.parentNode;\r\n        var siblingTabs = QLD.utils.listToArray(tablist.querySelectorAll('[role=\"tab\"]'));\r\n\r\n        for (var t = 0; t < siblingTabs.length; t++) {\r\n            var tab = siblingTabs[t];\r\n            tab.setAttribute('tabindex', '-1');\r\n            tab.setAttribute('aria-selected', 'false');\r\n            tab.removeEventListener('focus', focusEventHandler);\r\n\r\n            var controls = tab.getAttribute('aria-controls');\r\n            var panel = document.getElementById(controls);\r\n            panel.setAttribute('hidden', 'hidden');\r\n        };\r\n    };\r\n\r\n    /**\r\n     * Handle focus event on tab\r\n     * \r\n     * @memberof module:tabs\r\n     * @instance\r\n     * @private\r\n     * \r\n     * @param {Document.event} event \r\n     */\r\n    function focusEventHandler(event) {\r\n        var target = event.target;\r\n        setTimeout(checkTabFocus, 300, target);\r\n    };\r\n\r\n    /**\r\n     * Check if given tab is currently focused\r\n     * @memberof module:tabs\r\n     * @instance\r\n     * @private\r\n     * \r\n     * @param {Node} target \r\n     */\r\n    function checkTabFocus(target) {\r\n        var focused = document.activeElement;\r\n\r\n        if (target === focused) {\r\n            activateTab(target, false);\r\n        };\r\n    };\r\n\r\n    // Add to global QLD module\r\n    var QLD = QLD ? QLD : {};\r\n    QLD.tabs = tabs;\r\n    window.QLD = QLD;\r\n\r\n    // Init tabs\r\n    window.addEventListener('DOMContentLoaded', function () {\r\n        QLD.tabs.init()\r\n    });\r\n\r\n}(window.QLD));\r\n","(function () {\r\n    \"use strict\";\r\n\r\n    let toggleTip = {};\r\n    // Variable to store the last clicked toggle tip\r\n    let lastTriggeredToggleTip = null;\r\n    const componentName = \"qld__toggle-tip\";\r\n    const toggleTipTriggerQueryClass = \".\" + componentName + \"-trigger\";\r\n    const toggleTipContentQueryClass = \".\" + componentName + \"-content\";\r\n    const toggleTipVisibleClass = componentName + \"-visible\";\r\n    const marginFromTrigger = 8;\r\n\r\n    toggleTip.init = function () {\r\n        // Find all toggle tip trigger elements\r\n        const toggleTipTriggers = document.querySelectorAll(toggleTipTriggerQueryClass);\r\n\r\n        if (!toggleTipTriggers.length) return;\r\n\r\n        toggleTipTriggers.forEach(function (toggleTipTrigger) {\r\n            const toggleTipId = toggleTipTrigger.getAttribute(\"data-target\");\r\n\r\n            if (!toggleTipId) return;\r\n\r\n            const toggleTip = document.getElementById(toggleTipId);\r\n            const content = toggleTip.querySelector(toggleTipContentQueryClass);\r\n            const linkElement = content.querySelector(\"a\");\r\n\r\n            // Function to check if the toggle tip is open\r\n            function isToggleTipOpen() {\r\n                return content.classList.contains(toggleTipVisibleClass);\r\n            }\r\n\r\n            // Function to open the toggle tip\r\n            function openToggleTip() {\r\n                lastTriggeredToggleTip = toggleTip;\r\n                QLD.toggleToolTips.openToggleToolTip(componentName, toggleTip, toggleTipTrigger, marginFromTrigger);\r\n            }\r\n\r\n            // Function to open the toggle tip\r\n            function closeToggleTip() {\r\n                QLD.toggleToolTips.closeToggleToolTip(componentName, toggleTip, toggleTipTrigger);\r\n            }\r\n\r\n            toggleTipTrigger.addEventListener(\"click\", function (e) {\r\n                const previousToggleTip = lastTriggeredToggleTip;\r\n                closeAllToggleTips();\r\n\r\n                // Check and toggle the classes\r\n                if (isToggleTipOpen() || toggleTip === previousToggleTip) {\r\n                    closeToggleTip();\r\n                } else {\r\n                    openToggleTip();\r\n                }\r\n\r\n                // Prevent the click event on window from bubbling up\r\n                e.stopPropagation();\r\n            });\r\n\r\n            toggleTipTrigger.addEventListener(\"keydown\", function (e) {\r\n                // Check if the user is trying to tab in or out of the content\r\n                if (e.key === \"Tab\" && isToggleTipOpen()) {\r\n                    e.preventDefault();\r\n\r\n                    if (linkElement) {\r\n                        linkElement.focus();\r\n                    } else {\r\n                        closeToggleTip(toggleTip, toggleTipTrigger);\r\n                    }\r\n\r\n                    // Prevent the click event on window from bubbling up\r\n                    e.stopPropagation();\r\n                }\r\n\r\n                if (e.keyCode === 32 || e.key === \"Enter\") {\r\n                    e.preventDefault();\r\n\r\n                    // Check and toggle the classes\r\n                    if (isToggleTipOpen()) {\r\n                        closeToggleTip();\r\n                    } else {\r\n                        openToggleTip();\r\n                    }\r\n\r\n                    // Prevent the click event on window from bubbling up\r\n                    e.stopPropagation();\r\n                }\r\n            });\r\n\r\n            if (linkElement) {\r\n                linkElement.addEventListener(\"keydown\", function (e) {\r\n                    if (e.key === \"Tab\" || e.key === \"Escape\") {\r\n                        e.preventDefault();\r\n\r\n                        // Close toggle tip and move focus back to the toggle tip element\r\n                        closeToggleTip();\r\n                        toggleTipTrigger.focus();\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        // Close toggle tip if the toggle content is open and the user hits the \"Escape\" key\r\n        document.addEventListener(\"keydown\", function (e) {\r\n            if (e.key === \"Escape\" && lastTriggeredToggleTip) {\r\n                const content = lastTriggeredToggleTip.querySelector(toggleTipContentQueryClass);\r\n\r\n                if (content.classList.contains(toggleTipVisibleClass)) {\r\n                    closeAllToggleTips();\r\n                    lastTriggeredToggleTip.focus();\r\n                }\r\n            }\r\n        });\r\n\r\n        // Close toggle tip if the toggle content is open and the user clicks OFF the content\r\n        document.addEventListener(\"click\", function (e) {\r\n            if (lastTriggeredToggleTip) {\r\n                const content = lastTriggeredToggleTip.querySelector(toggleTipContentQueryClass);\r\n\r\n                if (!content.contains(e.target)) {\r\n                    closeAllToggleTips();\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    // Function to close all toggle tips found on the page\r\n    function closeAllToggleTips() {\r\n        const toggleTipTriggers = document.querySelectorAll(toggleTipTriggerQueryClass);\r\n\r\n        if (!toggleTipTriggers.length) return;\r\n\r\n        lastTriggeredToggleTip = null;\r\n        QLD.toggleToolTips.closeAllToggleToolTips(componentName, toggleTipTriggers);\r\n    }\r\n\r\n    QLD.toggleTip = toggleTip;\r\n})();\r\n\r\nwindow.addEventListener(\"DOMContentLoaded\", function () {\r\n    QLD.toggleTip.init();\r\n});\r\n","/**\r\n * Modal module\r\n */\r\n (function (QLD) {\r\n\r\n    /**\r\n     * @module Modal\r\n     */\r\n    var Modal = {\r\n\r\n        // Vars\r\n        'events': {},\r\n        'callbackFns': {},\r\n\r\n        /**\r\n         * Initialise a specific modal\r\n         * \r\n         * @memberof module:Modal\r\n         * \r\n         * @param {Node} modalBtn The modal button element\r\n         */\r\n        'init': function(modalBtn) {\r\n\r\n            // Init single modal btn\r\n            if (typeof(modalBtn) !== 'undefined') {\r\n                modalBtn.addEventListener('click', Modal.open);\r\n\r\n            // Else init all modal buttons on the page\r\n            } else {\r\n                var modalBtns = document.querySelectorAll('.qld__open-modal');\r\n                modalBtns.forEach((modalBtn) => {\r\n                    modalBtn.addEventListener('click', Modal.open);\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Open the modal\r\n         * \r\n         * @memberof module:Modal\r\n         * \r\n         * @param {Document.event} e \r\n         */\r\n        'open': function(e) {\r\n            let modalOpenBtn = e.currentTarget ? e.currentTarget : null;\r\n\r\n            if(modalOpenBtn !== null) {\r\n                var modalTarget = modalOpenBtn.getAttribute('data-modaltarget');\r\n                var modalEl = document.querySelector(`#${modalTarget}`);\r\n                var modalCloseBtns = modalEl.querySelectorAll('button[data-action=\"close\"]');\r\n                var modalUnderlay = modalEl.querySelector('.qld__modal__underlay');\r\n            } else {\r\n                var modalEl = e.get(0);\r\n                var modalCloseBtns = modalEl.querySelectorAll('button[data-action=\"close\"], button[data-action=\"deny-location\"]');\r\n                var modalUnderlay = modalEl.querySelector('.qld__modal__underlay');\r\n            }\r\n\r\n            \r\n\r\n            // trap focus\r\n            // add all the elements inside modal that are focusable\r\n            let focusableElements = 'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])';\r\n            let firstFocusableElement = modalEl.querySelectorAll(focusableElements)[0]; // get first element to be focused inside modal\r\n            let focusableContent = modalEl.querySelectorAll(focusableElements);\r\n            let lastFocusableElement = focusableContent[focusableContent.length - 1]; // get last element to be focused inside modal\r\n\r\n            // Add keydown listener\r\n            Modal.events.keydown = Modal.addEvent(document, 'keydown', function(e) {\r\n                // ESC\r\n                if (e.keyCode === 27) {\r\n                    modalOpenBtn.focus();\r\n                    Modal.close(e);\r\n                    return;\r\n                }\r\n\r\n                let isTabPressed = e.key === 'Tab' || e.keyCode === 9;\r\n\r\n                if (!isTabPressed) {\r\n                    return;\r\n                }\r\n\r\n                if (e.shiftKey) { // if shift key pressed for shift + tab combination\r\n                    if (document.activeElement === firstFocusableElement || document.activeElement === modalEl) {\r\n                        lastFocusableElement.focus(); // add focus for the last focusable element\r\n                        e.preventDefault();\r\n                    }\r\n                } else { // if tab key is pressed\r\n                    if (document.activeElement === lastFocusableElement) { // if focused has reached to last focusable element then focus first focusable element after pressing tab\r\n                        firstFocusableElement.focus(); // add focus for the first focusable element\r\n                        e.preventDefault();\r\n                    }\r\n                }\r\n            });\r\n            \r\n            // Open modal\r\n            modalEl.classList.add('active');\r\n            modalEl.focus();\r\n\r\n            // Close button click listener\r\n            modalCloseBtns.forEach(function(button, index) {\r\n                Modal.events['close-' + index] = Modal.addEvent(button, 'click', function(e) {\r\n                    modalOpenBtn !== null ? modalOpenBtn.focus() : null;\r\n                    Modal.close(e);\r\n                });\r\n            });\r\n\r\n            // Modal underlay listener\r\n            if(modalUnderlay) {\r\n                Modal.events.underlay = Modal.addEvent(modalUnderlay, 'click', Modal.close);\r\n            }\r\n\r\n            // Add callback events\r\n            for (var key in Modal.callbackFns) {\r\n                var button = modalEl.querySelector('button[data-callback=\"' + key + '\"]');\r\n                \r\n                if (button !== null) {\r\n                    Modal.events['callback-' + key] = Modal.addEvent(button, 'click', function(e) {\r\n                        Modal.close(e);\r\n                        var callbackKey = e.target.getAttribute('data-callback');\r\n                        Modal.callbackFns[callbackKey](e);\r\n                    });\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * Close the modal\r\n         * \r\n         * @memberof module:Modal\r\n         * \r\n         * @param {Document.event} e \r\n         */\r\n        'close': function(e) {\r\n            console.log('close');\r\n            var modalEl = e.target.closest('.qld__modal');\r\n            modalEl.classList.remove('active');\r\n\r\n            for (var i in Modal.events) {\r\n                var event = Modal.events[i];\r\n                Modal.removeEvent(event);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Object representing an event listener\r\n         * \r\n         * @typedef {Object} event\r\n         * @property {Node} element             Element the event is attached to\r\n         * @property {function} handler         Event handler function\r\n         * @property {document#event} event     DOM event to listen for\r\n         */\r\n\r\n        /**\r\n         * Add event listener\r\n         * \r\n         * @memberof module:Modal\r\n         * @instance\r\n         * @private\r\n         * \r\n         * @param {Node} element            DOM element to add event to\r\n         * @param {document#event} event    The event to listen for\r\n         * @param {function} rawHandler     The raw handler function\r\n         * @return {event}\r\n         */\r\n        'addEvent': function(element, event, rawHandler) {\r\n            // Using local functions instead of anonymous for event handler\r\n            function listenHandler(event) {\r\n                var handler = rawHandler.apply(this, arguments);\r\n                if (handler === false) {\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                }\r\n                return (handler);\r\n            }\r\n\r\n            // Make sure attachHandler is also going to work\r\n            function attachHandler() {\r\n                var handler = rawHandler.call(element, window.event);\r\n                if (handler === false) {\r\n                    window.event.returnValue = false;\r\n                    window.event.cancelBubble = true;\r\n                }\r\n                return (handler);\r\n            }\r\n\r\n            // Return the token and add the correct listener\r\n            if (element.addEventListener) {\r\n                element.addEventListener(event, listenHandler, false);\r\n                return {\r\n                    element: element,\r\n                    handler: listenHandler,\r\n                    event: event\r\n                };\r\n            } else {\r\n                element.attachEvent('on' + event, attachHandler);\r\n                return {\r\n                    element: element,\r\n                    handler: attachHandler,\r\n                    event: event\r\n                };\r\n            }\r\n        },\r\n\r\n\r\n        /**\r\n         * Remove event listener\r\n         * \r\n         * @memberof module:Modal\r\n         * @instance\r\n         * @private\r\n         * \r\n         * @param {event} token     The event to remove\r\n         */\r\n        'removeEvent': function(token) {\r\n            if (token.element.removeEventListener) {\r\n                token.element.removeEventListener(token.event, token.handler);\r\n            } else {\r\n                token.element.detachEvent('on' + token.event, token.handler);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    // Add to global QLD module\r\n    var QLD = QLD ? QLD : {};\r\n    QLD.Modal = Modal;\r\n    window.QLD = QLD;\r\n\r\n    window.addEventListener('DOMContentLoaded', function () {\r\n        if (document.querySelector('.qld__open-modal') !== null) {\r\n            QLD.Modal.init();\r\n        }\r\n    });\r\n\r\n}(window.QLD));\r\n","(function () {\r\n    \"use strict\";\r\n    /**\r\n     * @module globalAlert\r\n     */\r\n\r\n    /**\r\n     * Initialise global alert, and add close button event listener\r\n     *\r\n     * @memberof module:globalAlert\r\n     * @instance\r\n     * @private\r\n     */\r\n    function initGlobalAlert() {\r\n\r\n        let alerts = document.getElementsByClassName(\"qld__global-alert\") || [];\r\n        let siteName = null;\r\n        if( document.querySelector(\".qld__global-alert__include\") && document.querySelector(\".qld__global-alert__include\").alertContainer) {\r\n            siteName = document.querySelector(\".qld__global-alert__include\").alertContainer.getAttribute(\"data-name\");\r\n        }\r\n\r\n        if (siteName == null) {\r\n            siteName = 'global_alert_dev';\r\n        }\r\n\r\n        for(let index = 0; index < alerts.length; index++) {\r\n\r\n            let alert = alerts[index];\r\n            let alertSeen = QLD.utils.getCookie(`${siteName}_alertSeen_${index}`);\r\n\r\n            if (alertSeen !== null) {\r\n                alert.style.maxHeight = \"0\";\r\n                alert.style.display = \"none\";\r\n            }\r\n\r\n            let closeButton = alert.querySelector(\".qld__global-alert__close button\");\r\n\r\n            if (closeButton !== null) {\r\n                closeButton.addEventListener(\r\n                    \"click\",\r\n                    function () {\r\n                        alert.style.maxHeight = \"0\";\r\n                        alert.style.display = \"none\";\r\n                        QLD.utils.setCookie(`${siteName}_alertSeen_${index}`,\"true\");\r\n                    },\r\n                    false\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    initGlobalAlert();\r\n    \r\n})();\r\n","/**\r\n * @module animate\r\n */\r\n(function (QLD) {\r\n\r\n    var animate = {}\r\n\r\n    /**\r\n     * Calculate the requirements for the desired animation\r\n     * \r\n     * @memberof module:animate\r\n     * @instance\r\n     * @private\r\n     *\r\n     * @param  {integer} initialSize - The initial size of the element to animate\r\n     * @param  {integer} endSize     - The size the element after the animation completes\r\n     * @param  {string}  speed       - The speed of the animation in ms\r\n     *\r\n     * @return {object}              - Required steps, stepSize and intervalTime for the animation\r\n     */\r\n    function CalculateAnimationSpecs(initialSize, endSize, speed) {\r\n\r\n        if (initialSize === endSize) {\r\n            return {\r\n                stepSize: 0,\r\n                steps: 0,\r\n                intervalTime: 0,\r\n            };\r\n        }\r\n\r\n        var distance = endSize - initialSize; // the overall distance the animation needs to travel\r\n        var intervalTime = (speed / distance); // the time each setInterval iteration will take\r\n        var stepSize = distance < 0 ? -1 : 1; // if distance is negative then we set stepSize to -1\r\n        var steps = Math.abs(distance / stepSize); // the amount of steps required to get to endSize\r\n        intervalTime = speed / steps;\r\n\r\n        // we need to adjust our animation specs if interval time exceeds 60FPS eg intervalTime < 16.67ms\r\n        if (Math.abs(intervalTime) < (1000 / 60)) {\r\n            intervalTime = (1000 / 60); // lets not get lower that 60FPS\r\n            steps = Math.ceil(Math.abs(speed / intervalTime)); // we now need the steps and make sure we ceil them so -1 won't make them negative\r\n            stepSize = distance / steps; // last thing is step sizes which are derived from all of the above\r\n        }\r\n\r\n        return {\r\n            stepSize: stepSize,\r\n            steps: (steps - 1),\r\n            intervalTime: intervalTime,\r\n        };\r\n    }\r\n\r\n    // export for node and babel environments\r\n    if (typeof module !== 'undefined') {\r\n        animate.CalculateAnimationSpecs = CalculateAnimationSpecs;\r\n    }\r\n\r\n\r\n    /**\r\n     * Getting computed CSS styles from normal browsers and IE\r\n     * \r\n     * @memberof module:animate\r\n     *\r\n     * @param {object} element  - The DOM element we want to get the computed style from\r\n     * @param {string} property - The CSS property\r\n     *\r\n     * @return {string|integer} - The CSS value for the property\r\n     */\r\n    animate.GetCSSPropertyBecauseIE = function (element, property) {\r\n        if (typeof getComputedStyle !== 'undefined') {\r\n            return window.getComputedStyle(element)[property];\r\n        } else {\r\n            var space = element.currentStyle[property];\r\n\r\n            if (space === 'auto') {\r\n                space = QLD.animate.CalculateAuto(element, property);\r\n            }\r\n\r\n            return space;\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Calculate the size of the element when its dimension(height or width) is set to auto\r\n     * \r\n     * @memberof module:animate\r\n     *\r\n     * @param  {object} element   - The element to read auto height from\r\n     * @param  {string} dimension - The dimension to measure\r\n     *\r\n     * @return {integer}          - The size of the element when at dimension(height or width) is set to 'auto'\r\n     */\r\n    animate.CalculateAuto = function (element, dimension) {\r\n        var initialSize;\r\n        var endSize;\r\n\r\n        if (dimension === 'height') {\r\n            initialSize = element.clientHeight; // get current height\r\n            element.style[dimension] = 'auto'; // set height to auto\r\n            endSize = element.clientHeight; // get height again\r\n            element.style[dimension] = initialSize + 'px'; // set back to initial height\r\n        } else {\r\n            initialSize = element.clientWidth;\r\n            element.style[dimension] = 'auto';\r\n            endSize = element.clientWidth;\r\n            element.style[dimension] = initialSize + 'px';\r\n        }\r\n\r\n        return parseInt(endSize);\r\n    };\r\n\r\n\r\n    /**\r\n     * Stop any au animation on a DOM element\r\n     * \r\n     * @memberof module:animate\r\n     *\r\n     * @param  {object} element - The element to stop animating\r\n     */\r\n    animate.Stop = function (element) {\r\n        clearInterval(element.QLDanimation);\r\n    };\r\n\r\n\r\n    /**\r\n     * The magical animation function\r\n     * \r\n     * @memberof module:animate\r\n     *\r\n     * @param  {object}         options          - The options for the animation\r\n     * @param  {object}         options.element  - Element/s we are animating (DOM nodes)\r\n     * @param  {string}         options.property - The CSS property to animate\r\n     * @param  {integer|string} options.endSize  - The size the element should animate to. Can be 'auto' or pixel value\r\n     * @param  {integer}        options.speed    - The speed of the animation in milliseconds [optional] [default: 250]\r\n     * @param  {function}       options.callback - A function to be executed after the animation ends [optional]\r\n     *\r\n     * @return {unknown}                         - The return value passed on from our options.callback function [optional]\r\n     */\r\n    animate.Run = function (options) {\r\n        // defaults\r\n        var elements = options.element;\r\n        var speed = options.speed || 250;\r\n\r\n        // making a single DOM element iteratable\r\n        if (elements.length === undefined) {\r\n            elements = [elements];\r\n        }\r\n\r\n        // making a callback if none was provided\r\n        if (typeof options.callback !== 'function') {\r\n            options.callback = function () {};\r\n        }\r\n\r\n        // adding iteration counts\r\n        elements[0].QLDinteration = 0;\r\n        elements[0].QLDinterations = elements.length;\r\n\r\n        // iterate over all DOM nodes\r\n        for (var i = 0; i < elements.length; i++) {\r\n            var element = elements[i]; // this element\r\n            QLD.animate.Stop(element); // stop any previous animations\r\n            var initialSize = parseInt(QLD.animate.GetCSSPropertyBecauseIE(element, options.property)); // the elements current size\r\n            var endSize = options.endSize; // the element end size\r\n\r\n            if (options.endSize === 'auto') { // calculate what 'auto' means in pixel\r\n                endSize = QLD.animate.CalculateAuto(element, options.property);\r\n            }\r\n\r\n            // calculate our animation specs\r\n            var animationSpecs = CalculateAnimationSpecs(initialSize, endSize, speed);\r\n            var iterateCounter = initialSize;\r\n\r\n            // set state\r\n            if (animationSpecs.stepSize < 0) {\r\n                element.QLDtoggleState = 'closing';\r\n            } else if (animationSpecs.stepSize > 0) {\r\n                element.QLDtoggleState = 'opening';\r\n            }\r\n\r\n            // scoping variable\r\n            (function (element, initialSize, iterateCounter, animationSpecs, endSize) {\r\n                // keep track of animation by adding it to the DOM element\r\n                element.QLDanimation = setInterval(function () {\r\n\r\n                    // when we are at the end\r\n                    if (initialSize === endSize || animationSpecs.steps === 0) {\r\n                        QLD.animate.Stop(element);\r\n\r\n                        element.style[options.property] = endSize + 'px'; // set to endSize\r\n                        element.QLDtoggleState = '';\r\n\r\n                        elements[0].QLDinteration++;\r\n\r\n                        // removing auto so CSS can take over\r\n                        if (options.endSize === 'auto') {\r\n                            element.style[options.property] = '';\r\n                        }\r\n\r\n                        // when all iterations have finished, run the callback\r\n                        if (elements[0].QLDinteration >= elements[0].QLDinterations) {\r\n                            return options.callback();\r\n                        }\r\n                    }\r\n\r\n                    // if we are still animating\r\n                    else {\r\n                        iterateCounter += animationSpecs.stepSize;\r\n                        element.style[options.property] = iterateCounter + 'px';\r\n\r\n                        animationSpecs.steps--;\r\n                    }\r\n\r\n                }, Math.abs(animationSpecs.intervalTime));\r\n            })(element, initialSize, iterateCounter, animationSpecs, endSize);\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Toggle animation\r\n     * \r\n     * @memberof module:animate\r\n     *\r\n     * @param  {object}         options              - The options for the animation\r\n     * @param  {object}         options.element      - Element/s we are animating (DOM nodes)\r\n     * @param  {string}         options.property     - The CSS property to animate [optional] [default: 'height']\r\n     * @param  {integer|string} options.closeSize    - The size the element should close to. Can be 'auto' or pixel value [optional] [default: 0]\r\n     * @param  {integer|string} options.openSize     - The size the element should open to. Can be 'auto' or pixel value [optional] [default: 'auto']\r\n     * @param  {integer}        options.speed        - The speed of the animation in milliseconds [optional] [default: 250]\r\n     * @param  {function}       options.prefunction  - A function to be executed before each animation starts, passes {object} element, {string} state [optional]\r\n     * @param  {function}       options.postfunction - A function to be executed after each animation ends, passes {object} element, {string} state [optional]\r\n     * @param  {function}       options.callback     - A function to be executed after the animation ends, passes {object} element, {string} state [optional]\r\n     *\r\n     * @return {unknown}                             - The return value passed on from our options.callback function [optional]\r\n     */\r\n    animate.Toggle = function (options) {\r\n\r\n        var elements = options.element;\r\n        var property = options.property || 'height';\r\n        var speed = options.speed || 250;\r\n        var closeSize = options.closeSize === undefined ? 0 : options.closeSize;\r\n        var openSize = options.openSize === undefined ? 'auto' : options.openSize;\r\n\r\n        // making a single DOM element iteratable\r\n        if (elements.length === undefined) {\r\n            elements = [elements];\r\n        }\r\n\r\n        // making a prefunction if none was provided\r\n        if (typeof options.prefunction !== 'function') {\r\n            options.prefunction = function () {};\r\n        }\r\n\r\n        // making a postfunction if none was provided\r\n        if (typeof options.postfunction !== 'function') {\r\n            options.postfunction = function () {};\r\n        }\r\n\r\n        // making a callback if none was provided\r\n        if (typeof options.callback !== 'function') {\r\n            options.callback = function () {};\r\n        }\r\n\r\n        // adding iteration counts\r\n        elements[0].QLDtoggleInteration = 0;\r\n        elements[0].QLDtoggleInterations = elements.length;\r\n\r\n        // iterate over all DOM nodes\r\n        for (var i = 0; i < elements.length; i++) {\r\n            var element = elements[i];\r\n\r\n            QLD.animate.Stop(element);\r\n\r\n            var targetSize; // the size the element should open/close to after toggle is clicked\r\n            var preState = ''; // the state we animate to for the prefunction and callback functions\r\n            var postState = ''; // the state we animate to for the prefunction and callback functions\r\n            var currentSize = parseInt(QLD.animate.GetCSSPropertyBecauseIE(element, options.property)); // the current size of the element\r\n\r\n            console.log(currentSize)\r\n            if (currentSize === closeSize || element.QLDtoggleState === 'closing') {\r\n                targetSize = openSize;\r\n                preState = 'opening';\r\n                postState = 'open';\r\n            } else if (currentSize !== closeSize || element.QLDtoggleState === 'opening') {\r\n                targetSize = closeSize;\r\n                preState = 'closing';\r\n                postState = 'closed';\r\n            } else {\r\n                throw new Error('QLD.animate.Toggle cannot determine state of element');\r\n            }\r\n\r\n            // run prefunction once per element\r\n            options.prefunction(element, preState);\r\n\r\n            // shoot off animation\r\n            QLD.animate.Run({\r\n                element: element,\r\n                endSize: targetSize,\r\n                property: property,\r\n                speed: speed,\r\n                callback: function () { // making sure we fire the callback only once\r\n                    elements[0].QLDtoggleInteration++;\r\n\r\n                    if (elements[0].QLDtoggleInteration === elements[0].QLDinterations) {\r\n                        var returnParam = options.callback(element, postState);\r\n\r\n                        // run postfunction once per element\r\n                        options.postfunction(element, postState);\r\n\r\n                        return returnParam;\r\n                    }\r\n\r\n                    // run postfunction once per element\r\n                    options.postfunction(element, postState);\r\n                },\r\n            });\r\n\r\n        }\r\n    };\r\n\r\n    var QLD = QLD ? QLD : {};\r\n    QLD.animate = animate;\r\n    window.QLD = QLD;\r\n\r\n}(window.QLD));\r\n","(function () {\r\n    /**\r\n     * @module code\r\n     */\r\n    var code = {};\r\n\r\n    code.init = function () {\r\n        const codes = document.querySelectorAll(\"code\");\r\n        const inlinecodes = document.querySelectorAll(\"code:not(.qld__code-body)\");\r\n        const copyButtons = document.querySelectorAll(\".qld__code-copy--button\");\r\n        const showToggle = document.querySelectorAll(\".qld__code-toggle-button\");\r\n        const colorButtons = document.querySelectorAll(\".qld__code-preview-colours input[type=radio]\");\r\n\r\n        if (codes.length) {\r\n            codes.forEach(function (code) {\r\n                code.innerHTML = Prism.highlight(code.innerText, Prism.languages.html, \"html\");\r\n            });\r\n        }\r\n\r\n        if (inlinecodes.length) {\r\n            inlinecodes.forEach(function (inlinecode) {\r\n                const codeWrap = document.createElement(\"div\");\r\n                codeWrap.classList.add(\"qld__code--inline\");\r\n\r\n                inlinecode.replaceWith(codeWrap);\r\n                codeWrap.appendChild(inlinecode);\r\n\r\n                const tooltip = document.createElement(\"span\");\r\n                const tooltipText = document.createTextNode(\"Copy\");\r\n                tooltip.appendChild(tooltipText);\r\n                tooltip.classList.add(\"qld__code-tooltip\");\r\n                inlinecode.after(tooltip);\r\n                inlinecode.setAttribute(\"tabindex\", 0);\r\n\r\n                inlinecode.addEventListener(\"click\", function () {\r\n                    copyButtonAction(this);\r\n                });\r\n\r\n                inlinecode.addEventListener(\"keypress\", function (event) {\r\n                    if (event.key === \"Enter\") {\r\n                        event.preventDefault();\r\n                        copyButtonAction(this);\r\n                    }\r\n                });\r\n            });\r\n        }\r\n\r\n        if (copyButtons.length) {\r\n            copyButtons.forEach(function (copyButton) {\r\n                copyButton.addEventListener(\"click\", function () {\r\n                    copyButtonAction(this);\r\n                });\r\n            });\r\n        }\r\n\r\n        if (showToggle.length) {\r\n            showToggle.forEach(function (showToggleButton) {\r\n                const parent = showToggleButton.closest(\".qld__code\");\r\n                const grandParent = parent.closest(\"section\");\r\n                const svgPath = grandParent.getAttribute(\"data-path\");\r\n                const target = parent.querySelector(\"code\");\r\n                target.style.height = \"120px\";\r\n\r\n                showToggleButton.addEventListener(\"click\", function () {\r\n                    if (this.innerText.indexOf(\"more\") > -1) {\r\n                        this.innerHTML = `Show less<svg class=\"qld__icon qld__icon--sm\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\"><use href=\"${svgPath}#chevron-up\"></use></svg>`;\r\n                    } else {\r\n                        this.innerHTML = `Show more<svg class=\"qld__icon qld__icon--sm\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\"><use href=\"${svgPath}#chevron-up\"></use></svg>`;\r\n                    }\r\n\r\n                    QLD.animate.Toggle({\r\n                        element: target,\r\n                        property: \"height\",\r\n                        speed: 250,\r\n                        closeSize: 120,\r\n                        prefunction: function () {\r\n                            parent.classList.toggle(\"show_less\");\r\n                        },\r\n                    });\r\n                });\r\n            });\r\n        }\r\n\r\n        if (colorButtons.length) {\r\n            colorButtons.forEach(function (colorButton) {\r\n                colorButton.addEventListener(\"change\", function () {\r\n                    const body = colorButton.closest(\".qld__code\").querySelector(\".qld__code-preview-body\");\r\n                    body.classList.remove(\"qld__body--light\", \"qld__body--alt\", \"qld__body--dark\", \"qld__body--dark-alt\");\r\n                    if (this.value) {\r\n                        body.classList.add(this.value);\r\n                    }\r\n                    const toggle = colorButton.closest(\".qld__code\").querySelector(\".qld__code-toggle\");\r\n                    if (typeof toggle !== \"undefined\") {\r\n                        toggle.classList.remove(\"qld__body--light\", \"qld__body--alt\", \"qld__body--dark\", \"qld__body--dark-alt\");\r\n                        if (this.value) {\r\n                            toggle.classList.add(this.value);\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    };\r\n\r\n    function copyButtonAction(button) {\r\n        if (button.classList.contains(\"qld__code-copy--button\")) {\r\n            const parent = button.closest(\".qld__code\");\r\n            copyTextToClipboard(parent.querySelector(\"code\").innerText);\r\n            button.classList.add(\"copied\");\r\n\r\n            setTimeout(() => {\r\n                button.classList.remove(\"copied\");\r\n            }, \"1500\");\r\n        } else {\r\n            copyTextToClipboard(button.innerText);\r\n            button.nextElementSibling.innerText = \"Copied\";\r\n            button.addEventListener(\"blur\", function () {\r\n                button.nextElementSibling.innerText = \"Copy\";\r\n            });\r\n        }\r\n    }\r\n\r\n    function fallbackCopyTextToClipboard(text) {\r\n        const textArea = document.createElement(\"textarea\");\r\n        textArea.value = text;\r\n\r\n        // Avoid scrolling to bottom\r\n        textArea.style.top = \"0\";\r\n        textArea.style.left = \"0\";\r\n        textArea.style.position = \"fixed\";\r\n\r\n        document.body.appendChild(textArea);\r\n        textArea.focus();\r\n        textArea.select();\r\n\r\n        try {\r\n            const successful = document.execCommand(\"copy\");\r\n            const msg = successful ? \"successful\" : \"unsuccessful\";\r\n            console.log(\"Fallback: Copying text command was \" + msg);\r\n        } catch (err) {\r\n            console.error(\"Fallback: Oops, unable to copy\", err);\r\n        }\r\n\r\n        document.body.removeChild(textArea);\r\n    }\r\n\r\n    function copyTextToClipboard(text) {\r\n        if (!navigator.clipboard) {\r\n            fallbackCopyTextToClipboard(text);\r\n            return;\r\n        }\r\n        navigator.clipboard.writeText(text).then(\r\n            function () {\r\n                console.log(\"Async: Copying to clipboard was successful!\");\r\n            },\r\n            function (err) {\r\n                console.error(\"Async: Could not copy text: \", err);\r\n            },\r\n        );\r\n    }\r\n\r\n    QLD.code = code;\r\n\r\n    // Init In Page Nav on document load\r\n    document.addEventListener(\"DOMContentLoaded\", QLD.code.init);\r\n})();\r\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t\t? self // if in worker\n\t\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self) {\n\n\t// Private helper vars\n\tvar lang = /(?:^|\\s)lang(?:uage)?-([\\w-]+)(?=\\s|$)/i;\n\tvar uniqueId = 0;\n\n\t// The grammar object for plaintext\n\tvar plainTextGrammar = {};\n\n\n\tvar _ = {\n\t\t/**\n\t\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t\t * additional languages or plugins yourself.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t\t *\n\t\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.manual = true;\n\t\t * // add a new <script> to load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tmanual: _self.Prism && _self.Prism.manual,\n\t\t/**\n\t\t * By default, if Prism is in a web worker, it assumes that it is in a worker it created itself, so it uses\n\t\t * `addEventListener` to communicate with its parent instance. However, if you're using Prism manually in your\n\t\t * own worker, you don't want it to do this.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not add its own listeners to the worker.\n\t\t *\n\t\t * You obviously have to change this value before Prism executes. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.disableWorkerMessageHandler = true;\n\t\t * // Load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t\t/**\n\t\t * A namespace for utility methods.\n\t\t *\n\t\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t\t * change or disappear at any time.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t */\n\t\tutil: {\n\t\t\tencode: function encode(tokens) {\n\t\t\t\tif (tokens instanceof Token) {\n\t\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\t\treturn tokens.map(encode);\n\t\t\t\t} else {\n\t\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the name of the type of the given value.\n\t\t\t *\n\t\t\t * @param {any} o\n\t\t\t * @returns {string}\n\t\t\t * @example\n\t\t\t * type(null)      === 'Null'\n\t\t\t * type(undefined) === 'Undefined'\n\t\t\t * type(123)       === 'Number'\n\t\t\t * type('foo')     === 'String'\n\t\t\t * type(true)      === 'Boolean'\n\t\t\t * type([1, 2])    === 'Array'\n\t\t\t * type({})        === 'Object'\n\t\t\t * type(String)    === 'Function'\n\t\t\t * type(/abc+/)    === 'RegExp'\n\t\t\t */\n\t\t\ttype: function (o) {\n\t\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t\t *\n\t\t\t * @param {Object} obj\n\t\t\t * @returns {number}\n\t\t\t */\n\t\t\tobjId: function (obj) {\n\t\t\t\tif (!obj['__id']) {\n\t\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t\t}\n\t\t\t\treturn obj['__id'];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Creates a deep clone of the given object.\n\t\t\t *\n\t\t\t * The main intended use of this function is to clone language definitions.\n\t\t\t *\n\t\t\t * @param {T} o\n\t\t\t * @param {Record<number, any>} [visited]\n\t\t\t * @returns {T}\n\t\t\t * @template T\n\t\t\t */\n\t\t\tclone: function deepClone(o, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar clone; var id;\n\t\t\t\tswitch (_.util.type(o)) {\n\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tcase 'Array':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t\t *\n\t\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\tgetLanguage: function (element) {\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar m = lang.exec(element.className);\n\t\t\t\t\tif (m) {\n\t\t\t\t\t\treturn m[1].toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn 'none';\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the Prism `language-xxxx` class of the given element.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} language\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tsetLanguage: function (element, language) {\n\t\t\t\t// remove all `language-xxxx` classes\n\t\t\t\t// (this might leave behind a leading space)\n\t\t\t\telement.className = element.className.replace(RegExp(lang, 'gi'), '');\n\n\t\t\t\t// add the new `language-xxxx` class\n\t\t\t\t// (using `classList` will automatically clean up spaces for us)\n\t\t\t\telement.classList.add('language-' + language);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the script element that is currently executing.\n\t\t\t *\n\t\t\t * This does __not__ work for line script element.\n\t\t\t *\n\t\t\t * @returns {HTMLScriptElement | null}\n\t\t\t */\n\t\t\tcurrentScript: function () {\n\t\t\t\tif (typeof document === 'undefined') {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif (document.currentScript && document.currentScript.tagName === 'SCRIPT' && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t\t}\n\n\t\t\t\t// IE11 workaround\n\t\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t\t// this will not work for inline scripts\n\n\t\t\t\ttry {\n\t\t\t\t\tthrow new Error();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t\t// A stack will look like this:\n\t\t\t\t\t//\n\t\t\t\t\t// Error\n\t\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\t\tif (src) {\n\t\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns whether a given class is active for `element`.\n\t\t\t *\n\t\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t\t * given class is just the given class with a `no-` prefix.\n\t\t\t *\n\t\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t\t *\n\t\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t\t * version of it, the class is considered active.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} className\n\t\t\t * @param {boolean} [defaultActivation=false]\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisActive: function (element, className, defaultActivation) {\n\t\t\t\tvar no = 'no-' + className;\n\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar classList = element.classList;\n\t\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn !!defaultActivation;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tlanguages: {\n\t\t\t/**\n\t\t\t * The grammar for plain, unformatted text.\n\t\t\t */\n\t\t\tplain: plainTextGrammar,\n\t\t\tplaintext: plainTextGrammar,\n\t\t\ttext: plainTextGrammar,\n\t\t\ttxt: plainTextGrammar,\n\n\t\t\t/**\n\t\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t\t *\n\t\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t\t * will be overwritten at its original position.\n\t\t\t *\n\t\t\t * ## Best practices\n\t\t\t *\n\t\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t\t *\n\t\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t\t *\n\t\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t\t * @param {Grammar} redef The new tokens to append.\n\t\t\t * @returns {Grammar} The new language created.\n\t\t\t * @public\n\t\t\t * @example\n\t\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t\t *     // at its original position\n\t\t\t *     'comment': { ... },\n\t\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t\t * });\n\t\t\t */\n\t\t\textend: function (id, redef) {\n\t\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\t\tfor (var key in redef) {\n\t\t\t\t\tlang[key] = redef[key];\n\t\t\t\t}\n\n\t\t\t\treturn lang;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t\t *\n\t\t\t * ## Usage\n\t\t\t *\n\t\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t\t * this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.markup.style = {\n\t\t\t *     // token\n\t\t\t * };\n\t\t\t * ```\n\t\t\t *\n\t\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t\t *     'style': {\n\t\t\t *         // token\n\t\t\t *     }\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Special cases\n\t\t\t *\n\t\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t\t * will be ignored.\n\t\t\t *\n\t\t\t * This behavior can be used to insert tokens after `before`:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t\t *     'comment': Prism.languages.markup.comment,\n\t\t\t *     // tokens after 'comment'\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Limitations\n\t\t\t *\n\t\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t\t *\n\t\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t\t *\n\t\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * var oldMarkup = Prism.languages.markup;\n\t\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t\t *\n\t\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t\t * object to be modified.\n\t\t\t * @param {string} before The key to insert before.\n\t\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t\t * object to be modified.\n\t\t\t *\n\t\t\t * Defaults to `Prism.languages`.\n\t\t\t * @returns {Grammar} The new grammar object.\n\t\t\t * @public\n\t\t\t */\n\t\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\t\tvar grammar = root[inside];\n\t\t\t\t/** @type {Grammar} */\n\t\t\t\tvar ret = {};\n\n\t\t\t\tfor (var token in grammar) {\n\t\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar old = root[inside];\n\t\t\t\troot[inside] = ret;\n\n\t\t\t\t// Update references in other language definitions\n\t\t\t\t_.languages.DFS(_.languages, function (key, value) {\n\t\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\t\tthis[key] = ret;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// Traverse a language definition with Depth First Search\n\t\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar objId = _.util.objId;\n\n\t\t\t\tfor (var i in o) {\n\t\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\t\tvar property = o[i];\n\t\t\t\t\t\tvar propertyType = _.util.type(property);\n\n\t\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t\t} else if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tplugins: {},\n\n\t\t/**\n\t\t * This is the most high-level function in Prisms API.\n\t\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t\t * each one of them.\n\t\t *\n\t\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t\t *\n\t\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAll: function (async, callback) {\n\t\t\t_.highlightAllUnder(document, async, callback);\n\t\t},\n\n\t\t/**\n\t\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t\t * {@link Prism.highlightElement} on each one of them.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-highlightall`\n\t\t * 2. `before-all-elements-highlight`\n\t\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t\t *\n\t\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAllUnder: function (container, async, callback) {\n\t\t\tvar env = {\n\t\t\t\tcallback: callback,\n\t\t\t\tcontainer: container,\n\t\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t\t};\n\n\t\t\t_.hooks.run('before-highlightall', env);\n\n\t\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\t\tfor (var i = 0, element; (element = env.elements[i++]);) {\n\t\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Highlights the code inside a single element.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-sanity-check`\n\t\t * 2. `before-highlight`\n\t\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t\t * 4. `before-insert`\n\t\t * 5. `after-highlight`\n\t\t * 6. `complete`\n\t\t *\n\t\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t\t * the element's language.\n\t\t *\n\t\t * @param {Element} element The element containing the code.\n\t\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t\t *\n\t\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t\t * asynchronous highlighting to work. You can build your own bundle on the\n\t\t * [Download page](https://prismjs.com/download.html).\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightElement: function (element, async, callback) {\n\t\t\t// Find language\n\t\t\tvar language = _.util.getLanguage(element);\n\t\t\tvar grammar = _.languages[language];\n\n\t\t\t// Set language on the element, if not present\n\t\t\t_.util.setLanguage(element, language);\n\n\t\t\t// Set language on the parent, for styling\n\t\t\tvar parent = element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\t\t_.util.setLanguage(parent, language);\n\t\t\t}\n\n\t\t\tvar code = element.textContent;\n\n\t\t\tvar env = {\n\t\t\t\telement: element,\n\t\t\t\tlanguage: language,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tcode: code\n\t\t\t};\n\n\t\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t}\n\n\t\t\t_.hooks.run('before-sanity-check', env);\n\n\t\t\t// plugins may change/add the parent/element\n\t\t\tparent = env.element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre' && !parent.hasAttribute('tabindex')) {\n\t\t\t\tparent.setAttribute('tabindex', '0');\n\t\t\t}\n\n\t\t\tif (!env.code) {\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_.hooks.run('before-highlight', env);\n\n\t\t\tif (!env.grammar) {\n\t\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (async && _self.Worker) {\n\t\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\t\tworker.onmessage = function (evt) {\n\t\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t\t};\n\n\t\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\t\tlanguage: env.language,\n\t\t\t\t\tcode: env.code,\n\t\t\t\t\timmediateClose: true\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Low-level function, only use if you know what youre doing. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns a string with the HTML produced.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-tokenize`\n\t\t * 2. `after-tokenize`\n\t\t * 3. `wrap`: On each {@link Token}.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @param {string} language The name of the language definition passed to `grammar`.\n\t\t * @returns {string} The highlighted HTML.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t\t */\n\t\thighlight: function (text, grammar, language) {\n\t\t\tvar env = {\n\t\t\t\tcode: text,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tlanguage: language\n\t\t\t};\n\t\t\t_.hooks.run('before-tokenize', env);\n\t\t\tif (!env.grammar) {\n\t\t\t\tthrow new Error('The language \"' + env.language + '\" has no grammar.');\n\t\t\t}\n\t\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t\t_.hooks.run('after-tokenize', env);\n\t\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t\t},\n\n\t\t/**\n\t\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns an array with the tokenized code.\n\t\t *\n\t\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t\t *\n\t\t * This method could be useful in other contexts as well, as a very crude parser.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * let code = `var foo = 0;`;\n\t\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t\t * tokens.forEach(token => {\n\t\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t\t *         console.log(`Found numeric literal: ${token.content}`);\n\t\t *     }\n\t\t * });\n\t\t */\n\t\ttokenize: function (text, grammar) {\n\t\t\tvar rest = grammar.rest;\n\t\t\tif (rest) {\n\t\t\t\tfor (var token in rest) {\n\t\t\t\t\tgrammar[token] = rest[token];\n\t\t\t\t}\n\n\t\t\t\tdelete grammar.rest;\n\t\t\t}\n\n\t\t\tvar tokenList = new LinkedList();\n\t\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\t\treturn toArray(tokenList);\n\t\t},\n\n\t\t/**\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thooks: {\n\t\t\tall: {},\n\n\t\t\t/**\n\t\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t\t *\n\t\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t\t *\n\t\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t\t * @public\n\t\t\t */\n\t\t\tadd: function (name, callback) {\n\t\t\t\tvar hooks = _.hooks.all;\n\n\t\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\t\thooks[name].push(callback);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t\t *\n\t\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t\t * @public\n\t\t\t */\n\t\t\trun: function (name, env) {\n\t\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, callback; (callback = callbacks[i++]);) {\n\t\t\t\t\tcallback(env);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tToken: Token\n\t};\n\t_self.Prism = _;\n\n\n\t// Typescript note:\n\t// The following can be used to import the Token type in JSDoc:\n\t//\n\t//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n\t/**\n\t * Creates a new token.\n\t *\n\t * @param {string} type See {@link Token#type type}\n\t * @param {string | TokenStream} content See {@link Token#content content}\n\t * @param {string|string[]} [alias] The alias(es) of the token.\n\t * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n\t * @class\n\t * @global\n\t * @public\n\t */\n\tfunction Token(type, content, alias, matchedStr) {\n\t\t/**\n\t\t * The type of the token.\n\t\t *\n\t\t * This is usually the key of a pattern in a {@link Grammar}.\n\t\t *\n\t\t * @type {string}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.type = type;\n\t\t/**\n\t\t * The strings or tokens contained by this token.\n\t\t *\n\t\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t\t *\n\t\t * @type {string | TokenStream}\n\t\t * @public\n\t\t */\n\t\tthis.content = content;\n\t\t/**\n\t\t * The alias(es) of the token.\n\t\t *\n\t\t * @type {string|string[]}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.alias = alias;\n\t\t// Copy of the full string this token was created from\n\t\tthis.length = (matchedStr || '').length | 0;\n\t}\n\n\t/**\n\t * A token stream is an array of strings and {@link Token Token} objects.\n\t *\n\t * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n\t * them.\n\t *\n\t * 1. No adjacent strings.\n\t * 2. No empty strings.\n\t *\n\t *    The only exception here is the token stream that only contains the empty string and nothing else.\n\t *\n\t * @typedef {Array<string | Token>} TokenStream\n\t * @global\n\t * @public\n\t */\n\n\t/**\n\t * Converts the given token or token stream to an HTML representation.\n\t *\n\t * The following hooks will be run:\n\t * 1. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string | Token | TokenStream} o The token or token stream to be converted.\n\t * @param {string} language The name of current language.\n\t * @returns {string} The HTML representation of the token or token stream.\n\t * @memberof Token\n\t * @static\n\t */\n\tToken.stringify = function stringify(o, language) {\n\t\tif (typeof o == 'string') {\n\t\t\treturn o;\n\t\t}\n\t\tif (Array.isArray(o)) {\n\t\t\tvar s = '';\n\t\t\to.forEach(function (e) {\n\t\t\t\ts += stringify(e, language);\n\t\t\t});\n\t\t\treturn s;\n\t\t}\n\n\t\tvar env = {\n\t\t\ttype: o.type,\n\t\t\tcontent: stringify(o.content, language),\n\t\t\ttag: 'span',\n\t\t\tclasses: ['token', o.type],\n\t\t\tattributes: {},\n\t\t\tlanguage: language\n\t\t};\n\n\t\tvar aliases = o.alias;\n\t\tif (aliases) {\n\t\t\tif (Array.isArray(aliases)) {\n\t\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t\t} else {\n\t\t\t\tenv.classes.push(aliases);\n\t\t\t}\n\t\t}\n\n\t\t_.hooks.run('wrap', env);\n\n\t\tvar attributes = '';\n\t\tfor (var name in env.attributes) {\n\t\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t\t}\n\n\t\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n\t};\n\n\t/**\n\t * @param {RegExp} pattern\n\t * @param {number} pos\n\t * @param {string} text\n\t * @param {boolean} lookbehind\n\t * @returns {RegExpExecArray | null}\n\t */\n\tfunction matchPattern(pattern, pos, text, lookbehind) {\n\t\tpattern.lastIndex = pos;\n\t\tvar match = pattern.exec(text);\n\t\tif (match && lookbehind && match[1]) {\n\t\t\t// change the match to remove the text matched by the Prism lookbehind group\n\t\t\tvar lookbehindLength = match[1].length;\n\t\t\tmatch.index += lookbehindLength;\n\t\t\tmatch[0] = match[0].slice(lookbehindLength);\n\t\t}\n\t\treturn match;\n\t}\n\n\t/**\n\t * @param {string} text\n\t * @param {LinkedList<string | Token>} tokenList\n\t * @param {any} grammar\n\t * @param {LinkedListNode<string | Token>} startNode\n\t * @param {number} startPos\n\t * @param {RematchOptions} [rematch]\n\t * @returns {void}\n\t * @private\n\t *\n\t * @typedef RematchOptions\n\t * @property {string} cause\n\t * @property {number} reach\n\t */\n\tfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\t\tfor (var token in grammar) {\n\t\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar patternObj = patterns[j];\n\t\t\t\tvar inside = patternObj.inside;\n\t\t\t\tvar lookbehind = !!patternObj.lookbehind;\n\t\t\t\tvar greedy = !!patternObj.greedy;\n\t\t\t\tvar alias = patternObj.alias;\n\n\t\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t\t}\n\n\t\t\t\t/** @type {RegExp} */\n\t\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t\t) {\n\n\t\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\t\t\t\t\tvar match;\n\n\t\t\t\t\tif (greedy) {\n\t\t\t\t\t\tmatch = matchPattern(pattern, pos, text, lookbehind);\n\t\t\t\t\t\tif (!match || match.index >= text.length) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index;\n\t\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\t\tpos = p;\n\n\t\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\t\tk = k.next\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t\t// replace with the new match\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatch = matchPattern(pattern, 0, str, lookbehind);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// eslint-disable-next-line no-redeclare\n\t\t\t\t\tvar from = match.index;\n\t\t\t\t\tvar matchStr = match[0];\n\t\t\t\t\tvar before = str.slice(0, from);\n\t\t\t\t\tvar after = str.slice(from + matchStr.length);\n\n\t\t\t\t\tvar reach = pos + str.length;\n\t\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\t\trematch.reach = reach;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t\t// this can only happen if the current pattern is greedy\n\n\t\t\t\t\t\t/** @type {RematchOptions} */\n\t\t\t\t\t\tvar nestedRematch = {\n\t\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\t\treach: reach\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, nestedRematch);\n\n\t\t\t\t\t\t// the reach might have been extended because of the rematching\n\t\t\t\t\t\tif (rematch && nestedRematch.reach > rematch.reach) {\n\t\t\t\t\t\t\trematch.reach = nestedRematch.reach;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @typedef LinkedListNode\n\t * @property {T} value\n\t * @property {LinkedListNode<T> | null} prev The previous node.\n\t * @property {LinkedListNode<T> | null} next The next node.\n\t * @template T\n\t * @private\n\t */\n\n\t/**\n\t * @template T\n\t * @private\n\t */\n\tfunction LinkedList() {\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar head = { value: null, prev: null, next: null };\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar tail = { value: null, prev: head, next: null };\n\t\thead.next = tail;\n\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.head = head;\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.tail = tail;\n\t\tthis.length = 0;\n\t}\n\n\t/**\n\t * Adds a new node with the given value to the list.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {T} value\n\t * @returns {LinkedListNode<T>} The added node.\n\t * @template T\n\t */\n\tfunction addAfter(list, node, value) {\n\t\t// assumes that node != list.tail && values.length >= 0\n\t\tvar next = node.next;\n\n\t\tvar newNode = { value: value, prev: node, next: next };\n\t\tnode.next = newNode;\n\t\tnext.prev = newNode;\n\t\tlist.length++;\n\n\t\treturn newNode;\n\t}\n\t/**\n\t * Removes `count` nodes after the given node. The given node will not be removed.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {number} count\n\t * @template T\n\t */\n\tfunction removeRange(list, node, count) {\n\t\tvar next = node.next;\n\t\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\t\tnext = next.next;\n\t\t}\n\t\tnode.next = next;\n\t\tnext.prev = node;\n\t\tlist.length -= i;\n\t}\n\t/**\n\t * @param {LinkedList<T>} list\n\t * @returns {T[]}\n\t * @template T\n\t */\n\tfunction toArray(list) {\n\t\tvar array = [];\n\t\tvar node = list.head.next;\n\t\twhile (node !== list.tail) {\n\t\t\tarray.push(node.value);\n\t\t\tnode = node.next;\n\t\t}\n\t\treturn array;\n\t}\n\n\n\tif (!_self.document) {\n\t\tif (!_self.addEventListener) {\n\t\t\t// in Node.js\n\t\t\treturn _;\n\t\t}\n\n\t\tif (!_.disableWorkerMessageHandler) {\n\t\t\t// In worker\n\t\t\t_self.addEventListener('message', function (evt) {\n\t\t\t\tvar message = JSON.parse(evt.data);\n\t\t\t\tvar lang = message.language;\n\t\t\t\tvar code = message.code;\n\t\t\t\tvar immediateClose = message.immediateClose;\n\n\t\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\t\tif (immediateClose) {\n\t\t\t\t\t_self.close();\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\n\t\treturn _;\n\t}\n\n\t// Get current script and highlight\n\tvar script = _.util.currentScript();\n\n\tif (script) {\n\t\t_.filename = script.src;\n\n\t\tif (script.hasAttribute('data-manual')) {\n\t\t\t_.manual = true;\n\t\t}\n\t}\n\n\tfunction highlightAutomaticallyCallback() {\n\t\tif (!_.manual) {\n\t\t\t_.highlightAll();\n\t\t}\n\t}\n\n\tif (!_.manual) {\n\t\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t\t// See https://github.com/PrismJS/prism/issues/2102\n\t\tvar readyState = document.readyState;\n\t\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn _;\n\n}(_self));\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n */\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n */\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': {\n\t\tpattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n\t\tgreedy: true\n\t},\n\t'prolog': {\n\t\tpattern: /<\\?[\\s\\S]+?\\?>/,\n\t\tgreedy: true\n\t},\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/i,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': {\n\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\tgreedy: true\n\t},\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'special-attr': [],\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n\t/**\n\t * Adds an pattern to highlight languages embedded in HTML attributes.\n\t *\n\t * An example of an inlined language is CSS with `style` attributes.\n\t *\n\t * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addAttribute('style', 'css');\n\t */\n\tvalue: function (attrName, lang) {\n\t\tPrism.languages.markup.tag.inside['special-attr'].push({\n\t\t\tpattern: RegExp(\n\t\t\t\t/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\n\t\t\t\t'i'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'attr-name': /^[^\\s=]+/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /=[\\s\\S]+/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\tpattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\talias: [lang, 'language-' + lang],\n\t\t\t\t\t\t\tinside: Prism.languages[lang]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: RegExp('@[\\\\w-](?:' + /[^;{\\s\"']|\\s+(?!\\s)/.source + '|' + string.source + ')*?' + /(?:;|(?=\\s*\\{))/.source),\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': {\n\t\t\tpattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'important': /!important\\b/i,\n\t\t'function': {\n\t\t\tpattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\t\tmarkup.tag.addAttribute('style', 'css');\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|trait)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\\b/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'function': /\\b\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|\\})\\s*)catch\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'number': {\n\t\tpattern: RegExp(\n\t\t\t/(^|[^\\w$])/.source +\n\t\t\t'(?:' +\n\t\t\t(\n\t\t\t\t// constant\n\t\t\t\t/NaN|Infinity/.source +\n\t\t\t\t'|' +\n\t\t\t\t// binary integer\n\t\t\t\t/0[bB][01]+(?:_[01]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// octal integer\n\t\t\t\t/0[oO][0-7]+(?:_[0-7]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// hexadecimal integer\n\t\t\t\t/0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal bigint\n\t\t\t\t/\\d+(?:_\\d+)*n/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal number (integer or float) but no bigint\n\t\t\t\t/(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source\n\t\t\t) +\n\t\t\t')' +\n\t\t\t/(?![\\w$])/.source\n\t\t),\n\t\tlookbehind: true\n\t},\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: RegExp(\n\t\t\t// lookbehind\n\t\t\t// eslint-disable-next-line regexp/no-dupe-characters-character-class\n\t\t\t/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source +\n\t\t\t// Regex pattern:\n\t\t\t// There are 2 regex patterns here. The RegExp set notation proposal added support for nested character\n\t\t\t// classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible\n\t\t\t// with the only syntax, so we have to define 2 different regex patterns.\n\t\t\t/\\//.source +\n\t\t\t'(?:' +\n\t\t\t/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source +\n\t\t\t'|' +\n\t\t\t// `v` flag syntax. This supports 3 levels of nested character classes.\n\t\t\t/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source +\n\t\t\t')' +\n\t\t\t// lookahead\n\t\t\t/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source\n\t\t),\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-delimiter': /^\\/|\\/$/,\n\t\t\t'regex-flags': /^[a-z]+$/,\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'hashbang': {\n\t\tpattern: /^#!.*/,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'string-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property'\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'operator', {\n\t'literal-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\talias: 'property'\n\t},\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n\n\t// add attribute support for all DOM events.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n\tPrism.languages.markup.tag.addAttribute(\n\t\t/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\n\t\t'javascript'\n\t);\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\n\tif (typeof Prism === 'undefined' || typeof document === 'undefined') {\n\t\treturn;\n\t}\n\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\n\tvar LOADING_MESSAGE = 'Loading';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn ' Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = ' Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\t/**\n\t * Loads the given file.\n\t *\n\t * @param {string} src The URL or path of the source file to load.\n\t * @param {(result: string) => void} success\n\t * @param {(reason: string) => void} error\n\t */\n\tfunction loadFile(src, success, error) {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open('GET', src, true);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState == 4) {\n\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\tsuccess(xhr.responseText);\n\t\t\t\t} else {\n\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\terror(FAILURE_MESSAGE(xhr.status, xhr.statusText));\n\t\t\t\t\t} else {\n\t\t\t\t\t\terror(FAILURE_EMPTY_MESSAGE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\txhr.send(null);\n\t}\n\n\t/**\n\t * Parses the given range.\n\t *\n\t * This returns a range with inclusive ends.\n\t *\n\t * @param {string | null | undefined} range\n\t * @returns {[number, number | undefined] | undefined}\n\t */\n\tfunction parseRange(range) {\n\t\tvar m = /^\\s*(\\d+)\\s*(?:(,)\\s*(?:(\\d+)\\s*)?)?$/.exec(range || '');\n\t\tif (m) {\n\t\t\tvar start = Number(m[1]);\n\t\t\tvar comma = m[2];\n\t\t\tvar end = m[3];\n\n\t\t\tif (!comma) {\n\t\t\t\treturn [start, start];\n\t\t\t}\n\t\t\tif (!end) {\n\t\t\t\treturn [start, undefined];\n\t\t\t}\n\t\t\treturn [start, Number(end)];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tPrism.util.setLanguage(code, language);\n\t\t\tPrism.util.setLanguage(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tloadFile(\n\t\t\t\tsrc,\n\t\t\t\tfunction (text) {\n\t\t\t\t\t// mark as loaded\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t// handle data-range\n\t\t\t\t\tvar range = parseRange(pre.getAttribute('data-range'));\n\t\t\t\t\tif (range) {\n\t\t\t\t\t\tvar lines = text.split(/\\r\\n?|\\n/g);\n\n\t\t\t\t\t\t// the range is one-based and inclusive on both ends\n\t\t\t\t\t\tvar start = range[0];\n\t\t\t\t\t\tvar end = range[1] == null ? lines.length : range[1];\n\n\t\t\t\t\t\tif (start < 0) { start += lines.length; }\n\t\t\t\t\t\tstart = Math.max(0, Math.min(start - 1, lines.length));\n\t\t\t\t\t\tif (end < 0) { end += lines.length; }\n\t\t\t\t\t\tend = Math.max(0, Math.min(end, lines.length));\n\n\t\t\t\t\t\ttext = lines.slice(start, end).join('\\n');\n\n\t\t\t\t\t\t// add data-start for line numbers\n\t\t\t\t\t\tif (!pre.hasAttribute('data-start')) {\n\t\t\t\t\t\t\tpre.setAttribute('data-start', String(start + 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// highlight code\n\t\t\t\t\tcode.textContent = text;\n\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t},\n\t\t\t\tfunction (error) {\n\t\t\t\t\t// mark as failed\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\tcode.textContent = error;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; (element = elements[i++]);) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t};\n\n}());\n","(function () {\r\n    /* This code is for implementing a tab component on a webpage. It does the following:\r\n\r\n        1 .Selects all elements with the class qld__tab-container on the page and stores them in the tabComponents variable.\r\n        2. Loops through each element in tabComponents.\r\n        3. Within the loop, it selects all elements with the class qld__tab-button within the current tabComponent element and stores them in the tabHeadings variable.\r\n        4. It adds the active class to the first element in tabHeadings and to the corresponding tab content element.\r\n        5. It loops through each element in tabHeadings.\r\n        6. Within the loop, it attaches a click event listener to each element in tabHeadings.\r\n        7. When a tab heading element is clicked, the event listener removes the active class from all qld__tab-button and qld__tab-content elements within the current tabComponent,\r\n        8. It then adds the active class to the clicked tab heading element and its corresponding tab content element.\r\n        9. The last part of the code allows the users to navigate tabs with the keyboard which is an accessibilty requirement.\r\n\r\n        This code will work for multiple tab components on the same page.\r\n\r\n    */\r\n\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @module tab\r\n     */\r\n\r\n    /**\r\n     * Initialise all embedded facility maps on a particular page\r\n     *\r\n     * @memberof module:tab\r\n     */\r\n\r\n    var tab = {};\r\n    const SCROLL_AMOUNT = 500;\r\n\r\n    /**\r\n     * The functions below scroll the tab list to the left or right by the defined scroll amount\r\n     * @param {HTMLElement} tabList - The tab list element to scroll\r\n     */\r\n\r\n    function scrollRight(tabList, ScrollRightBtn, ScrollLeftBtn) {\r\n        // Check if the current scroll position is at the maximum scroll position\r\n        if (\r\n            tabList.scrollLeft + SCROLL_AMOUNT >=\r\n            tabList.scrollWidth - tabList.clientWidth\r\n        ) {\r\n            // Hide the scroll right button\r\n            ScrollRightBtn.style.display = \"none\";\r\n        }\r\n\r\n        tabList.scrollLeft += SCROLL_AMOUNT;\r\n        ScrollLeftBtn.style.display = \"block\";\r\n    }\r\n\r\n    function scrollLeft(tabList, ScrollRightBtn, ScrollLeftBtn) {\r\n        // Check if the current scroll position is at the beginning of the scroll\r\n        if (tabList.scrollLeft - SCROLL_AMOUNT <= 0) {\r\n            // Hide the scroll left button\r\n            ScrollLeftBtn.style.display = \"none\";\r\n        }\r\n\r\n        tabList.scrollLeft -= SCROLL_AMOUNT;\r\n        ScrollRightBtn.style.display = \"block\";\r\n    }\r\n\r\n    /**\r\n     *  The function below checks if the tab list overflows the tab element and display the appropriate scroll buttons\r\n     * @param {HTMLElement} TabHeader - The tab nav element\r\n     * @param {HTMLElement} tabList - The tab list element\r\n     * @param {HTMLElement} ScrollRightBtn - The right scroll button element\r\n     * @param {HTMLElement} ScrollLeftBtn - The left scroll button element\r\n     */\r\n\r\n    function overflow(TabHeader, tabList, ScrollRightBtn, ScrollLeftBtn) {\r\n        const cusidEle = tabList.querySelectorAll(\".qld__tab-button\");\r\n        const menuWidth = TabHeader.clientWidth;\r\n        let totalWidth = 0;\r\n        // Calculate the total width of all the nav items\r\n        for (let i = 0; i < cusidEle.length; i++) {\r\n            totalWidth += cusidEle[i].offsetWidth;\r\n        }\r\n        // If the total width is greater than the menu width, display the right scroll button\r\n        // and scroll the link list to the left by the defined amount\r\n        if (totalWidth > menuWidth) {\r\n            ScrollRightBtn.style.display = \"block\";\r\n            tabList.scrollLeft -= SCROLL_AMOUNT;\r\n            ScrollLeftBtn.style.display = \"none\";\r\n        } else {\r\n            ScrollRightBtn.style.display = \"none\";\r\n            ScrollLeftBtn.style.display = \"none\";\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Debounce function to limit the number of times that a function is called\r\n     * @param {function} func - The function to debounce\r\n     * @param {number} wait - The number of milliseconds to wait before calling the function\r\n     */\r\n\r\n    function debounce(func, wait) {\r\n        let timeout;\r\n        return function (...args) {\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(() => func.apply(this, args), wait);\r\n        };\r\n    }\r\n\r\n    function updateNavLinks() {\r\n        const tabs = document.querySelectorAll(\".qld__tab-content\");\r\n\r\n        for (let tab of tabs) {\r\n            const links = tab.querySelectorAll(\".qld__inpage-nav-links li a\");\r\n\r\n            if (!links) return;\r\n\r\n            links.forEach((link) => {\r\n                let targetId = link.getAttribute(\"href\");\r\n                targetId = correctSelectors(targetId);\r\n                let targetElement = tab.querySelector(targetId);\r\n\r\n                if (!targetElement) {\r\n                    link.parentElement.remove();\r\n                }\r\n            });\r\n        }\r\n\r\n        window.removeEventListener(\"scroll\", handleScroll);\r\n    }\r\n\r\n    function correctSelectors(selector) {\r\n        if (!selector) return \"\";\r\n        const specialChars = [\r\n            \"!\",\r\n            '\"',\r\n            \"$\",\r\n            \"%\",\r\n            \"&\",\r\n            \"'\",\r\n            \"(\",\r\n            \")\",\r\n            \"*\",\r\n            \"+\",\r\n            \",\",\r\n            \".\",\r\n            \"/\",\r\n            \":\",\r\n            \";\",\r\n            \"<\",\r\n            \"=\",\r\n            \">\",\r\n            \"?\",\r\n            \"@\",\r\n            \"[\",\r\n            \"\\\\\",\r\n            \"]\",\r\n            \"^\",\r\n            \"`\",\r\n            \"{\",\r\n            \"|\",\r\n            \"}\",\r\n            \"~\",\r\n        ];\r\n        const regex = new RegExp(`([${specialChars.join(\"\\\\\")}])`, \"g\");\r\n        return selector.replace(regex, \"\\\\$1\");\r\n    }\r\n\r\n    function tabFixInitializer() {\r\n        let buttons = document.getElementsByClassName(\"qld__tab-button\");\r\n        for (let button of buttons) {\r\n            updateNavLinks();\r\n            button.addEventListener(\"click\", () => {\r\n                updateNavLinks();\r\n            });\r\n        }\r\n    }\r\n    function handleScroll() {\r\n        tabFixInitializer();\r\n    }\r\n\r\n    tab.init = function () {\r\n        // Get all tab components on the page\r\n        const tabComponents = document.querySelectorAll(\".qld__tab-container\");\r\n\r\n        // Loop through each tab component\r\n        tabComponents.forEach((tabComponent) => {\r\n            // Get all tab heading elements within the tab component\r\n            const tabHeadings =\r\n                tabComponent.querySelectorAll(\".qld__tab-button\");\r\n\r\n            // Set tab index and aria-selected attributes for the first tab heading and its corresponding content element\r\n            if (tabHeadings.length) {\r\n                tabHeadings[0].setAttribute(\"tabindex\", \"0\");\r\n                tabHeadings[0].setAttribute(\"aria-selected\", \"true\");\r\n                const tabContentId = tabHeadings[0].getAttribute(\"data-tab\");\r\n                tabHeadings[0].classList.add(\"active\");\r\n\r\n                const tabContent = tabComponent.querySelector(\r\n                    `.qld__tab-content[data-tab=\"${tabContentId}\"]`\r\n                );\r\n\r\n                if (tabContent.length) {\r\n                    tabContent.setAttribute(\"tabindex\", \"0\");\r\n                    tabContent.setAttribute(\"aria-hidden\", \"false\");\r\n                    tabContent.classList.add(\"active\");\r\n                }\r\n            }\r\n\r\n            // Add the 'active' class to the first tab heading and its corresponding content element\r\n\r\n            // Loop through each tab heading element\r\n            tabHeadings.forEach((tabHeading) => {\r\n                // Attach a click event listener to the tab heading\r\n                tabHeading.addEventListener(\"click\", (event) => {\r\n                    // Remove the 'active' class from all tab heading and content elements\r\n                    const tabHeadings =\r\n                        tabComponent.querySelectorAll(\".qld__tab-button\");\r\n                    tabHeadings.forEach((tabHeading) => {\r\n                        tabHeading.classList.remove(\"active\");\r\n                        tabHeading.setAttribute(\"aria-selected\", \"false\");\r\n                        tabHeading.setAttribute(\"tabindex\", \"-1\");\r\n                    });\r\n                    const tabContents =\r\n                        tabComponent.querySelectorAll(\".qld__tab-content\");\r\n                    tabContents.forEach((tabContent) => {\r\n                        tabContent.classList.remove(\"active\");\r\n                        tabContent.setAttribute(\"aria-hidden\", \"true\");\r\n                        tabContent.setAttribute(\"tabindex\", \"-1\");\r\n                    });\r\n                    // Add the 'active' class to the clicked tab heading and its corresponding content element\r\n                    event.currentTarget.classList.add(\"active\");\r\n                    event.currentTarget.setAttribute(\"aria-selected\", \"true\");\r\n                    event.currentTarget.setAttribute(\"tabindex\", \"0\");\r\n                    const tabContentId =\r\n                        event.currentTarget.getAttribute(\"data-tab\");\r\n                    const tabContent = tabComponent.querySelector(\r\n                        `.qld__tab-content[data-tab=\"${tabContentId}\"]`\r\n                    );\r\n                    tabContent.classList.add(\"active\");\r\n                    tabContent.setAttribute(\"aria-hidden\", \"false\");\r\n                    tabContent.setAttribute(\"tabindex\", \"0\");\r\n                });\r\n            });\r\n\r\n            let currentTabIndex = 0; // Track the current tab index globally\r\n\r\n            tabHeadings.forEach((tabHeading, index) => {\r\n                // Keydown event for arrow navigation\r\n                tabHeading.addEventListener(\"keydown\", (event) => {\r\n                    if (event.key === \"Enter\" || event.key === \"Space\") {\r\n                        event.preventDefault();\r\n                        event.currentTarget.click();\r\n                    } else if (event.key === \"ArrowLeft\") {\r\n                        event.preventDefault();\r\n                        // Navigate to the previous tab\r\n                        currentTabIndex =\r\n                            (currentTabIndex - 1 + tabHeadings.length) %\r\n                            tabHeadings.length;\r\n                        setFocusOnTab(currentTabIndex);\r\n                    } else if (event.key === \"ArrowRight\") {\r\n                        event.preventDefault();\r\n                        // Navigate to the next tab\r\n                        currentTabIndex =\r\n                            (currentTabIndex + 1) % tabHeadings.length;\r\n                        setFocusOnTab(currentTabIndex);\r\n                    }\r\n                });\r\n\r\n                // Focus event to sync currentTabIndex\r\n                tabHeading.addEventListener(\"focus\", (event) => {\r\n                    const tabIndex = Array.from(tabHeadings).indexOf(\r\n                        event.currentTarget\r\n                    );\r\n                    currentTabIndex = tabIndex; // Update the global index\r\n\r\n                    const tabContentId =\r\n                        event.currentTarget.getAttribute(\"data-tab\");\r\n                    const tabContent = tabComponent.querySelector(\r\n                        `.qld__tab-content[data-tab=\"${tabContentId}\"]`\r\n                    );\r\n                    if (tabContent) tabContent.classList.add(\"focused\");\r\n                });\r\n\r\n                // Blur event to remove focused class\r\n                tabHeading.addEventListener(\"blur\", (event) => {\r\n                    const tabContentId =\r\n                        event.currentTarget.getAttribute(\"data-tab\");\r\n                    const tabContent = tabComponent.querySelector(\r\n                        `.qld__tab-content[data-tab=\"${tabContentId}\"]`\r\n                    );\r\n                    if (tabContent) tabContent.classList.remove(\"focused\");\r\n                });\r\n            });\r\n\r\n            // Function to apply focus and delay the update of currentTabIndex\r\n            function setFocusOnTab(index, tabHeadings) {\r\n                // Check if tabHeadings is valid and has elements\r\n                if (tabHeadings && tabHeadings.length > 0) {\r\n                    // Ensure the index is within bounds\r\n                    index = (index + tabHeadings.length) % tabHeadings.length;\r\n\r\n                    setTimeout(() => {\r\n                        const nextTabHeading = tabHeadings[index];\r\n                        nextTabHeading.focus();\r\n                    }, 50);\r\n                }\r\n            }\r\n        });\r\n\r\n        /*  This script implements horizontal scrolling for fixed tab components on a page.\r\n\r\n                It selects the main nav elements and tab list elements, and defines functions to scroll the tab list element to the left or right.\r\n                It also shows or hides the scroll buttons based on whether the tab list element overflows the main nav element.\r\n                THe script includes event listeners for the elements to call the appropriate functions when the page loads or is resized, or when the scroll buttons are clicked.\r\n                It also includes a debounce function to limit the number of times that a function is called.\r\n\r\n            */\r\n\r\n        // Get the main nav elements and the tab list elements\r\n        const TabHeaders = document.getElementsByClassName(\r\n            \"qld__tab-container__fixed\"\r\n        );\r\n        const tabLists = [];\r\n\r\n        for (let i = 0; i < TabHeaders.length; i++) {\r\n            const tabs = TabHeaders[i].getElementsByClassName(\"qld__tabs\");\r\n            tabLists.push(tabs[0]);\r\n        }\r\n\r\n        // Attach event listeners to each component\r\n\r\n        for (let i = 0; i < TabHeaders.length; i++) {\r\n            const TabHeader = TabHeaders[i];\r\n            const tabList = tabLists[i];\r\n            const ScrollRightBtn = TabHeader.querySelector(\r\n                \".tab-overflow-nav-button-right\"\r\n            );\r\n            const ScrollLeftBtn = TabHeader.querySelector(\r\n                \".tab-overflow-nav-button-left\"\r\n            );\r\n            window.addEventListener(\"load\", () =>\r\n                overflow(TabHeader, tabList, ScrollRightBtn, ScrollLeftBtn)\r\n            );\r\n            window.addEventListener(\r\n                \"resize\",\r\n                debounce(\r\n                    () =>\r\n                        overflow(\r\n                            TabHeader,\r\n                            tabList,\r\n                            ScrollRightBtn,\r\n                            ScrollLeftBtn\r\n                        ),\r\n                    250\r\n                )\r\n            );\r\n            ScrollRightBtn.addEventListener(\"click\", () =>\r\n                scrollRight(tabList, ScrollRightBtn, ScrollLeftBtn)\r\n            );\r\n            ScrollLeftBtn.addEventListener(\"click\", () =>\r\n                scrollLeft(tabList, ScrollRightBtn, ScrollLeftBtn)\r\n            );\r\n        }\r\n    };\r\n\r\n    QLD.tab = tab;\r\n\r\n    window.addEventListener(\"DOMContentLoaded\", function () {\r\n        QLD.tab.init();\r\n        tabFixInitializer();\r\n    });\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n})();\r\n","(function () {\r\n    \"use strict\";\r\n\r\n    let toolTip = {};\r\n    // Variable to store the last clicked tool tip trigger\r\n    let lastTriggeredToolTipTrigger = null;\r\n    const componentName = \"qld__tool-tip\";\r\n    const toolTipTriggerQueryClass = \".\" + componentName + \"-trigger\";\r\n    const toolTipContentQueryClass = \".\" + componentName + \"-content\";\r\n    const marginFromTrigger = 4;\r\n    const contentLeaveDelay = 200; // Delay before hiding the content on mouse leave\r\n\r\n    toolTip.init = function () {\r\n        // Find all tool tip trigger elements\r\n        const toolTipTriggers = document.querySelectorAll(toolTipTriggerQueryClass);\r\n\r\n        if (!toolTipTriggers.length) return;\r\n\r\n        toolTipTriggers.forEach(function (toolTipTrigger) {\r\n            let closeTimeout = null;\r\n            const toolTipId = toolTipTrigger.getAttribute(\"data-target\");\r\n\r\n            if (!toolTipId) return;\r\n\r\n            const toolTip = document.getElementById(toolTipId);\r\n            const content = toolTip.querySelector(toolTipContentQueryClass);\r\n\r\n            // Function to open the tool tip\r\n            function openToolTip() {\r\n                lastTriggeredToolTipTrigger = toolTipTrigger;\r\n                QLD.toggleToolTips.openToggleToolTip(componentName, toolTip, toolTipTrigger, marginFromTrigger);\r\n            }\r\n\r\n            // Function to open the tool tip\r\n            function closeToolTip() {\r\n                QLD.toggleToolTips.closeToggleToolTip(componentName, toolTip, toolTipTrigger);\r\n            }\r\n\r\n            toolTipTrigger.addEventListener(\"mouseenter\", function (e) {\r\n                closeAllToolTips();\r\n                openToolTip();\r\n\r\n                e.stopPropagation();\r\n            });\r\n\r\n            toolTipTrigger.addEventListener(\"focus\", function () {\r\n                openToolTip();\r\n            });\r\n\r\n            toolTipTrigger.addEventListener(\"mouseleave\", function () {\r\n                // Set a delay before closing the triggered element\r\n                closeTimeout = setTimeout(() => {\r\n                    closeToolTip();\r\n                }, contentLeaveDelay);\r\n            });\r\n\r\n            toolTipTrigger.addEventListener(\"blur\", function () {\r\n                closeAllToolTips();\r\n            });\r\n\r\n            content.addEventListener(\"mouseenter\", function () {\r\n                // Clear the close timeout if the mouse enters the triggered element in time\r\n                if (closeTimeout) {\r\n                    clearTimeout(closeTimeout);\r\n                    closeTimeout = null;\r\n                }\r\n\r\n                QLD.toggleToolTips.openToggleToolTip(componentName, toolTip, toolTipTrigger, marginFromTrigger);\r\n            });\r\n            content.addEventListener(\"mouseleave\", function () {\r\n                closeToolTip();\r\n            });\r\n        });\r\n\r\n        // Close tool tip if the tool content is open and the user hits the \"Escape\" key\r\n        document.addEventListener(\"keydown\", function (e) {\r\n            if (e.key === \"Escape\" && lastTriggeredToolTipTrigger) {\r\n                closeAllToolTips();\r\n            }\r\n        });\r\n    };\r\n\r\n    // Function to close all tool tips found on the page\r\n    function closeAllToolTips() {\r\n        const toolTipTriggers = document.querySelectorAll(toolTipTriggerQueryClass);\r\n\r\n        if (!toolTipTriggers.length) return;\r\n\r\n        lastTriggeredToolTipTrigger = null;\r\n        QLD.toggleToolTips.closeAllToggleToolTips(componentName, toolTipTriggers);\r\n    }\r\n\r\n    QLD.toolTip = toolTip;\r\n})();\r\n\r\nwindow.addEventListener(\"DOMContentLoaded\", function () {\r\n    QLD.toolTip.init();\r\n});\r\n"],"names":["QLD","toggleToolTips","contentQueryClass","marginFromSide","openToggleToolTip","componentName","toggleToolTip","trigger","marginFromTrigger","content","querySelector","this","carat","nextElementSibling","classList","remove","add","getAttribute","setAttribute","positionContentBox","closeToggleToolTip","removeAttribute","closeAllToggleToolTips","triggers","i","length","Id","document","getElementById","getAlignmentDirection","alignedClass","direction","foundClass","Array","from","find","className","includes","index","indexOf","slice","doesElementOverlapAnySide","contentDimensions","getBoundingClientRect","top","left","bottom","documentElement","clientHeight","right","clientWidth","doesElementOverlapScreenX","element","doesElementOverlapScreenY","elementCloserToLeft","screenCenter","width","elementCloserToTop","height","toggleToolTipDimensions","triggerDimensions","contentFromTriggerY","window","scrollY","contentFromTriggerX","scrollX","contentMarginFromTrigger","offsetWidth","positionCarat","style","offsetHeight","checkAlternativesForTopPosition","checkAlternativesForBottomPosition","checkAlternativesForLeftPosition","checkAlternativesForRightPosition","caratWidth","caratHeight","caratFromTriggerY","caratFromTriggerX","caratTopPosition","caratLeftPosition","transform","initPromoPanel","querySelectorAll","forEach","section","contains","next","tagName","toLowerCase","addEventListener","init","basicSearch","searchForm","el","honeypot","value","event","preventDefault","checkHoneypot","selectElement","currentUrl","URL","location","href","searchParams","URLSearchParams","search","has","get","selectedValue","set","toString","datePickers","$input","flatpickrSettings","dataAttributes","dataset","key","initDatePicker","settings","wrapper","parentElement","toggleBtn","allSettings","clickOpens","allowInput","locale","firstDayOfWeek","wrap","fp","flatpickr","$","on","e","toggle","megaMenu","item","handleTopNavKeydown","toggleMenu","handleTopNavFocusout","handleMenuKeypress","keyCode","navItem","target","closest","expanded","menu","setTimeout","activeElement","removeEventListener","handleBackgroundClick","link","focus","shiftKey","Element","prototype","matches","msMatchesSelector","webkitMatchesSelector","s","call","parentNode","nodeType","accordionTitles","accordionTitle","nextSibling","textContent","inPageNav","navs","mainEl","isLandingPage","nav","headingSelector","headings","list","innerHTML","display","heading","title","innerText","id","replace","insertAdjacentHTML","button","split","searchToggle","headerSearchEvents","addEvent","rawHandler","listenHandler","handler","apply","arguments","stopPropagation","attachHandler","returnValue","cancelBubble","attachEvent","removeEvent","token","detachEvent","toggleHeaderSearch","targetId","focustrapTop","focustrapBottom","background","console","log","focusTop","focusBottom","menuToggle","escKey","accordion","setAriaRoles","state","toggleClasses","openingClass","closingClass","oldClass","newClass","RegExp","join","removeClass","addClass","Toggle","elements","speed","callbacks","error","undefined","Error","animate","property","prefunction","onOpen","onClose","postfunction","dataLayer","push","category","action","label","afterClose","afterOpen","overFlowLinks","callback","controller","AbortController","toggleNavOnDocumentClick","abort","signal","ToggleAll","toogleAllButton","accordionButtons","Open","Close","getComputedStyle","currentStyle","parseInt","Run","endSize","breadcrumb","originalBreadCrumbUl","getTheElements","resized","bannerBreadCrumb","cloneNode","breadCrumbsUl","contentBanner","contentBannerStyle","contentPaddings","parseFloat","getPropertyValue","maxWidth","containerFluid","containerFluidStyle","paddings","insertOverFlowButton","overFlowWrapper","newElement","createElement","appendChild","appendOverflow","breadCrumbsUlLis","overflowMenu","breadcrumbUL","svgPath","div","ul","createOverFlow","breadcrumbLisLength","totalLisOffsetWidth","overflow","truncateLastLi","multiActionCards","card","imageLink","utils","func","wait","immediate","timeout","context","args","callNow","clearTimeout","node_list","cookie_name","cookie_value","cookie_entry","encodeURIComponent","cookie","c_value","c_start","c_end","unescape","substring","storage_key","storage_value","JSON","stringify","localStorage","setItem","getItem","removeItem","override","errorCallback","userLocationStorage","getLocalStorage","navigator","geolocation","setLoadingState","getCurrentPosition","position","coords","latitude","longitude","setUserLocation","removeLocalStorage","parse","refresh","hhsDiv","hhsId","serviceFinderData","collection","doc","then","response","hhs_id","hhs_name","name","setUserLocationInStorage","newLocation","setLocalStorage","reload","userLocationData","Object","keys","isGeolocated","isLoading","loader","insertBefore","firstChild","results","exec","decodeURIComponent","browserJS","checkIfAzSelected","hash","servicesAZOptions","servicesAZHeaders","option","header","activeOption","activeHeader","targetElement","scrollTo","offsetTop","behavior","targetHeader","fileUploads","inputs","loadingTemplate","file","fileName","fileTemplate","successTemplate","fileSize","fileId","fileType","type","getAssetType","size","Math","ceil","iconDataPath","iconClass","errorTemplate","assetType","typeLowerCase","isFileValid","input_field_settings","currentFiles","files","totalFiles","maxFiles","max_files","maxFileSize","max_file_size","fileTypes","file_types","test","some","match","iconDataPathElement","$file_inputs","listToArray","$dropzone_element","$file_list","input_element","create_location","file_list_element","dropzone_element","js_api_key","displayFiles","displayExistingFiles","addListeners","hasAttribute","addValidation","jsApi","validator","methods","requiredFileInteraction","addMethod","data","trim","rules","$fileInput","$fileInputWrapper","$dropArea","disabledClasses","srcElement","$fileInfoWrapper","deleteFile","handleFiles","dataTransfer","async","$fileInfo","isError","usingJsApi","findIndex","obj","splice","deleteAssetFromMatrix","setFilesDataAttribute","updateFileInputFileList","valid","$loading","replaceWith","trashedAsset","trashAsset","asset_ids","hasOwnProperty","$error","toggleDropzoneClass","$dropZone","status","sanitiseAndValidateFileName","sanitisedFileName","$fileList","promiseArray","isValid","sanitisedFile","File","lastModified","uploadFileJsApi","simulateFileUpload","Promise","all","$inputField","DataTransfer","items","resolve","reject","success","text","newText","childNodes","node","Node","TEXT_NODE","options","Squiz_Matrix_API","reader","FileReader","fileContent","readAsDataURL","onload","result","newFileAsset","createFileAsset","updatedFileAsset","updateFileContents","newFileInfo","getGeneral","asset_id","assetid","get_attributes","$success","errorDetails","err","createLocation","newFile","parentID","type_code","friendly_name","link_type","asset","assetId","acquireLock","screen_name","dependants_only","force_acquire","updatedFile","updateFileAssetContent","$fileInfoArea","displayed","files_displayed","currentFile","displayFile","parsedFile","$fileInfoBox","fileObj","mobileNav","mobileNavEvents","mobileNavAnimating","overlay","closeButton","openButton","menuHeading","focusContent","closed","body","footer","menuWidth","openSize","closeSize","opacity","overlayOpen","getStyle","itemToggles","svgSelector","svgIcon","borderTopColor","internalNavigation","tabs","buttons","tab","clickEventListener","keydownEventListener","keyupEventListener","activateTab","tablist","siblingTabs","firstTab","lastTab","determineOrientation","proceed","pressed","firstTabIndex","x","focusEventHandler","newIndex","switchTabOnArrowPress","setFocus","t","controls","deactivatetabs","checkTabFocus","toggleTip","lastTriggeredToggleTip","toggleTipTriggerQueryClass","toggleTipContentQueryClass","toggleTipVisibleClass","closeAllToggleTips","toggleTipTriggers","toggleTipTrigger","toggleTipId","linkElement","isToggleTipOpen","openToggleTip","closeToggleTip","previousToggleTip","Modal","modalBtn","open","modalOpenBtn","currentTarget","modalTarget","modalCloseBtns","modalEl","modalUnderlay","focusableElements","firstFocusableElement","focusableContent","lastFocusableElement","events","keydown","close","underlay","callbackFns","callbackKey","alerts","getElementsByClassName","siteName","alertContainer","alert","getCookie","maxHeight","setCookie","initGlobalAlert","CalculateAnimationSpecs","initialSize","stepSize","steps","intervalTime","distance","abs","GetCSSPropertyBecauseIE","space","CalculateAuto","dimension","Stop","clearInterval","QLDanimation","QLDinteration","QLDinterations","animationSpecs","iterateCounter","QLDtoggleState","setInterval","QLDtoggleInteration","QLDtoggleInterations","targetSize","preState","postState","currentSize","returnParam","code","copyButtonAction","copyTextToClipboard","clipboard","writeText","textArea","select","msg","execCommand","removeChild","fallbackCopyTextToClipboard","codes","inlinecodes","copyButtons","showToggle","colorButtons","Prism","highlight","languages","html","inlinecode","codeWrap","tooltip","tooltipText","createTextNode","after","copyButton","showToggleButton","parent","colorButton","_self","lang","uniqueId","plainTextGrammar","_","manual","disableWorkerMessageHandler","util","encode","tokens","Token","alias","isArray","map","o","objId","defineProperty","clone","deepClone","visited","v","getLanguage","m","setLanguage","language","currentScript","src","stack","scripts","getElementsByTagName","isActive","defaultActivation","no","plain","plaintext","txt","extend","redef","inside","before","insert","root","grammar","ret","newToken","old","DFS","propertyType","plugins","highlightAll","highlightAllUnder","container","env","selector","hooks","run","highlightElement","nodeName","insertHighlightedCode","highlightedCode","Worker","worker","filename","onmessage","evt","postMessage","immediateClose","tokenize","rest","tokenList","LinkedList","addAfter","head","matchGrammar","array","tail","toArray","matchedStr","matchPattern","pattern","pos","lookbehind","lastIndex","lookbehindLength","startNode","startPos","rematch","patterns","j","cause","patternObj","greedy","global","flags","source","currentNode","reach","str","removeCount","to","p","k","matchStr","removeFrom","prev","removeRange","nestedRematch","newNode","count","tag","classes","attributes","aliases","message","script","highlightAutomaticallyCallback","readyState","defer","requestAnimationFrame","WorkerGlobalScope","self","module","exports","g","markup","includedCdataInside","def","attrName","mathml","svg","xml","ssml","atom","rss","string","css","addInlined","addAttribute","clike","javascript","regex","js","EXTENSIONS","STATUS_ATTR","STATUS_LOADING","STATUS_LOADED","SELECTOR","pre","extension","autoloader","loadLanguages","xhr","XMLHttpRequest","onreadystatechange","responseText","statusText","send","loadFile","range","start","Number","comma","end","parseRange","lines","max","min","String","fileHighlight","logged","warn","SCROLL_AMOUNT","scrollRight","tabList","ScrollRightBtn","ScrollLeftBtn","scrollLeft","scrollWidth","TabHeader","cusidEle","totalWidth","debounce","updateNavLinks","links","correctSelectors","handleScroll","tabFixInitializer","tabComponent","tabHeadings","tabContentId","tabContent","tabHeading","currentTabIndex","setFocusOnTab","click","tabIndex","TabHeaders","tabLists","toolTip","lastTriggeredToolTipTrigger","toolTipTriggerQueryClass","toolTipContentQueryClass","closeAllToolTips","toolTipTriggers","toolTipTrigger","closeTimeout","toolTipId","openToolTip","closeToolTip"],"sourceRoot":""}