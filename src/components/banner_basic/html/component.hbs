{{#with component.data}}

<!--@@ Banner @@-->
<section id="{{#if metadata.id_field.value}}{{metadata.id_field.value}}{{else}}banner-{{assetid}}{{/if}}" 
    class="
        qld__banner qld__banner__basic
        {{#ifCond metadata.background_colour.value '==' 'light'}}qld__banner--light{{/ifCond}}
        {{#ifCond metadata.background_colour.value '==' 'alternate'}}qld__banner--alt{{/ifCond}} 
        {{#ifCond metadata.background_colour.value '==' 'dark'}}qld__banner--dark{{/ifCond}} 
        {{#ifCond metadata.background_colour.value '==' 'dark-alternate'}}qld__banner--dark-alt{{/ifCond}} 
        
        {{#ifCond metadata.breadcrumbs_display.value '==' 'yes'}}qld__banner--breadcrumbs{{/ifCond}}
    "

>
    <style>
    
    {{#ifCond metadata.background_type.value '==' 'image'}}
        @media (min-width:699px) {
            #banner-{{assetid}} {
                background-image: url(./?a={{metadata.background_image_lg.value}});
                background-size: cover;
                background-repeat: no-repeat;
                background-position-x: {{metadata.background_image_alignment.value}};
            }
        }
    {{/ifCond}}

    {{#ifCond metadata.background_type.value '==' 'texture'}}
        {{#ifCond metadata.background_colour.value '==' 'light'}}
        #banner-{{assetid}} {
            background-image: url(./?a={{../site.metadata.defaultBannerTexture.value}});
        }
        {{/ifCond}}
        {{#ifCond metadata.background_colour.value '==' 'alternate'}}
        #banner-{{assetid}} {
            background-image: url(./?a={{../site.metadata.defaultBannerTexture.value}});
        }
        {{/ifCond}}
        {{#ifCond metadata.background_colour.value '==' 'dark'}}
         #banner-{{assetid}} {
            background-image: url(./?a={{../site.metadata.defaultBannerTextureDark.value}});
        }
        {{/ifCond}}
        {{#ifCond metadata.background_colour.value '==' 'dark-alternate'}}
         #banner-{{assetid}} {
            background-image: url(./?a={{../site.metadata.defaultBannerTextureDark.value}});
        }
        {{/ifCond}}
    {{/ifCond}}

    </style>
    <!--@@ Breadcrumbs - Mobile @@-->
    {{#ifCond metadata.breadcrumbs_display.value '==' 'yes'}}
    <nav class="qld__breadcrumbs {{#ifCond metadata.background_colour.value '==' 'alternate'}}qld__breadcrumbs--alt{{/ifCond}} 
    {{#ifCond metadata.background_colour.value '==' 'dark'}}qld__breadcrumbs--dark{{/ifCond}} 
    {{#ifCond metadata.background_colour.value '==' 'dark-alternate'}}qld__breadcrumbs--dark-alt{{/ifCond}} qld__banner__breadcrumbs qld__banner__breadcrumbs--mobile" aria-label="breadcrumb">
        <div class="qld__link-list qld__link-list--inline">
            {{#with (itemAt ../current.lineage -2)}}
            {{#ifCond asset_type_code '!=' 'folder'}} 
                <div class="qld__breadcrumbs__item">
                    <svg class="qld__icon" xmlns="http://www.w3.org/2000/svg"><use href="{{@root.site.metadata.coreSiteIcons.value}}#chevron-left"></use></svg>
                    <a href="{{asset_url}}" class="qld__breadcrumbs__link">
                        {{#ifCond asset_is_site_asset '==' '1'}}
                            Home
                        {{else}}
                            {{renderSpecialChar asset_short_name}}
                        {{/ifCond}}
                    </a>    
                </div>
            {{/ifCond}}
            {{/with}}
        </div>
    </nav>
    {{/ifCond}}
    <div class="container-fluid">
        <div class="qld__banner__wrapper">
            
            <div class="qld__banner__main row">
                <!--@@ Hero image @@-->
                {{#if metadata.background_image_sm.value}}
                    <div class="qld__banner__hero col-xs-12">
                        <div class="qld__banner__image qld__banner__image--desktop-hide" style="background-image: url('./?a={{metadata.background_image_sm.value}}');"></div>
                    </div>
                {{/if}}

                <div class="qld__banner__content col-xs-12 col-md-12 col-lg-12">
                    <!--@@ Breadcrumbs - Tablet @@-->
                    {{#ifCond metadata.breadcrumbs_display.value '==' 'yes'}}
                        <nav class="qld__breadcrumbs 
                        {{#ifCond metadata.background_colour.value '==' 'dark'}}qld__breadcrumbs--dark{{/ifCond}} 
                        {{#ifCond metadata.background_colour.value '==' 'dark-alternate'}}qld__breadcrumbs--dark{{/ifCond}} 
                        qld__banner__breadcrumbs qld__banner__breadcrumbs--tablet" aria-label="breadcrumb" data-path="{{@root.site.metadata.coreSiteIcons.value}}">
                            <div class="qld__link-list qld__link-list--inline">
                                {{#with (itemAt ../current.lineage -2)}}
                                {{#ifCond asset_type_code '!=' 'folder'}} 
                                    <div class="qld__breadcrumbs__item">
                                        <svg class="qld__icon" xmlns="http://www.w3.org/2000/svg"><use href="{{@root.site.metadata.coreSiteIcons.value}}#chevron-left"></use></svg>
                                        <a href="{{asset_url}}" class="qld__breadcrumbs__link">
                                            {{#ifCond asset_is_site_asset '==' '1'}}
                                                Home
                                            {{else}}
                                                {{renderSpecialChar asset_short_name}}
                                            {{/ifCond}}
                                        </a>    
                                    </div>
                                {{/ifCond}}
                                {{/with}}
                            </div>
                        </nav>
                    {{/ifCond}}
        
                    <!--@@ Breadcrumbs - Desktop @@-->
                    {{#ifCond metadata.breadcrumbs_display.value '==' 'yes'}}
                        <nav class="qld__breadcrumbs 
                        {{#ifCond metadata.background_colour.value '==' 'dark'}}qld__breadcrumbs--dark{{/ifCond}} 
                        {{#ifCond metadata.background_colour.value '==' 'dark-alternate'}}qld__breadcrumbs--dark{{/ifCond}} 
                        qld__banner__breadcrumbs qld__banner__breadcrumbs--desktop" aria-label="breadcrumb" data-path="{{@root.site.metadata.coreSiteIcons.value}}">
                            <ol class="qld__link-list qld__link-list--inline">
                                {{#each ../current.lineage}}  
                                {{#ifCond asset_type_code '!=' 'folder'}}       
                                    <li {{#if @last}}aria-current="page"{{/if}} class="qld__breadcrumbs__item">
                                        {{#if @last}}
                                            {{renderSpecialChar asset_short_name}}
                                        {{else}}
                                        <a href="{{asset_url}}" class="qld__breadcrumbs__link">{{#if @first}}Home{{else}}{{renderSpecialChar asset_short_name}}{{/if}}</a>   
                                        {{/if}}
                                    </li>
                                    {{#unless @last}}
                                        <svg class="qld__icon" xmlns="http://www.w3.org/2000/svg"><use href="{{@root.site.metadata.coreSiteIcons.value}}#chevron-right"></use></svg>
                                    {{/unless}}
                                {{/ifCond}}
                                {{/each}}
                            </ol>
                        </nav>
                    {{/ifCond}}

                    <!--@@ Heading(s) @@-->
                    <h1>{{metadata.heading_primary.value}}</h1>

                    <!--@@ Abstract @@-->
                    {{#if metadata.abstract.value}}
                        <div class="qld__banner__content--body qld__abstract">{{{metadata.abstract.value}}}</div>
                    {{/if}}
                    
                </div>
            </div>
        </div>
    </div>
</section>

{{/with}}